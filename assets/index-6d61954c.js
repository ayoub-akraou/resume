function NP(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in n)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();function M6(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var w6={exports:{}},Dm={},E6={exports:{}},Dt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uf=Symbol.for("react.element"),DP=Symbol.for("react.portal"),UP=Symbol.for("react.fragment"),kP=Symbol.for("react.strict_mode"),OP=Symbol.for("react.profiler"),FP=Symbol.for("react.provider"),zP=Symbol.for("react.context"),BP=Symbol.for("react.forward_ref"),VP=Symbol.for("react.suspense"),HP=Symbol.for("react.memo"),GP=Symbol.for("react.lazy"),K4=Symbol.iterator;function WP(n){return n===null||typeof n!="object"?null:(n=K4&&n[K4]||n["@@iterator"],typeof n=="function"?n:null)}var T6={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A6=Object.assign,b6={};function Yc(n,e,t){this.props=n,this.context=e,this.refs=b6,this.updater=t||T6}Yc.prototype.isReactComponent={};Yc.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};Yc.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function C6(){}C6.prototype=Yc.prototype;function mx(n,e,t){this.props=n,this.context=e,this.refs=b6,this.updater=t||T6}var gx=mx.prototype=new C6;gx.constructor=mx;A6(gx,Yc.prototype);gx.isPureReactComponent=!0;var $4=Array.isArray,P6=Object.prototype.hasOwnProperty,vx={current:null},R6={key:!0,ref:!0,__self:!0,__source:!0};function I6(n,e,t){var i,r={},s=null,o=null;if(e!=null)for(i in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)P6.call(e,i)&&!R6.hasOwnProperty(i)&&(r[i]=e[i]);var a=arguments.length-2;if(a===1)r.children=t;else if(1<a){for(var l=Array(a),h=0;h<a;h++)l[h]=arguments[h+2];r.children=l}if(n&&n.defaultProps)for(i in a=n.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return{$$typeof:uf,type:n,key:s,ref:o,props:r,_owner:vx.current}}function jP(n,e){return{$$typeof:uf,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function yx(n){return typeof n=="object"&&n!==null&&n.$$typeof===uf}function XP(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var J4=/\/+/g;function Jg(n,e){return typeof n=="object"&&n!==null&&n.key!=null?XP(""+n.key):e.toString(36)}function W0(n,e,t,i,r){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case uf:case DP:o=!0}}if(o)return o=n,r=r(o),n=i===""?"."+Jg(o,0):i,$4(r)?(t="",n!=null&&(t=n.replace(J4,"$&/")+"/"),W0(r,e,t,"",function(h){return h})):r!=null&&(yx(r)&&(r=jP(r,t+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(J4,"$&/")+"/")+n)),e.push(r)),1;if(o=0,i=i===""?".":i+":",$4(n))for(var a=0;a<n.length;a++){s=n[a];var l=i+Jg(s,a);o+=W0(s,e,t,l,r)}else if(l=WP(n),typeof l=="function")for(n=l.call(n),a=0;!(s=n.next()).done;)s=s.value,l=i+Jg(s,a++),o+=W0(s,e,t,l,r);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Pd(n,e,t){if(n==null)return n;var i=[],r=0;return W0(n,i,"","",function(s){return e.call(t,s,r++)}),i}function qP(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var Ei={current:null},j0={transition:null},YP={ReactCurrentDispatcher:Ei,ReactCurrentBatchConfig:j0,ReactCurrentOwner:vx};function L6(){throw Error("act(...) is not supported in production builds of React.")}Dt.Children={map:Pd,forEach:function(n,e,t){Pd(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return Pd(n,function(){e++}),e},toArray:function(n){return Pd(n,function(e){return e})||[]},only:function(n){if(!yx(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};Dt.Component=Yc;Dt.Fragment=UP;Dt.Profiler=OP;Dt.PureComponent=mx;Dt.StrictMode=kP;Dt.Suspense=VP;Dt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=YP;Dt.act=L6;Dt.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var i=A6({},n.props),r=n.key,s=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=vx.current),e.key!==void 0&&(r=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)P6.call(e,l)&&!R6.hasOwnProperty(l)&&(i[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)i.children=t;else if(1<l){a=Array(l);for(var h=0;h<l;h++)a[h]=arguments[h+2];i.children=a}return{$$typeof:uf,type:n.type,key:r,ref:s,props:i,_owner:o}};Dt.createContext=function(n){return n={$$typeof:zP,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:FP,_context:n},n.Consumer=n};Dt.createElement=I6;Dt.createFactory=function(n){var e=I6.bind(null,n);return e.type=n,e};Dt.createRef=function(){return{current:null}};Dt.forwardRef=function(n){return{$$typeof:BP,render:n}};Dt.isValidElement=yx;Dt.lazy=function(n){return{$$typeof:GP,_payload:{_status:-1,_result:n},_init:qP}};Dt.memo=function(n,e){return{$$typeof:HP,type:n,compare:e===void 0?null:e}};Dt.startTransition=function(n){var e=j0.transition;j0.transition={};try{n()}finally{j0.transition=e}};Dt.unstable_act=L6;Dt.useCallback=function(n,e){return Ei.current.useCallback(n,e)};Dt.useContext=function(n){return Ei.current.useContext(n)};Dt.useDebugValue=function(){};Dt.useDeferredValue=function(n){return Ei.current.useDeferredValue(n)};Dt.useEffect=function(n,e){return Ei.current.useEffect(n,e)};Dt.useId=function(){return Ei.current.useId()};Dt.useImperativeHandle=function(n,e,t){return Ei.current.useImperativeHandle(n,e,t)};Dt.useInsertionEffect=function(n,e){return Ei.current.useInsertionEffect(n,e)};Dt.useLayoutEffect=function(n,e){return Ei.current.useLayoutEffect(n,e)};Dt.useMemo=function(n,e){return Ei.current.useMemo(n,e)};Dt.useReducer=function(n,e,t){return Ei.current.useReducer(n,e,t)};Dt.useRef=function(n){return Ei.current.useRef(n)};Dt.useState=function(n){return Ei.current.useState(n)};Dt.useSyncExternalStore=function(n,e,t){return Ei.current.useSyncExternalStore(n,e,t)};Dt.useTransition=function(){return Ei.current.useTransition()};Dt.version="18.3.1";E6.exports=Dt;var G=E6.exports;const er=M6(G),ZP=NP({__proto__:null,default:er},[G]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KP=G,$P=Symbol.for("react.element"),JP=Symbol.for("react.fragment"),QP=Object.prototype.hasOwnProperty,eR=KP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,tR={key:!0,ref:!0,__self:!0,__source:!0};function N6(n,e,t){var i,r={},s=null,o=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(i in e)QP.call(e,i)&&!tR.hasOwnProperty(i)&&(r[i]=e[i]);if(n&&n.defaultProps)for(i in e=n.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:$P,type:n,key:s,ref:o,props:r,_owner:eR.current}}Dm.Fragment=JP;Dm.jsx=N6;Dm.jsxs=N6;w6.exports=Dm;var N=w6.exports,O2={},D6={exports:{}},or={},U6={exports:{}},k6={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(U,W){var H=U.length;U.push(W);e:for(;0<H;){var Z=H-1>>>1,de=U[Z];if(0<r(de,W))U[Z]=W,U[H]=de,H=Z;else break e}}function t(U){return U.length===0?null:U[0]}function i(U){if(U.length===0)return null;var W=U[0],H=U.pop();if(H!==W){U[0]=H;e:for(var Z=0,de=U.length,Te=de>>>1;Z<Te;){var ie=2*(Z+1)-1,_e=U[ie],we=ie+1,Ae=U[we];if(0>r(_e,H))we<de&&0>r(Ae,_e)?(U[Z]=Ae,U[we]=H,Z=we):(U[Z]=_e,U[ie]=H,Z=ie);else if(we<de&&0>r(Ae,H))U[Z]=Ae,U[we]=H,Z=we;else break e}}return W}function r(U,W){var H=U.sortIndex-W.sortIndex;return H!==0?H:U.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],h=[],f=1,d=null,p=3,m=!1,y=!1,w=!1,S=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function M(U){for(var W=t(h);W!==null;){if(W.callback===null)i(h);else if(W.startTime<=U)i(h),W.sortIndex=W.expirationTime,e(l,W);else break;W=t(h)}}function E(U){if(w=!1,M(U),!y)if(t(l)!==null)y=!0,te(C);else{var W=t(h);W!==null&&le(E,W.startTime-U)}}function C(U,W){y=!1,w&&(w=!1,g(L),L=-1),m=!0;var H=p;try{for(M(W),d=t(l);d!==null&&(!(d.expirationTime>W)||U&&!k());){var Z=d.callback;if(typeof Z=="function"){d.callback=null,p=d.priorityLevel;var de=Z(d.expirationTime<=W);W=n.unstable_now(),typeof de=="function"?d.callback=de:d===t(l)&&i(l),M(W)}else i(l);d=t(l)}if(d!==null)var Te=!0;else{var ie=t(h);ie!==null&&le(E,ie.startTime-W),Te=!1}return Te}finally{d=null,p=H,m=!1}}var P=!1,I=null,L=-1,R=5,A=-1;function k(){return!(n.unstable_now()-A<R)}function X(){if(I!==null){var U=n.unstable_now();A=U;var W=!0;try{W=I(!0,U)}finally{W?q():(P=!1,I=null)}}else P=!1}var q;if(typeof x=="function")q=function(){x(X)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,se=ne.port2;ne.port1.onmessage=X,q=function(){se.postMessage(null)}}else q=function(){S(X,0)};function te(U){I=U,P||(P=!0,q())}function le(U,W){L=S(function(){U(n.unstable_now())},W)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(U){U.callback=null},n.unstable_continueExecution=function(){y||m||(y=!0,te(C))},n.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<U?Math.floor(1e3/U):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(U){switch(p){case 1:case 2:case 3:var W=3;break;default:W=p}var H=p;p=W;try{return U()}finally{p=H}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(U,W){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var H=p;p=U;try{return W()}finally{p=H}},n.unstable_scheduleCallback=function(U,W,H){var Z=n.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?Z+H:Z):H=Z,U){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=H+de,U={id:f++,callback:W,priorityLevel:U,startTime:H,expirationTime:de,sortIndex:-1},H>Z?(U.sortIndex=H,e(h,U),t(l)===null&&U===t(h)&&(w?(g(L),L=-1):w=!0,le(E,H-Z))):(U.sortIndex=de,e(l,U),y||m||(y=!0,te(C))),U},n.unstable_shouldYield=k,n.unstable_wrapCallback=function(U){var W=p;return function(){var H=p;p=W;try{return U.apply(this,arguments)}finally{p=H}}}})(k6);U6.exports=k6;var nR=U6.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iR=G,ir=nR;function Pe(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var O6=new Set,Eh={};function ll(n,e){Pc(n,e),Pc(n+"Capture",e)}function Pc(n,e){for(Eh[n]=e,n=0;n<e.length;n++)O6.add(e[n])}var Ws=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),F2=Object.prototype.hasOwnProperty,rR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Q4={},eS={};function sR(n){return F2.call(eS,n)?!0:F2.call(Q4,n)?!1:rR.test(n)?eS[n]=!0:(Q4[n]=!0,!1)}function oR(n,e,t,i){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function aR(n,e,t,i){if(e===null||typeof e>"u"||oR(n,e,t,i))return!0;if(i)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ti(n,e,t,i,r,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Kn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){Kn[n]=new Ti(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];Kn[e]=new Ti(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){Kn[n]=new Ti(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){Kn[n]=new Ti(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){Kn[n]=new Ti(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){Kn[n]=new Ti(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){Kn[n]=new Ti(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){Kn[n]=new Ti(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){Kn[n]=new Ti(n,5,!1,n.toLowerCase(),null,!1,!1)});var xx=/[\-:]([a-z])/g;function _x(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(xx,_x);Kn[e]=new Ti(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(xx,_x);Kn[e]=new Ti(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(xx,_x);Kn[e]=new Ti(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){Kn[n]=new Ti(n,1,!1,n.toLowerCase(),null,!1,!1)});Kn.xlinkHref=new Ti("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){Kn[n]=new Ti(n,1,!1,n.toLowerCase(),null,!0,!0)});function Sx(n,e,t,i){var r=Kn.hasOwnProperty(e)?Kn[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(aR(e,t,r,i)&&(t=null),i||r===null?sR(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):r.mustUseProperty?n[r.propertyName]=t===null?r.type===3?!1:"":t:(e=r.attributeName,i=r.attributeNamespace,t===null?n.removeAttribute(e):(r=r.type,t=r===3||r===4&&t===!0?"":""+t,i?n.setAttributeNS(i,e,t):n.setAttribute(e,t))))}var Qs=iR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Rd=Symbol.for("react.element"),tc=Symbol.for("react.portal"),nc=Symbol.for("react.fragment"),Mx=Symbol.for("react.strict_mode"),z2=Symbol.for("react.profiler"),F6=Symbol.for("react.provider"),z6=Symbol.for("react.context"),wx=Symbol.for("react.forward_ref"),B2=Symbol.for("react.suspense"),V2=Symbol.for("react.suspense_list"),Ex=Symbol.for("react.memo"),Mo=Symbol.for("react.lazy"),B6=Symbol.for("react.offscreen"),tS=Symbol.iterator;function Mu(n){return n===null||typeof n!="object"?null:(n=tS&&n[tS]||n["@@iterator"],typeof n=="function"?n:null)}var fn=Object.assign,Qg;function Xu(n){if(Qg===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);Qg=e&&e[1]||""}return`
`+Qg+n}var ev=!1;function tv(n,e){if(!n||ev)return"";ev=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(h){var i=h}Reflect.construct(n,[],e)}else{try{e.call()}catch(h){i=h}n.call(e.prototype)}else{try{throw Error()}catch(h){i=h}n()}}catch(h){if(h&&i&&typeof h.stack=="string"){for(var r=h.stack.split(`
`),s=i.stack.split(`
`),o=r.length-1,a=s.length-1;1<=o&&0<=a&&r[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||r[o]!==s[a]){var l=`
`+r[o].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=o&&0<=a);break}}}finally{ev=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?Xu(n):""}function lR(n){switch(n.tag){case 5:return Xu(n.type);case 16:return Xu("Lazy");case 13:return Xu("Suspense");case 19:return Xu("SuspenseList");case 0:case 2:case 15:return n=tv(n.type,!1),n;case 11:return n=tv(n.type.render,!1),n;case 1:return n=tv(n.type,!0),n;default:return""}}function H2(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case nc:return"Fragment";case tc:return"Portal";case z2:return"Profiler";case Mx:return"StrictMode";case B2:return"Suspense";case V2:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case z6:return(n.displayName||"Context")+".Consumer";case F6:return(n._context.displayName||"Context")+".Provider";case wx:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Ex:return e=n.displayName||null,e!==null?e:H2(n.type)||"Memo";case Mo:e=n._payload,n=n._init;try{return H2(n(e))}catch{}}return null}function cR(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return H2(e);case 8:return e===Mx?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function jo(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function V6(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function uR(n){var e=V6(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),i=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var r=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){i=""+o,s.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function Id(n){n._valueTracker||(n._valueTracker=uR(n))}function H6(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),i="";return n&&(i=V6(n)?n.checked?"true":"false":n.value),n=i,n!==t?(e.setValue(n),!0):!1}function cp(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function G2(n,e){var t=e.checked;return fn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function nS(n,e){var t=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;t=jo(e.value!=null?e.value:t),n._wrapperState={initialChecked:i,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function G6(n,e){e=e.checked,e!=null&&Sx(n,"checked",e,!1)}function W2(n,e){G6(n,e);var t=jo(e.value),i=e.type;if(t!=null)i==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(i==="submit"||i==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?j2(n,e.type,t):e.hasOwnProperty("defaultValue")&&j2(n,e.type,jo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function iS(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function j2(n,e,t){(e!=="number"||cp(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var qu=Array.isArray;function Mc(n,e,t,i){if(n=n.options,e){e={};for(var r=0;r<t.length;r++)e["$"+t[r]]=!0;for(t=0;t<n.length;t++)r=e.hasOwnProperty("$"+n[t].value),n[t].selected!==r&&(n[t].selected=r),r&&i&&(n[t].defaultSelected=!0)}else{for(t=""+jo(t),e=null,r=0;r<n.length;r++){if(n[r].value===t){n[r].selected=!0,i&&(n[r].defaultSelected=!0);return}e!==null||n[r].disabled||(e=n[r])}e!==null&&(e.selected=!0)}}function X2(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Pe(91));return fn({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function rS(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(Pe(92));if(qu(t)){if(1<t.length)throw Error(Pe(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:jo(t)}}function W6(n,e){var t=jo(e.value),i=jo(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),i!=null&&(n.defaultValue=""+i)}function sS(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function j6(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function q2(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?j6(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Ld,X6=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,i,r){MSApp.execUnsafeLocalFunction(function(){return n(e,t,i,r)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(Ld=Ld||document.createElement("div"),Ld.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ld.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function Th(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var th={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},hR=["Webkit","ms","Moz","O"];Object.keys(th).forEach(function(n){hR.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),th[e]=th[n]})});function q6(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||th.hasOwnProperty(n)&&th[n]?(""+e).trim():e+"px"}function Y6(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var i=t.indexOf("--")===0,r=q6(t,e[t],i);t==="float"&&(t="cssFloat"),i?n.setProperty(t,r):n[t]=r}}var fR=fn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Y2(n,e){if(e){if(fR[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Pe(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Pe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Pe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Pe(62))}}function Z2(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var K2=null;function Tx(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var $2=null,wc=null,Ec=null;function oS(n){if(n=df(n)){if(typeof $2!="function")throw Error(Pe(280));var e=n.stateNode;e&&(e=zm(e),$2(n.stateNode,n.type,e))}}function Z6(n){wc?Ec?Ec.push(n):Ec=[n]:wc=n}function K6(){if(wc){var n=wc,e=Ec;if(Ec=wc=null,oS(n),e)for(n=0;n<e.length;n++)oS(e[n])}}function $6(n,e){return n(e)}function J6(){}var nv=!1;function Q6(n,e,t){if(nv)return n(e,t);nv=!0;try{return $6(n,e,t)}finally{nv=!1,(wc!==null||Ec!==null)&&(J6(),K6())}}function Ah(n,e){var t=n.stateNode;if(t===null)return null;var i=zm(t);if(i===null)return null;t=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(n=n.type,i=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!i;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(Pe(231,e,typeof t));return t}var J2=!1;if(Ws)try{var wu={};Object.defineProperty(wu,"passive",{get:function(){J2=!0}}),window.addEventListener("test",wu,wu),window.removeEventListener("test",wu,wu)}catch{J2=!1}function dR(n,e,t,i,r,s,o,a,l){var h=Array.prototype.slice.call(arguments,3);try{e.apply(t,h)}catch(f){this.onError(f)}}var nh=!1,up=null,hp=!1,Q2=null,pR={onError:function(n){nh=!0,up=n}};function mR(n,e,t,i,r,s,o,a,l){nh=!1,up=null,dR.apply(pR,arguments)}function gR(n,e,t,i,r,s,o,a,l){if(mR.apply(this,arguments),nh){if(nh){var h=up;nh=!1,up=null}else throw Error(Pe(198));hp||(hp=!0,Q2=h)}}function cl(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function eE(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function aS(n){if(cl(n)!==n)throw Error(Pe(188))}function vR(n){var e=n.alternate;if(!e){if(e=cl(n),e===null)throw Error(Pe(188));return e!==n?null:n}for(var t=n,i=e;;){var r=t.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){t=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===t)return aS(r),n;if(s===i)return aS(r),e;s=s.sibling}throw Error(Pe(188))}if(t.return!==i.return)t=r,i=s;else{for(var o=!1,a=r.child;a;){if(a===t){o=!0,t=r,i=s;break}if(a===i){o=!0,i=r,t=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===t){o=!0,t=s,i=r;break}if(a===i){o=!0,i=s,t=r;break}a=a.sibling}if(!o)throw Error(Pe(189))}}if(t.alternate!==i)throw Error(Pe(190))}if(t.tag!==3)throw Error(Pe(188));return t.stateNode.current===t?n:e}function tE(n){return n=vR(n),n!==null?nE(n):null}function nE(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=nE(n);if(e!==null)return e;n=n.sibling}return null}var iE=ir.unstable_scheduleCallback,lS=ir.unstable_cancelCallback,yR=ir.unstable_shouldYield,xR=ir.unstable_requestPaint,Sn=ir.unstable_now,_R=ir.unstable_getCurrentPriorityLevel,Ax=ir.unstable_ImmediatePriority,rE=ir.unstable_UserBlockingPriority,fp=ir.unstable_NormalPriority,SR=ir.unstable_LowPriority,sE=ir.unstable_IdlePriority,Um=null,cs=null;function MR(n){if(cs&&typeof cs.onCommitFiberRoot=="function")try{cs.onCommitFiberRoot(Um,n,void 0,(n.current.flags&128)===128)}catch{}}var Hr=Math.clz32?Math.clz32:TR,wR=Math.log,ER=Math.LN2;function TR(n){return n>>>=0,n===0?32:31-(wR(n)/ER|0)|0}var Nd=64,Dd=4194304;function Yu(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function dp(n,e){var t=n.pendingLanes;if(t===0)return 0;var i=0,r=n.suspendedLanes,s=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~r;a!==0?i=Yu(a):(s&=o,s!==0&&(i=Yu(s)))}else o=t&~r,o!==0?i=Yu(o):s!==0&&(i=Yu(s));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,s=e&-e,r>=s||r===16&&(s&4194240)!==0))return e;if(i&4&&(i|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=i;0<e;)t=31-Hr(e),r=1<<t,i|=n[t],e&=~r;return i}function AR(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bR(n,e){for(var t=n.suspendedLanes,i=n.pingedLanes,r=n.expirationTimes,s=n.pendingLanes;0<s;){var o=31-Hr(s),a=1<<o,l=r[o];l===-1?(!(a&t)||a&i)&&(r[o]=AR(a,e)):l<=e&&(n.expiredLanes|=a),s&=~a}}function ey(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function oE(){var n=Nd;return Nd<<=1,!(Nd&4194240)&&(Nd=64),n}function iv(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function hf(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-Hr(e),n[e]=t}function CR(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var i=n.eventTimes;for(n=n.expirationTimes;0<t;){var r=31-Hr(t),s=1<<r;e[r]=0,i[r]=-1,n[r]=-1,t&=~s}}function bx(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var i=31-Hr(t),r=1<<i;r&e|n[i]&e&&(n[i]|=e),t&=~r}}var Yt=0;function aE(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var lE,Cx,cE,uE,hE,ty=!1,Ud=[],Lo=null,No=null,Do=null,bh=new Map,Ch=new Map,To=[],PR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function cS(n,e){switch(n){case"focusin":case"focusout":Lo=null;break;case"dragenter":case"dragleave":No=null;break;case"mouseover":case"mouseout":Do=null;break;case"pointerover":case"pointerout":bh.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ch.delete(e.pointerId)}}function Eu(n,e,t,i,r,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=df(e),e!==null&&Cx(e)),n):(n.eventSystemFlags|=i,e=n.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),n)}function RR(n,e,t,i,r){switch(e){case"focusin":return Lo=Eu(Lo,n,e,t,i,r),!0;case"dragenter":return No=Eu(No,n,e,t,i,r),!0;case"mouseover":return Do=Eu(Do,n,e,t,i,r),!0;case"pointerover":var s=r.pointerId;return bh.set(s,Eu(bh.get(s)||null,n,e,t,i,r)),!0;case"gotpointercapture":return s=r.pointerId,Ch.set(s,Eu(Ch.get(s)||null,n,e,t,i,r)),!0}return!1}function fE(n){var e=Ba(n.target);if(e!==null){var t=cl(e);if(t!==null){if(e=t.tag,e===13){if(e=eE(t),e!==null){n.blockedOn=e,hE(n.priority,function(){cE(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function X0(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=ny(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var i=new t.constructor(t.type,t);K2=i,t.target.dispatchEvent(i),K2=null}else return e=df(t),e!==null&&Cx(e),n.blockedOn=t,!1;e.shift()}return!0}function uS(n,e,t){X0(n)&&t.delete(e)}function IR(){ty=!1,Lo!==null&&X0(Lo)&&(Lo=null),No!==null&&X0(No)&&(No=null),Do!==null&&X0(Do)&&(Do=null),bh.forEach(uS),Ch.forEach(uS)}function Tu(n,e){n.blockedOn===e&&(n.blockedOn=null,ty||(ty=!0,ir.unstable_scheduleCallback(ir.unstable_NormalPriority,IR)))}function Ph(n){function e(r){return Tu(r,n)}if(0<Ud.length){Tu(Ud[0],n);for(var t=1;t<Ud.length;t++){var i=Ud[t];i.blockedOn===n&&(i.blockedOn=null)}}for(Lo!==null&&Tu(Lo,n),No!==null&&Tu(No,n),Do!==null&&Tu(Do,n),bh.forEach(e),Ch.forEach(e),t=0;t<To.length;t++)i=To[t],i.blockedOn===n&&(i.blockedOn=null);for(;0<To.length&&(t=To[0],t.blockedOn===null);)fE(t),t.blockedOn===null&&To.shift()}var Tc=Qs.ReactCurrentBatchConfig,pp=!0;function LR(n,e,t,i){var r=Yt,s=Tc.transition;Tc.transition=null;try{Yt=1,Px(n,e,t,i)}finally{Yt=r,Tc.transition=s}}function NR(n,e,t,i){var r=Yt,s=Tc.transition;Tc.transition=null;try{Yt=4,Px(n,e,t,i)}finally{Yt=r,Tc.transition=s}}function Px(n,e,t,i){if(pp){var r=ny(n,e,t,i);if(r===null)dv(n,e,i,mp,t),cS(n,i);else if(RR(r,n,e,t,i))i.stopPropagation();else if(cS(n,i),e&4&&-1<PR.indexOf(n)){for(;r!==null;){var s=df(r);if(s!==null&&lE(s),s=ny(n,e,t,i),s===null&&dv(n,e,i,mp,t),s===r)break;r=s}r!==null&&i.stopPropagation()}else dv(n,e,i,null,t)}}var mp=null;function ny(n,e,t,i){if(mp=null,n=Tx(i),n=Ba(n),n!==null)if(e=cl(n),e===null)n=null;else if(t=e.tag,t===13){if(n=eE(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return mp=n,null}function dE(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_R()){case Ax:return 1;case rE:return 4;case fp:case SR:return 16;case sE:return 536870912;default:return 16}default:return 16}}var Co=null,Rx=null,q0=null;function pE(){if(q0)return q0;var n,e=Rx,t=e.length,i,r="value"in Co?Co.value:Co.textContent,s=r.length;for(n=0;n<t&&e[n]===r[n];n++);var o=t-n;for(i=1;i<=o&&e[t-i]===r[s-i];i++);return q0=r.slice(n,1<i?1-i:void 0)}function Y0(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function kd(){return!0}function hS(){return!1}function ar(n){function e(t,i,r,s,o){this._reactName=t,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?kd:hS,this.isPropagationStopped=hS,this}return fn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=kd)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=kd)},persist:function(){},isPersistent:kd}),e}var Zc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ix=ar(Zc),ff=fn({},Zc,{view:0,detail:0}),DR=ar(ff),rv,sv,Au,km=fn({},ff,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lx,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Au&&(Au&&n.type==="mousemove"?(rv=n.screenX-Au.screenX,sv=n.screenY-Au.screenY):sv=rv=0,Au=n),rv)},movementY:function(n){return"movementY"in n?n.movementY:sv}}),fS=ar(km),UR=fn({},km,{dataTransfer:0}),kR=ar(UR),OR=fn({},ff,{relatedTarget:0}),ov=ar(OR),FR=fn({},Zc,{animationName:0,elapsedTime:0,pseudoElement:0}),zR=ar(FR),BR=fn({},Zc,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),VR=ar(BR),HR=fn({},Zc,{data:0}),dS=ar(HR),GR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},WR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function XR(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=jR[n])?!!e[n]:!1}function Lx(){return XR}var qR=fn({},ff,{key:function(n){if(n.key){var e=GR[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=Y0(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?WR[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lx,charCode:function(n){return n.type==="keypress"?Y0(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Y0(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),YR=ar(qR),ZR=fn({},km,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pS=ar(ZR),KR=fn({},ff,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lx}),$R=ar(KR),JR=fn({},Zc,{propertyName:0,elapsedTime:0,pseudoElement:0}),QR=ar(JR),e9=fn({},km,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),t9=ar(e9),n9=[9,13,27,32],Nx=Ws&&"CompositionEvent"in window,ih=null;Ws&&"documentMode"in document&&(ih=document.documentMode);var i9=Ws&&"TextEvent"in window&&!ih,mE=Ws&&(!Nx||ih&&8<ih&&11>=ih),mS=String.fromCharCode(32),gS=!1;function gE(n,e){switch(n){case"keyup":return n9.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vE(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var ic=!1;function r9(n,e){switch(n){case"compositionend":return vE(e);case"keypress":return e.which!==32?null:(gS=!0,mS);case"textInput":return n=e.data,n===mS&&gS?null:n;default:return null}}function s9(n,e){if(ic)return n==="compositionend"||!Nx&&gE(n,e)?(n=pE(),q0=Rx=Co=null,ic=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return mE&&e.locale!=="ko"?null:e.data;default:return null}}var o9={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vS(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!o9[n.type]:e==="textarea"}function yE(n,e,t,i){Z6(i),e=gp(e,"onChange"),0<e.length&&(t=new Ix("onChange","change",null,t,i),n.push({event:t,listeners:e}))}var rh=null,Rh=null;function a9(n){PE(n,0)}function Om(n){var e=oc(n);if(H6(e))return n}function l9(n,e){if(n==="change")return e}var xE=!1;if(Ws){var av;if(Ws){var lv="oninput"in document;if(!lv){var yS=document.createElement("div");yS.setAttribute("oninput","return;"),lv=typeof yS.oninput=="function"}av=lv}else av=!1;xE=av&&(!document.documentMode||9<document.documentMode)}function xS(){rh&&(rh.detachEvent("onpropertychange",_E),Rh=rh=null)}function _E(n){if(n.propertyName==="value"&&Om(Rh)){var e=[];yE(e,Rh,n,Tx(n)),Q6(a9,e)}}function c9(n,e,t){n==="focusin"?(xS(),rh=e,Rh=t,rh.attachEvent("onpropertychange",_E)):n==="focusout"&&xS()}function u9(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Om(Rh)}function h9(n,e){if(n==="click")return Om(e)}function f9(n,e){if(n==="input"||n==="change")return Om(e)}function d9(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var Wr=typeof Object.is=="function"?Object.is:d9;function Ih(n,e){if(Wr(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),i=Object.keys(e);if(t.length!==i.length)return!1;for(i=0;i<t.length;i++){var r=t[i];if(!F2.call(e,r)||!Wr(n[r],e[r]))return!1}return!0}function _S(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function SS(n,e){var t=_S(n);n=0;for(var i;t;){if(t.nodeType===3){if(i=n+t.textContent.length,n<=e&&i>=e)return{node:t,offset:e-n};n=i}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=_S(t)}}function SE(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?SE(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function ME(){for(var n=window,e=cp();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=cp(n.document)}return e}function Dx(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function p9(n){var e=ME(),t=n.focusedElem,i=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&SE(t.ownerDocument.documentElement,t)){if(i!==null&&Dx(t)){if(e=i.start,n=i.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var r=t.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!n.extend&&s>i&&(r=i,i=s,s=r),r=SS(t,s);var o=SS(t,i);r&&o&&(n.rangeCount!==1||n.anchorNode!==r.node||n.anchorOffset!==r.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),n.removeAllRanges(),s>i?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var m9=Ws&&"documentMode"in document&&11>=document.documentMode,rc=null,iy=null,sh=null,ry=!1;function MS(n,e,t){var i=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;ry||rc==null||rc!==cp(i)||(i=rc,"selectionStart"in i&&Dx(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),sh&&Ih(sh,i)||(sh=i,i=gp(iy,"onSelect"),0<i.length&&(e=new Ix("onSelect","select",null,e,t),n.push({event:e,listeners:i}),e.target=rc)))}function Od(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var sc={animationend:Od("Animation","AnimationEnd"),animationiteration:Od("Animation","AnimationIteration"),animationstart:Od("Animation","AnimationStart"),transitionend:Od("Transition","TransitionEnd")},cv={},wE={};Ws&&(wE=document.createElement("div").style,"AnimationEvent"in window||(delete sc.animationend.animation,delete sc.animationiteration.animation,delete sc.animationstart.animation),"TransitionEvent"in window||delete sc.transitionend.transition);function Fm(n){if(cv[n])return cv[n];if(!sc[n])return n;var e=sc[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in wE)return cv[n]=e[t];return n}var EE=Fm("animationend"),TE=Fm("animationiteration"),AE=Fm("animationstart"),bE=Fm("transitionend"),CE=new Map,wS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $o(n,e){CE.set(n,e),ll(e,[n])}for(var uv=0;uv<wS.length;uv++){var hv=wS[uv],g9=hv.toLowerCase(),v9=hv[0].toUpperCase()+hv.slice(1);$o(g9,"on"+v9)}$o(EE,"onAnimationEnd");$o(TE,"onAnimationIteration");$o(AE,"onAnimationStart");$o("dblclick","onDoubleClick");$o("focusin","onFocus");$o("focusout","onBlur");$o(bE,"onTransitionEnd");Pc("onMouseEnter",["mouseout","mouseover"]);Pc("onMouseLeave",["mouseout","mouseover"]);Pc("onPointerEnter",["pointerout","pointerover"]);Pc("onPointerLeave",["pointerout","pointerover"]);ll("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ll("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ll("onBeforeInput",["compositionend","keypress","textInput","paste"]);ll("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ll("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ll("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),y9=new Set("cancel close invalid load scroll toggle".split(" ").concat(Zu));function ES(n,e,t){var i=n.type||"unknown-event";n.currentTarget=t,gR(i,e,void 0,n),n.currentTarget=null}function PE(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var i=n[t],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,h=a.currentTarget;if(a=a.listener,l!==s&&r.isPropagationStopped())break e;ES(r,a,h),s=l}else for(o=0;o<i.length;o++){if(a=i[o],l=a.instance,h=a.currentTarget,a=a.listener,l!==s&&r.isPropagationStopped())break e;ES(r,a,h),s=l}}}if(hp)throw n=Q2,hp=!1,Q2=null,n}function tn(n,e){var t=e[cy];t===void 0&&(t=e[cy]=new Set);var i=n+"__bubble";t.has(i)||(RE(e,n,2,!1),t.add(i))}function fv(n,e,t){var i=0;e&&(i|=4),RE(t,n,i,e)}var Fd="_reactListening"+Math.random().toString(36).slice(2);function Lh(n){if(!n[Fd]){n[Fd]=!0,O6.forEach(function(t){t!=="selectionchange"&&(y9.has(t)||fv(t,!1,n),fv(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[Fd]||(e[Fd]=!0,fv("selectionchange",!1,e))}}function RE(n,e,t,i){switch(dE(e)){case 1:var r=LR;break;case 4:r=NR;break;default:r=Px}t=r.bind(null,e,t,n),r=void 0,!J2||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?n.addEventListener(e,t,{capture:!0,passive:r}):n.addEventListener(e,t,!0):r!==void 0?n.addEventListener(e,t,{passive:r}):n.addEventListener(e,t,!1)}function dv(n,e,t,i,r){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var a=i.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(o===4)for(o=i.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;o=o.return}for(;a!==null;){if(o=Ba(a),o===null)return;if(l=o.tag,l===5||l===6){i=s=o;continue e}a=a.parentNode}}i=i.return}Q6(function(){var h=s,f=Tx(t),d=[];e:{var p=CE.get(n);if(p!==void 0){var m=Ix,y=n;switch(n){case"keypress":if(Y0(t)===0)break e;case"keydown":case"keyup":m=YR;break;case"focusin":y="focus",m=ov;break;case"focusout":y="blur",m=ov;break;case"beforeblur":case"afterblur":m=ov;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=fS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=kR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=$R;break;case EE:case TE:case AE:m=zR;break;case bE:m=QR;break;case"scroll":m=DR;break;case"wheel":m=t9;break;case"copy":case"cut":case"paste":m=VR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=pS}var w=(e&4)!==0,S=!w&&n==="scroll",g=w?p!==null?p+"Capture":null:p;w=[];for(var x=h,M;x!==null;){M=x;var E=M.stateNode;if(M.tag===5&&E!==null&&(M=E,g!==null&&(E=Ah(x,g),E!=null&&w.push(Nh(x,E,M)))),S)break;x=x.return}0<w.length&&(p=new m(p,y,null,t,f),d.push({event:p,listeners:w}))}}if(!(e&7)){e:{if(p=n==="mouseover"||n==="pointerover",m=n==="mouseout"||n==="pointerout",p&&t!==K2&&(y=t.relatedTarget||t.fromElement)&&(Ba(y)||y[js]))break e;if((m||p)&&(p=f.window===f?f:(p=f.ownerDocument)?p.defaultView||p.parentWindow:window,m?(y=t.relatedTarget||t.toElement,m=h,y=y?Ba(y):null,y!==null&&(S=cl(y),y!==S||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=h),m!==y)){if(w=fS,E="onMouseLeave",g="onMouseEnter",x="mouse",(n==="pointerout"||n==="pointerover")&&(w=pS,E="onPointerLeave",g="onPointerEnter",x="pointer"),S=m==null?p:oc(m),M=y==null?p:oc(y),p=new w(E,x+"leave",m,t,f),p.target=S,p.relatedTarget=M,E=null,Ba(f)===h&&(w=new w(g,x+"enter",y,t,f),w.target=M,w.relatedTarget=S,E=w),S=E,m&&y)t:{for(w=m,g=y,x=0,M=w;M;M=Ll(M))x++;for(M=0,E=g;E;E=Ll(E))M++;for(;0<x-M;)w=Ll(w),x--;for(;0<M-x;)g=Ll(g),M--;for(;x--;){if(w===g||g!==null&&w===g.alternate)break t;w=Ll(w),g=Ll(g)}w=null}else w=null;m!==null&&TS(d,p,m,w,!1),y!==null&&S!==null&&TS(d,S,y,w,!0)}}e:{if(p=h?oc(h):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var C=l9;else if(vS(p))if(xE)C=f9;else{C=u9;var P=c9}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(C=h9);if(C&&(C=C(n,h))){yE(d,C,t,f);break e}P&&P(n,p,h),n==="focusout"&&(P=p._wrapperState)&&P.controlled&&p.type==="number"&&j2(p,"number",p.value)}switch(P=h?oc(h):window,n){case"focusin":(vS(P)||P.contentEditable==="true")&&(rc=P,iy=h,sh=null);break;case"focusout":sh=iy=rc=null;break;case"mousedown":ry=!0;break;case"contextmenu":case"mouseup":case"dragend":ry=!1,MS(d,t,f);break;case"selectionchange":if(m9)break;case"keydown":case"keyup":MS(d,t,f)}var I;if(Nx)e:{switch(n){case"compositionstart":var L="onCompositionStart";break e;case"compositionend":L="onCompositionEnd";break e;case"compositionupdate":L="onCompositionUpdate";break e}L=void 0}else ic?gE(n,t)&&(L="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(L="onCompositionStart");L&&(mE&&t.locale!=="ko"&&(ic||L!=="onCompositionStart"?L==="onCompositionEnd"&&ic&&(I=pE()):(Co=f,Rx="value"in Co?Co.value:Co.textContent,ic=!0)),P=gp(h,L),0<P.length&&(L=new dS(L,n,null,t,f),d.push({event:L,listeners:P}),I?L.data=I:(I=vE(t),I!==null&&(L.data=I)))),(I=i9?r9(n,t):s9(n,t))&&(h=gp(h,"onBeforeInput"),0<h.length&&(f=new dS("onBeforeInput","beforeinput",null,t,f),d.push({event:f,listeners:h}),f.data=I))}PE(d,e)})}function Nh(n,e,t){return{instance:n,listener:e,currentTarget:t}}function gp(n,e){for(var t=e+"Capture",i=[];n!==null;){var r=n,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=Ah(n,t),s!=null&&i.unshift(Nh(n,s,r)),s=Ah(n,e),s!=null&&i.push(Nh(n,s,r))),n=n.return}return i}function Ll(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function TS(n,e,t,i,r){for(var s=e._reactName,o=[];t!==null&&t!==i;){var a=t,l=a.alternate,h=a.stateNode;if(l!==null&&l===i)break;a.tag===5&&h!==null&&(a=h,r?(l=Ah(t,s),l!=null&&o.unshift(Nh(t,l,a))):r||(l=Ah(t,s),l!=null&&o.push(Nh(t,l,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var x9=/\r\n?/g,_9=/\u0000|\uFFFD/g;function AS(n){return(typeof n=="string"?n:""+n).replace(x9,`
`).replace(_9,"")}function zd(n,e,t){if(e=AS(e),AS(n)!==e&&t)throw Error(Pe(425))}function vp(){}var sy=null,oy=null;function ay(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ly=typeof setTimeout=="function"?setTimeout:void 0,S9=typeof clearTimeout=="function"?clearTimeout:void 0,bS=typeof Promise=="function"?Promise:void 0,M9=typeof queueMicrotask=="function"?queueMicrotask:typeof bS<"u"?function(n){return bS.resolve(null).then(n).catch(w9)}:ly;function w9(n){setTimeout(function(){throw n})}function pv(n,e){var t=e,i=0;do{var r=t.nextSibling;if(n.removeChild(t),r&&r.nodeType===8)if(t=r.data,t==="/$"){if(i===0){n.removeChild(r),Ph(e);return}i--}else t!=="$"&&t!=="$?"&&t!=="$!"||i++;t=r}while(t);Ph(e)}function Uo(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function CS(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var Kc=Math.random().toString(36).slice(2),ss="__reactFiber$"+Kc,Dh="__reactProps$"+Kc,js="__reactContainer$"+Kc,cy="__reactEvents$"+Kc,E9="__reactListeners$"+Kc,T9="__reactHandles$"+Kc;function Ba(n){var e=n[ss];if(e)return e;for(var t=n.parentNode;t;){if(e=t[js]||t[ss]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=CS(n);n!==null;){if(t=n[ss])return t;n=CS(n)}return e}n=t,t=n.parentNode}return null}function df(n){return n=n[ss]||n[js],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function oc(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(Pe(33))}function zm(n){return n[Dh]||null}var uy=[],ac=-1;function Jo(n){return{current:n}}function rn(n){0>ac||(n.current=uy[ac],uy[ac]=null,ac--)}function Jt(n,e){ac++,uy[ac]=n.current,n.current=e}var Xo={},di=Jo(Xo),Bi=Jo(!1),Qa=Xo;function Rc(n,e){var t=n.type.contextTypes;if(!t)return Xo;var i=n.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in t)r[s]=e[s];return i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=r),r}function Vi(n){return n=n.childContextTypes,n!=null}function yp(){rn(Bi),rn(di)}function PS(n,e,t){if(di.current!==Xo)throw Error(Pe(168));Jt(di,e),Jt(Bi,t)}function IE(n,e,t){var i=n.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return t;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(Pe(108,cR(n)||"Unknown",r));return fn({},t,i)}function xp(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Xo,Qa=di.current,Jt(di,n),Jt(Bi,Bi.current),!0}function RS(n,e,t){var i=n.stateNode;if(!i)throw Error(Pe(169));t?(n=IE(n,e,Qa),i.__reactInternalMemoizedMergedChildContext=n,rn(Bi),rn(di),Jt(di,n)):rn(Bi),Jt(Bi,t)}var Is=null,Bm=!1,mv=!1;function LE(n){Is===null?Is=[n]:Is.push(n)}function A9(n){Bm=!0,LE(n)}function Qo(){if(!mv&&Is!==null){mv=!0;var n=0,e=Yt;try{var t=Is;for(Yt=1;n<t.length;n++){var i=t[n];do i=i(!0);while(i!==null)}Is=null,Bm=!1}catch(r){throw Is!==null&&(Is=Is.slice(n+1)),iE(Ax,Qo),r}finally{Yt=e,mv=!1}}return null}var lc=[],cc=0,_p=null,Sp=0,xr=[],_r=0,el=null,Us=1,ks="";function Ra(n,e){lc[cc++]=Sp,lc[cc++]=_p,_p=n,Sp=e}function NE(n,e,t){xr[_r++]=Us,xr[_r++]=ks,xr[_r++]=el,el=n;var i=Us;n=ks;var r=32-Hr(i)-1;i&=~(1<<r),t+=1;var s=32-Hr(e)+r;if(30<s){var o=r-r%5;s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,Us=1<<32-Hr(e)+r|t<<r|i,ks=s+n}else Us=1<<s|t<<r|i,ks=n}function Ux(n){n.return!==null&&(Ra(n,1),NE(n,1,0))}function kx(n){for(;n===_p;)_p=lc[--cc],lc[cc]=null,Sp=lc[--cc],lc[cc]=null;for(;n===el;)el=xr[--_r],xr[_r]=null,ks=xr[--_r],xr[_r]=null,Us=xr[--_r],xr[_r]=null}var tr=null,Qi=null,on=!1,Fr=null;function DE(n,e){var t=Sr(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function IS(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,tr=n,Qi=Uo(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,tr=n,Qi=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=el!==null?{id:Us,overflow:ks}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=Sr(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,tr=n,Qi=null,!0):!1;default:return!1}}function hy(n){return(n.mode&1)!==0&&(n.flags&128)===0}function fy(n){if(on){var e=Qi;if(e){var t=e;if(!IS(n,e)){if(hy(n))throw Error(Pe(418));e=Uo(t.nextSibling);var i=tr;e&&IS(n,e)?DE(i,t):(n.flags=n.flags&-4097|2,on=!1,tr=n)}}else{if(hy(n))throw Error(Pe(418));n.flags=n.flags&-4097|2,on=!1,tr=n}}}function LS(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;tr=n}function Bd(n){if(n!==tr)return!1;if(!on)return LS(n),on=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!ay(n.type,n.memoizedProps)),e&&(e=Qi)){if(hy(n))throw UE(),Error(Pe(418));for(;e;)DE(n,e),e=Uo(e.nextSibling)}if(LS(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(Pe(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){Qi=Uo(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}Qi=null}}else Qi=tr?Uo(n.stateNode.nextSibling):null;return!0}function UE(){for(var n=Qi;n;)n=Uo(n.nextSibling)}function Ic(){Qi=tr=null,on=!1}function Ox(n){Fr===null?Fr=[n]:Fr.push(n)}var b9=Qs.ReactCurrentBatchConfig;function bu(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(Pe(309));var i=t.stateNode}if(!i)throw Error(Pe(147,n));var r=i,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=r.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof n!="string")throw Error(Pe(284));if(!t._owner)throw Error(Pe(290,n))}return n}function Vd(n,e){throw n=Object.prototype.toString.call(e),Error(Pe(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function NS(n){var e=n._init;return e(n._payload)}function kE(n){function e(g,x){if(n){var M=g.deletions;M===null?(g.deletions=[x],g.flags|=16):M.push(x)}}function t(g,x){if(!n)return null;for(;x!==null;)e(g,x),x=x.sibling;return null}function i(g,x){for(g=new Map;x!==null;)x.key!==null?g.set(x.key,x):g.set(x.index,x),x=x.sibling;return g}function r(g,x){return g=zo(g,x),g.index=0,g.sibling=null,g}function s(g,x,M){return g.index=M,n?(M=g.alternate,M!==null?(M=M.index,M<x?(g.flags|=2,x):M):(g.flags|=2,x)):(g.flags|=1048576,x)}function o(g){return n&&g.alternate===null&&(g.flags|=2),g}function a(g,x,M,E){return x===null||x.tag!==6?(x=Mv(M,g.mode,E),x.return=g,x):(x=r(x,M),x.return=g,x)}function l(g,x,M,E){var C=M.type;return C===nc?f(g,x,M.props.children,E,M.key):x!==null&&(x.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Mo&&NS(C)===x.type)?(E=r(x,M.props),E.ref=bu(g,x,M),E.return=g,E):(E=tp(M.type,M.key,M.props,null,g.mode,E),E.ref=bu(g,x,M),E.return=g,E)}function h(g,x,M,E){return x===null||x.tag!==4||x.stateNode.containerInfo!==M.containerInfo||x.stateNode.implementation!==M.implementation?(x=wv(M,g.mode,E),x.return=g,x):(x=r(x,M.children||[]),x.return=g,x)}function f(g,x,M,E,C){return x===null||x.tag!==7?(x=Ya(M,g.mode,E,C),x.return=g,x):(x=r(x,M),x.return=g,x)}function d(g,x,M){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Mv(""+x,g.mode,M),x.return=g,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Rd:return M=tp(x.type,x.key,x.props,null,g.mode,M),M.ref=bu(g,null,x),M.return=g,M;case tc:return x=wv(x,g.mode,M),x.return=g,x;case Mo:var E=x._init;return d(g,E(x._payload),M)}if(qu(x)||Mu(x))return x=Ya(x,g.mode,M,null),x.return=g,x;Vd(g,x)}return null}function p(g,x,M,E){var C=x!==null?x.key:null;if(typeof M=="string"&&M!==""||typeof M=="number")return C!==null?null:a(g,x,""+M,E);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case Rd:return M.key===C?l(g,x,M,E):null;case tc:return M.key===C?h(g,x,M,E):null;case Mo:return C=M._init,p(g,x,C(M._payload),E)}if(qu(M)||Mu(M))return C!==null?null:f(g,x,M,E,null);Vd(g,M)}return null}function m(g,x,M,E,C){if(typeof E=="string"&&E!==""||typeof E=="number")return g=g.get(M)||null,a(x,g,""+E,C);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Rd:return g=g.get(E.key===null?M:E.key)||null,l(x,g,E,C);case tc:return g=g.get(E.key===null?M:E.key)||null,h(x,g,E,C);case Mo:var P=E._init;return m(g,x,M,P(E._payload),C)}if(qu(E)||Mu(E))return g=g.get(M)||null,f(x,g,E,C,null);Vd(x,E)}return null}function y(g,x,M,E){for(var C=null,P=null,I=x,L=x=0,R=null;I!==null&&L<M.length;L++){I.index>L?(R=I,I=null):R=I.sibling;var A=p(g,I,M[L],E);if(A===null){I===null&&(I=R);break}n&&I&&A.alternate===null&&e(g,I),x=s(A,x,L),P===null?C=A:P.sibling=A,P=A,I=R}if(L===M.length)return t(g,I),on&&Ra(g,L),C;if(I===null){for(;L<M.length;L++)I=d(g,M[L],E),I!==null&&(x=s(I,x,L),P===null?C=I:P.sibling=I,P=I);return on&&Ra(g,L),C}for(I=i(g,I);L<M.length;L++)R=m(I,g,L,M[L],E),R!==null&&(n&&R.alternate!==null&&I.delete(R.key===null?L:R.key),x=s(R,x,L),P===null?C=R:P.sibling=R,P=R);return n&&I.forEach(function(k){return e(g,k)}),on&&Ra(g,L),C}function w(g,x,M,E){var C=Mu(M);if(typeof C!="function")throw Error(Pe(150));if(M=C.call(M),M==null)throw Error(Pe(151));for(var P=C=null,I=x,L=x=0,R=null,A=M.next();I!==null&&!A.done;L++,A=M.next()){I.index>L?(R=I,I=null):R=I.sibling;var k=p(g,I,A.value,E);if(k===null){I===null&&(I=R);break}n&&I&&k.alternate===null&&e(g,I),x=s(k,x,L),P===null?C=k:P.sibling=k,P=k,I=R}if(A.done)return t(g,I),on&&Ra(g,L),C;if(I===null){for(;!A.done;L++,A=M.next())A=d(g,A.value,E),A!==null&&(x=s(A,x,L),P===null?C=A:P.sibling=A,P=A);return on&&Ra(g,L),C}for(I=i(g,I);!A.done;L++,A=M.next())A=m(I,g,L,A.value,E),A!==null&&(n&&A.alternate!==null&&I.delete(A.key===null?L:A.key),x=s(A,x,L),P===null?C=A:P.sibling=A,P=A);return n&&I.forEach(function(X){return e(g,X)}),on&&Ra(g,L),C}function S(g,x,M,E){if(typeof M=="object"&&M!==null&&M.type===nc&&M.key===null&&(M=M.props.children),typeof M=="object"&&M!==null){switch(M.$$typeof){case Rd:e:{for(var C=M.key,P=x;P!==null;){if(P.key===C){if(C=M.type,C===nc){if(P.tag===7){t(g,P.sibling),x=r(P,M.props.children),x.return=g,g=x;break e}}else if(P.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Mo&&NS(C)===P.type){t(g,P.sibling),x=r(P,M.props),x.ref=bu(g,P,M),x.return=g,g=x;break e}t(g,P);break}else e(g,P);P=P.sibling}M.type===nc?(x=Ya(M.props.children,g.mode,E,M.key),x.return=g,g=x):(E=tp(M.type,M.key,M.props,null,g.mode,E),E.ref=bu(g,x,M),E.return=g,g=E)}return o(g);case tc:e:{for(P=M.key;x!==null;){if(x.key===P)if(x.tag===4&&x.stateNode.containerInfo===M.containerInfo&&x.stateNode.implementation===M.implementation){t(g,x.sibling),x=r(x,M.children||[]),x.return=g,g=x;break e}else{t(g,x);break}else e(g,x);x=x.sibling}x=wv(M,g.mode,E),x.return=g,g=x}return o(g);case Mo:return P=M._init,S(g,x,P(M._payload),E)}if(qu(M))return y(g,x,M,E);if(Mu(M))return w(g,x,M,E);Vd(g,M)}return typeof M=="string"&&M!==""||typeof M=="number"?(M=""+M,x!==null&&x.tag===6?(t(g,x.sibling),x=r(x,M),x.return=g,g=x):(t(g,x),x=Mv(M,g.mode,E),x.return=g,g=x),o(g)):t(g,x)}return S}var Lc=kE(!0),OE=kE(!1),Mp=Jo(null),wp=null,uc=null,Fx=null;function zx(){Fx=uc=wp=null}function Bx(n){var e=Mp.current;rn(Mp),n._currentValue=e}function dy(n,e,t){for(;n!==null;){var i=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),n===t)break;n=n.return}}function Ac(n,e){wp=n,Fx=uc=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(Fi=!0),n.firstContext=null)}function Tr(n){var e=n._currentValue;if(Fx!==n)if(n={context:n,memoizedValue:e,next:null},uc===null){if(wp===null)throw Error(Pe(308));uc=n,wp.dependencies={lanes:0,firstContext:n}}else uc=uc.next=n;return e}var Va=null;function Vx(n){Va===null?Va=[n]:Va.push(n)}function FE(n,e,t,i){var r=e.interleaved;return r===null?(t.next=t,Vx(e)):(t.next=r.next,r.next=t),e.interleaved=t,Xs(n,i)}function Xs(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var wo=!1;function Hx(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zE(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function zs(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function ko(n,e,t){var i=n.updateQueue;if(i===null)return null;if(i=i.shared,Vt&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,Xs(n,t)}return r=i.interleaved,r===null?(e.next=e,Vx(i)):(e.next=r.next,r.next=e),i.interleaved=e,Xs(n,t)}function Z0(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,bx(n,t)}}function DS(n,e){var t=n.updateQueue,i=n.alternate;if(i!==null&&(i=i.updateQueue,t===i)){var r=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?r=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?r=s=e:s=s.next=e}else r=s=e;t={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function Ep(n,e,t,i){var r=n.updateQueue;wo=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var l=a,h=l.next;l.next=null,o===null?s=h:o.next=h,o=l;var f=n.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==o&&(a===null?f.firstBaseUpdate=h:a.next=h,f.lastBaseUpdate=l))}if(s!==null){var d=r.baseState;o=0,f=h=l=null,a=s;do{var p=a.lane,m=a.eventTime;if((i&p)===p){f!==null&&(f=f.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=n,w=a;switch(p=e,m=t,w.tag){case 1:if(y=w.payload,typeof y=="function"){d=y.call(m,d,p);break e}d=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=w.payload,p=typeof y=="function"?y.call(m,d,p):y,p==null)break e;d=fn({},d,p);break e;case 2:wo=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,p=r.effects,p===null?r.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(h=f=m,l=d):f=f.next=m,o|=p;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;p=a,a=p.next,p.next=null,r.lastBaseUpdate=p,r.shared.pending=null}}while(1);if(f===null&&(l=d),r.baseState=l,r.firstBaseUpdate=h,r.lastBaseUpdate=f,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else s===null&&(r.shared.lanes=0);nl|=o,n.lanes=o,n.memoizedState=d}}function US(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var i=n[e],r=i.callback;if(r!==null){if(i.callback=null,i=t,typeof r!="function")throw Error(Pe(191,r));r.call(i)}}}var pf={},us=Jo(pf),Uh=Jo(pf),kh=Jo(pf);function Ha(n){if(n===pf)throw Error(Pe(174));return n}function Gx(n,e){switch(Jt(kh,e),Jt(Uh,n),Jt(us,pf),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:q2(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=q2(e,n)}rn(us),Jt(us,e)}function Nc(){rn(us),rn(Uh),rn(kh)}function BE(n){Ha(kh.current);var e=Ha(us.current),t=q2(e,n.type);e!==t&&(Jt(Uh,n),Jt(us,t))}function Wx(n){Uh.current===n&&(rn(us),rn(Uh))}var ln=Jo(0);function Tp(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var gv=[];function jx(){for(var n=0;n<gv.length;n++)gv[n]._workInProgressVersionPrimary=null;gv.length=0}var K0=Qs.ReactCurrentDispatcher,vv=Qs.ReactCurrentBatchConfig,tl=0,hn=null,Ln=null,Hn=null,Ap=!1,oh=!1,Oh=0,C9=0;function ii(){throw Error(Pe(321))}function Xx(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!Wr(n[t],e[t]))return!1;return!0}function qx(n,e,t,i,r,s){if(tl=s,hn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,K0.current=n===null||n.memoizedState===null?L9:N9,n=t(i,r),oh){s=0;do{if(oh=!1,Oh=0,25<=s)throw Error(Pe(301));s+=1,Hn=Ln=null,e.updateQueue=null,K0.current=D9,n=t(i,r)}while(oh)}if(K0.current=bp,e=Ln!==null&&Ln.next!==null,tl=0,Hn=Ln=hn=null,Ap=!1,e)throw Error(Pe(300));return n}function Yx(){var n=Oh!==0;return Oh=0,n}function rs(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Hn===null?hn.memoizedState=Hn=n:Hn=Hn.next=n,Hn}function Ar(){if(Ln===null){var n=hn.alternate;n=n!==null?n.memoizedState:null}else n=Ln.next;var e=Hn===null?hn.memoizedState:Hn.next;if(e!==null)Hn=e,Ln=n;else{if(n===null)throw Error(Pe(310));Ln=n,n={memoizedState:Ln.memoizedState,baseState:Ln.baseState,baseQueue:Ln.baseQueue,queue:Ln.queue,next:null},Hn===null?hn.memoizedState=Hn=n:Hn=Hn.next=n}return Hn}function Fh(n,e){return typeof e=="function"?e(n):e}function yv(n){var e=Ar(),t=e.queue;if(t===null)throw Error(Pe(311));t.lastRenderedReducer=n;var i=Ln,r=i.baseQueue,s=t.pending;if(s!==null){if(r!==null){var o=r.next;r.next=s.next,s.next=o}i.baseQueue=r=s,t.pending=null}if(r!==null){s=r.next,i=i.baseState;var a=o=null,l=null,h=s;do{var f=h.lane;if((tl&f)===f)l!==null&&(l=l.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),i=h.hasEagerState?h.eagerState:n(i,h.action);else{var d={lane:f,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};l===null?(a=l=d,o=i):l=l.next=d,hn.lanes|=f,nl|=f}h=h.next}while(h!==null&&h!==s);l===null?o=i:l.next=a,Wr(i,e.memoizedState)||(Fi=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=l,t.lastRenderedState=i}if(n=t.interleaved,n!==null){r=n;do s=r.lane,hn.lanes|=s,nl|=s,r=r.next;while(r!==n)}else r===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function xv(n){var e=Ar(),t=e.queue;if(t===null)throw Error(Pe(311));t.lastRenderedReducer=n;var i=t.dispatch,r=t.pending,s=e.memoizedState;if(r!==null){t.pending=null;var o=r=r.next;do s=n(s,o.action),o=o.next;while(o!==r);Wr(s,e.memoizedState)||(Fi=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,i]}function VE(){}function HE(n,e){var t=hn,i=Ar(),r=e(),s=!Wr(i.memoizedState,r);if(s&&(i.memoizedState=r,Fi=!0),i=i.queue,Zx(jE.bind(null,t,i,n),[n]),i.getSnapshot!==e||s||Hn!==null&&Hn.memoizedState.tag&1){if(t.flags|=2048,zh(9,WE.bind(null,t,i,r,e),void 0,null),Gn===null)throw Error(Pe(349));tl&30||GE(t,e,r)}return r}function GE(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=hn.updateQueue,e===null?(e={lastEffect:null,stores:null},hn.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function WE(n,e,t,i){e.value=t,e.getSnapshot=i,XE(e)&&qE(n)}function jE(n,e,t){return t(function(){XE(e)&&qE(n)})}function XE(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!Wr(n,t)}catch{return!0}}function qE(n){var e=Xs(n,1);e!==null&&Gr(e,n,1,-1)}function kS(n){var e=rs();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fh,lastRenderedState:n},e.queue=n,n=n.dispatch=I9.bind(null,hn,n),[e.memoizedState,n]}function zh(n,e,t,i){return n={tag:n,create:e,destroy:t,deps:i,next:null},e=hn.updateQueue,e===null?(e={lastEffect:null,stores:null},hn.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(i=t.next,t.next=n,n.next=i,e.lastEffect=n)),n}function YE(){return Ar().memoizedState}function $0(n,e,t,i){var r=rs();hn.flags|=n,r.memoizedState=zh(1|e,t,void 0,i===void 0?null:i)}function Vm(n,e,t,i){var r=Ar();i=i===void 0?null:i;var s=void 0;if(Ln!==null){var o=Ln.memoizedState;if(s=o.destroy,i!==null&&Xx(i,o.deps)){r.memoizedState=zh(e,t,s,i);return}}hn.flags|=n,r.memoizedState=zh(1|e,t,s,i)}function OS(n,e){return $0(8390656,8,n,e)}function Zx(n,e){return Vm(2048,8,n,e)}function ZE(n,e){return Vm(4,2,n,e)}function KE(n,e){return Vm(4,4,n,e)}function $E(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function JE(n,e,t){return t=t!=null?t.concat([n]):null,Vm(4,4,$E.bind(null,e,n),t)}function Kx(){}function QE(n,e){var t=Ar();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&Xx(e,i[1])?i[0]:(t.memoizedState=[n,e],n)}function eT(n,e){var t=Ar();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&Xx(e,i[1])?i[0]:(n=n(),t.memoizedState=[n,e],n)}function tT(n,e,t){return tl&21?(Wr(t,e)||(t=oE(),hn.lanes|=t,nl|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,Fi=!0),n.memoizedState=t)}function P9(n,e){var t=Yt;Yt=t!==0&&4>t?t:4,n(!0);var i=vv.transition;vv.transition={};try{n(!1),e()}finally{Yt=t,vv.transition=i}}function nT(){return Ar().memoizedState}function R9(n,e,t){var i=Fo(n);if(t={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null},iT(n))rT(e,t);else if(t=FE(n,e,t,i),t!==null){var r=Mi();Gr(t,n,i,r),sT(t,e,i)}}function I9(n,e,t){var i=Fo(n),r={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null};if(iT(n))rT(e,r);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,t);if(r.hasEagerState=!0,r.eagerState=a,Wr(a,o)){var l=e.interleaved;l===null?(r.next=r,Vx(e)):(r.next=l.next,l.next=r),e.interleaved=r;return}}catch{}finally{}t=FE(n,e,r,i),t!==null&&(r=Mi(),Gr(t,n,i,r),sT(t,e,i))}}function iT(n){var e=n.alternate;return n===hn||e!==null&&e===hn}function rT(n,e){oh=Ap=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function sT(n,e,t){if(t&4194240){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,bx(n,t)}}var bp={readContext:Tr,useCallback:ii,useContext:ii,useEffect:ii,useImperativeHandle:ii,useInsertionEffect:ii,useLayoutEffect:ii,useMemo:ii,useReducer:ii,useRef:ii,useState:ii,useDebugValue:ii,useDeferredValue:ii,useTransition:ii,useMutableSource:ii,useSyncExternalStore:ii,useId:ii,unstable_isNewReconciler:!1},L9={readContext:Tr,useCallback:function(n,e){return rs().memoizedState=[n,e===void 0?null:e],n},useContext:Tr,useEffect:OS,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,$0(4194308,4,$E.bind(null,e,n),t)},useLayoutEffect:function(n,e){return $0(4194308,4,n,e)},useInsertionEffect:function(n,e){return $0(4,2,n,e)},useMemo:function(n,e){var t=rs();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var i=rs();return e=t!==void 0?t(e):e,i.memoizedState=i.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},i.queue=n,n=n.dispatch=R9.bind(null,hn,n),[i.memoizedState,n]},useRef:function(n){var e=rs();return n={current:n},e.memoizedState=n},useState:kS,useDebugValue:Kx,useDeferredValue:function(n){return rs().memoizedState=n},useTransition:function(){var n=kS(!1),e=n[0];return n=P9.bind(null,n[1]),rs().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var i=hn,r=rs();if(on){if(t===void 0)throw Error(Pe(407));t=t()}else{if(t=e(),Gn===null)throw Error(Pe(349));tl&30||GE(i,e,t)}r.memoizedState=t;var s={value:t,getSnapshot:e};return r.queue=s,OS(jE.bind(null,i,s,n),[n]),i.flags|=2048,zh(9,WE.bind(null,i,s,t,e),void 0,null),t},useId:function(){var n=rs(),e=Gn.identifierPrefix;if(on){var t=ks,i=Us;t=(i&~(1<<32-Hr(i)-1)).toString(32)+t,e=":"+e+"R"+t,t=Oh++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=C9++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},N9={readContext:Tr,useCallback:QE,useContext:Tr,useEffect:Zx,useImperativeHandle:JE,useInsertionEffect:ZE,useLayoutEffect:KE,useMemo:eT,useReducer:yv,useRef:YE,useState:function(){return yv(Fh)},useDebugValue:Kx,useDeferredValue:function(n){var e=Ar();return tT(e,Ln.memoizedState,n)},useTransition:function(){var n=yv(Fh)[0],e=Ar().memoizedState;return[n,e]},useMutableSource:VE,useSyncExternalStore:HE,useId:nT,unstable_isNewReconciler:!1},D9={readContext:Tr,useCallback:QE,useContext:Tr,useEffect:Zx,useImperativeHandle:JE,useInsertionEffect:ZE,useLayoutEffect:KE,useMemo:eT,useReducer:xv,useRef:YE,useState:function(){return xv(Fh)},useDebugValue:Kx,useDeferredValue:function(n){var e=Ar();return Ln===null?e.memoizedState=n:tT(e,Ln.memoizedState,n)},useTransition:function(){var n=xv(Fh)[0],e=Ar().memoizedState;return[n,e]},useMutableSource:VE,useSyncExternalStore:HE,useId:nT,unstable_isNewReconciler:!1};function Ur(n,e){if(n&&n.defaultProps){e=fn({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function py(n,e,t,i){e=n.memoizedState,t=t(i,e),t=t==null?e:fn({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var Hm={isMounted:function(n){return(n=n._reactInternals)?cl(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var i=Mi(),r=Fo(n),s=zs(i,r);s.payload=e,t!=null&&(s.callback=t),e=ko(n,s,r),e!==null&&(Gr(e,n,r,i),Z0(e,n,r))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var i=Mi(),r=Fo(n),s=zs(i,r);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=ko(n,s,r),e!==null&&(Gr(e,n,r,i),Z0(e,n,r))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=Mi(),i=Fo(n),r=zs(t,i);r.tag=2,e!=null&&(r.callback=e),e=ko(n,r,i),e!==null&&(Gr(e,n,i,t),Z0(e,n,i))}};function FS(n,e,t,i,r,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(i,s,o):e.prototype&&e.prototype.isPureReactComponent?!Ih(t,i)||!Ih(r,s):!0}function oT(n,e,t){var i=!1,r=Xo,s=e.contextType;return typeof s=="object"&&s!==null?s=Tr(s):(r=Vi(e)?Qa:di.current,i=e.contextTypes,s=(i=i!=null)?Rc(n,r):Xo),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Hm,n.stateNode=e,e._reactInternals=n,i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=r,n.__reactInternalMemoizedMaskedChildContext=s),e}function zS(n,e,t,i){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,i),e.state!==n&&Hm.enqueueReplaceState(e,e.state,null)}function my(n,e,t,i){var r=n.stateNode;r.props=t,r.state=n.memoizedState,r.refs={},Hx(n);var s=e.contextType;typeof s=="object"&&s!==null?r.context=Tr(s):(s=Vi(e)?Qa:di.current,r.context=Rc(n,s)),r.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(py(n,e,s,t),r.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&Hm.enqueueReplaceState(r,r.state,null),Ep(n,t,r,i),r.state=n.memoizedState),typeof r.componentDidMount=="function"&&(n.flags|=4194308)}function Dc(n,e){try{var t="",i=e;do t+=lR(i),i=i.return;while(i);var r=t}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:r,digest:null}}function _v(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function gy(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var U9=typeof WeakMap=="function"?WeakMap:Map;function aT(n,e,t){t=zs(-1,t),t.tag=3,t.payload={element:null};var i=e.value;return t.callback=function(){Pp||(Pp=!0,Ay=i),gy(n,e)},t}function lT(n,e,t){t=zs(-1,t),t.tag=3;var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;t.payload=function(){return i(r)},t.callback=function(){gy(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){gy(n,e),typeof i!="function"&&(Oo===null?Oo=new Set([this]):Oo.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function BS(n,e,t){var i=n.pingCache;if(i===null){i=n.pingCache=new U9;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(t)||(r.add(t),n=Z9.bind(null,n,e,t),e.then(n,n))}function VS(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function HS(n,e,t,i,r){return n.mode&1?(n.flags|=65536,n.lanes=r,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=zs(-1,1),e.tag=2,ko(t,e,1))),t.lanes|=1),n)}var k9=Qs.ReactCurrentOwner,Fi=!1;function _i(n,e,t,i){e.child=n===null?OE(e,null,t,i):Lc(e,n.child,t,i)}function GS(n,e,t,i,r){t=t.render;var s=e.ref;return Ac(e,r),i=qx(n,e,t,i,s,r),t=Yx(),n!==null&&!Fi?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,qs(n,e,r)):(on&&t&&Ux(e),e.flags|=1,_i(n,e,i,r),e.child)}function WS(n,e,t,i,r){if(n===null){var s=t.type;return typeof s=="function"&&!r3(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,cT(n,e,s,i,r)):(n=tp(t.type,null,i,e,e.mode,r),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&r)){var o=s.memoizedProps;if(t=t.compare,t=t!==null?t:Ih,t(o,i)&&n.ref===e.ref)return qs(n,e,r)}return e.flags|=1,n=zo(s,i),n.ref=e.ref,n.return=e,e.child=n}function cT(n,e,t,i,r){if(n!==null){var s=n.memoizedProps;if(Ih(s,i)&&n.ref===e.ref)if(Fi=!1,e.pendingProps=i=s,(n.lanes&r)!==0)n.flags&131072&&(Fi=!0);else return e.lanes=n.lanes,qs(n,e,r)}return vy(n,e,t,i,r)}function uT(n,e,t){var i=e.pendingProps,r=i.children,s=n!==null?n.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Jt(fc,Ji),Ji|=t;else{if(!(t&1073741824))return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,Jt(fc,Ji),Ji|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:t,Jt(fc,Ji),Ji|=i}else s!==null?(i=s.baseLanes|t,e.memoizedState=null):i=t,Jt(fc,Ji),Ji|=i;return _i(n,e,r,t),e.child}function hT(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function vy(n,e,t,i,r){var s=Vi(t)?Qa:di.current;return s=Rc(e,s),Ac(e,r),t=qx(n,e,t,i,s,r),i=Yx(),n!==null&&!Fi?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,qs(n,e,r)):(on&&i&&Ux(e),e.flags|=1,_i(n,e,t,r),e.child)}function jS(n,e,t,i,r){if(Vi(t)){var s=!0;xp(e)}else s=!1;if(Ac(e,r),e.stateNode===null)J0(n,e),oT(e,t,i),my(e,t,i,r),i=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,h=t.contextType;typeof h=="object"&&h!==null?h=Tr(h):(h=Vi(t)?Qa:di.current,h=Rc(e,h));var f=t.getDerivedStateFromProps,d=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==i||l!==h)&&zS(e,o,i,h),wo=!1;var p=e.memoizedState;o.state=p,Ep(e,i,o,r),l=e.memoizedState,a!==i||p!==l||Bi.current||wo?(typeof f=="function"&&(py(e,t,f,i),l=e.memoizedState),(a=wo||FS(e,t,a,i,p,l,h))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),o.props=i,o.state=l,o.context=h,i=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,zE(n,e),a=e.memoizedProps,h=e.type===e.elementType?a:Ur(e.type,a),o.props=h,d=e.pendingProps,p=o.context,l=t.contextType,typeof l=="object"&&l!==null?l=Tr(l):(l=Vi(t)?Qa:di.current,l=Rc(e,l));var m=t.getDerivedStateFromProps;(f=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||p!==l)&&zS(e,o,i,l),wo=!1,p=e.memoizedState,o.state=p,Ep(e,i,o,r);var y=e.memoizedState;a!==d||p!==y||Bi.current||wo?(typeof m=="function"&&(py(e,t,m,i),y=e.memoizedState),(h=wo||FS(e,t,h,i,p,y,l)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,y,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=y),o.props=i,o.state=y,o.context=l,i=h):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),i=!1)}return yy(n,e,t,i,s,r)}function yy(n,e,t,i,r,s){hT(n,e);var o=(e.flags&128)!==0;if(!i&&!o)return r&&RS(e,t,!1),qs(n,e,s);i=e.stateNode,k9.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,n!==null&&o?(e.child=Lc(e,n.child,null,s),e.child=Lc(e,null,a,s)):_i(n,e,a,s),e.memoizedState=i.state,r&&RS(e,t,!0),e.child}function fT(n){var e=n.stateNode;e.pendingContext?PS(n,e.pendingContext,e.pendingContext!==e.context):e.context&&PS(n,e.context,!1),Gx(n,e.containerInfo)}function XS(n,e,t,i,r){return Ic(),Ox(r),e.flags|=256,_i(n,e,t,i),e.child}var xy={dehydrated:null,treeContext:null,retryLane:0};function _y(n){return{baseLanes:n,cachePool:null,transitions:null}}function dT(n,e,t){var i=e.pendingProps,r=ln.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(r&2)!==0),a?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(r|=1),Jt(ln,r&1),n===null)return fy(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=i.children,n=i.fallback,s?(i=e.mode,s=e.child,o={mode:"hidden",children:o},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=jm(o,i,0,null),n=Ya(n,i,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=_y(t),e.memoizedState=xy,n):$x(e,o));if(r=n.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return O9(n,e,o,i,a,r,t);if(s){s=i.fallback,o=e.mode,r=n.child,a=r.sibling;var l={mode:"hidden",children:i.children};return!(o&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=l,e.deletions=null):(i=zo(r,l),i.subtreeFlags=r.subtreeFlags&14680064),a!==null?s=zo(a,s):(s=Ya(s,o,t,null),s.flags|=2),s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,o=n.child.memoizedState,o=o===null?_y(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=n.childLanes&~t,e.memoizedState=xy,i}return s=n.child,n=s.sibling,i=zo(s,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=t),i.return=e,i.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=i,e.memoizedState=null,i}function $x(n,e){return e=jm({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function Hd(n,e,t,i){return i!==null&&Ox(i),Lc(e,n.child,null,t),n=$x(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function O9(n,e,t,i,r,s,o){if(t)return e.flags&256?(e.flags&=-257,i=_v(Error(Pe(422))),Hd(n,e,o,i)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=i.fallback,r=e.mode,i=jm({mode:"visible",children:i.children},r,0,null),s=Ya(s,r,o,null),s.flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,e.mode&1&&Lc(e,n.child,null,o),e.child.memoizedState=_y(o),e.memoizedState=xy,s);if(!(e.mode&1))return Hd(n,e,o,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var a=i.dgst;return i=a,s=Error(Pe(419)),i=_v(s,i,void 0),Hd(n,e,o,i)}if(a=(o&n.childLanes)!==0,Fi||a){if(i=Gn,i!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|o)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,Xs(n,r),Gr(i,n,r,-1))}return i3(),i=_v(Error(Pe(421))),Hd(n,e,o,i)}return r.data==="$?"?(e.flags|=128,e.child=n.child,e=K9.bind(null,n),r._reactRetry=e,null):(n=s.treeContext,Qi=Uo(r.nextSibling),tr=e,on=!0,Fr=null,n!==null&&(xr[_r++]=Us,xr[_r++]=ks,xr[_r++]=el,Us=n.id,ks=n.overflow,el=e),e=$x(e,i.children),e.flags|=4096,e)}function qS(n,e,t){n.lanes|=e;var i=n.alternate;i!==null&&(i.lanes|=e),dy(n.return,e,t)}function Sv(n,e,t,i,r){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:t,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=t,s.tailMode=r)}function pT(n,e,t){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(_i(n,e,i.children,t),i=ln.current,i&2)i=i&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&qS(n,t,e);else if(n.tag===19)qS(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}i&=1}if(Jt(ln,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(t=e.child,r=null;t!==null;)n=t.alternate,n!==null&&Tp(n)===null&&(r=t),t=t.sibling;t=r,t===null?(r=e.child,e.child=null):(r=t.sibling,t.sibling=null),Sv(e,!1,r,t,s);break;case"backwards":for(t=null,r=e.child,e.child=null;r!==null;){if(n=r.alternate,n!==null&&Tp(n)===null){e.child=r;break}n=r.sibling,r.sibling=t,t=r,r=n}Sv(e,!0,t,null,s);break;case"together":Sv(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function J0(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function qs(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),nl|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(Pe(153));if(e.child!==null){for(n=e.child,t=zo(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=zo(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function F9(n,e,t){switch(e.tag){case 3:fT(e),Ic();break;case 5:BE(e);break;case 1:Vi(e.type)&&xp(e);break;case 4:Gx(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;Jt(Mp,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(Jt(ln,ln.current&1),e.flags|=128,null):t&e.child.childLanes?dT(n,e,t):(Jt(ln,ln.current&1),n=qs(n,e,t),n!==null?n.sibling:null);Jt(ln,ln.current&1);break;case 19:if(i=(t&e.childLanes)!==0,n.flags&128){if(i)return pT(n,e,t);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Jt(ln,ln.current),i)break;return null;case 22:case 23:return e.lanes=0,uT(n,e,t)}return qs(n,e,t)}var mT,Sy,gT,vT;mT=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};Sy=function(){};gT=function(n,e,t,i){var r=n.memoizedProps;if(r!==i){n=e.stateNode,Ha(us.current);var s=null;switch(t){case"input":r=G2(n,r),i=G2(n,i),s=[];break;case"select":r=fn({},r,{value:void 0}),i=fn({},i,{value:void 0}),s=[];break;case"textarea":r=X2(n,r),i=X2(n,i),s=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(n.onclick=vp)}Y2(t,i);var o;t=null;for(h in r)if(!i.hasOwnProperty(h)&&r.hasOwnProperty(h)&&r[h]!=null)if(h==="style"){var a=r[h];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(Eh.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in i){var l=i[h];if(a=r!=null?r[h]:void 0,i.hasOwnProperty(h)&&l!==a&&(l!=null||a!=null))if(h==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(t||(t={}),t[o]=l[o])}else t||(s||(s=[]),s.push(h,t)),t=l;else h==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(h,l)):h==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(h,""+l):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(Eh.hasOwnProperty(h)?(l!=null&&h==="onScroll"&&tn("scroll",n),s||a===l||(s=[])):(s=s||[]).push(h,l))}t&&(s=s||[]).push("style",t);var h=s;(e.updateQueue=h)&&(e.flags|=4)}};vT=function(n,e,t,i){t!==i&&(e.flags|=4)};function Cu(n,e){if(!on)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:i.sibling=null}}function ri(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,i=0;if(e)for(var r=n.child;r!==null;)t|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=n,r=r.sibling;else for(r=n.child;r!==null;)t|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=n,r=r.sibling;return n.subtreeFlags|=i,n.childLanes=t,e}function z9(n,e,t){var i=e.pendingProps;switch(kx(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ri(e),null;case 1:return Vi(e.type)&&yp(),ri(e),null;case 3:return i=e.stateNode,Nc(),rn(Bi),rn(di),jx(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(n===null||n.child===null)&&(Bd(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Fr!==null&&(Py(Fr),Fr=null))),Sy(n,e),ri(e),null;case 5:Wx(e);var r=Ha(kh.current);if(t=e.type,n!==null&&e.stateNode!=null)gT(n,e,t,i,r),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(Pe(166));return ri(e),null}if(n=Ha(us.current),Bd(e)){i=e.stateNode,t=e.type;var s=e.memoizedProps;switch(i[ss]=e,i[Dh]=s,n=(e.mode&1)!==0,t){case"dialog":tn("cancel",i),tn("close",i);break;case"iframe":case"object":case"embed":tn("load",i);break;case"video":case"audio":for(r=0;r<Zu.length;r++)tn(Zu[r],i);break;case"source":tn("error",i);break;case"img":case"image":case"link":tn("error",i),tn("load",i);break;case"details":tn("toggle",i);break;case"input":nS(i,s),tn("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},tn("invalid",i);break;case"textarea":rS(i,s),tn("invalid",i)}Y2(t,s),r=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?i.textContent!==a&&(s.suppressHydrationWarning!==!0&&zd(i.textContent,a,n),r=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&zd(i.textContent,a,n),r=["children",""+a]):Eh.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&tn("scroll",i)}switch(t){case"input":Id(i),iS(i,s,!0);break;case"textarea":Id(i),sS(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=vp)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=j6(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof i.is=="string"?n=o.createElement(t,{is:i.is}):(n=o.createElement(t),t==="select"&&(o=n,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):n=o.createElementNS(n,t),n[ss]=e,n[Dh]=i,mT(n,e,!1,!1),e.stateNode=n;e:{switch(o=Z2(t,i),t){case"dialog":tn("cancel",n),tn("close",n),r=i;break;case"iframe":case"object":case"embed":tn("load",n),r=i;break;case"video":case"audio":for(r=0;r<Zu.length;r++)tn(Zu[r],n);r=i;break;case"source":tn("error",n),r=i;break;case"img":case"image":case"link":tn("error",n),tn("load",n),r=i;break;case"details":tn("toggle",n),r=i;break;case"input":nS(n,i),r=G2(n,i),tn("invalid",n);break;case"option":r=i;break;case"select":n._wrapperState={wasMultiple:!!i.multiple},r=fn({},i,{value:void 0}),tn("invalid",n);break;case"textarea":rS(n,i),r=X2(n,i),tn("invalid",n);break;default:r=i}Y2(t,r),a=r;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?Y6(n,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&X6(n,l)):s==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&Th(n,l):typeof l=="number"&&Th(n,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Eh.hasOwnProperty(s)?l!=null&&s==="onScroll"&&tn("scroll",n):l!=null&&Sx(n,s,l,o))}switch(t){case"input":Id(n),iS(n,i,!1);break;case"textarea":Id(n),sS(n);break;case"option":i.value!=null&&n.setAttribute("value",""+jo(i.value));break;case"select":n.multiple=!!i.multiple,s=i.value,s!=null?Mc(n,!!i.multiple,s,!1):i.defaultValue!=null&&Mc(n,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(n.onclick=vp)}switch(t){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ri(e),null;case 6:if(n&&e.stateNode!=null)vT(n,e,n.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(Pe(166));if(t=Ha(kh.current),Ha(us.current),Bd(e)){if(i=e.stateNode,t=e.memoizedProps,i[ss]=e,(s=i.nodeValue!==t)&&(n=tr,n!==null))switch(n.tag){case 3:zd(i.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&zd(i.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else i=(t.nodeType===9?t:t.ownerDocument).createTextNode(i),i[ss]=e,e.stateNode=i}return ri(e),null;case 13:if(rn(ln),i=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(on&&Qi!==null&&e.mode&1&&!(e.flags&128))UE(),Ic(),e.flags|=98560,s=!1;else if(s=Bd(e),i!==null&&i.dehydrated!==null){if(n===null){if(!s)throw Error(Pe(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Pe(317));s[ss]=e}else Ic(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ri(e),s=!1}else Fr!==null&&(Py(Fr),Fr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(i=i!==null,i!==(n!==null&&n.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(n===null||ln.current&1?Nn===0&&(Nn=3):i3())),e.updateQueue!==null&&(e.flags|=4),ri(e),null);case 4:return Nc(),Sy(n,e),n===null&&Lh(e.stateNode.containerInfo),ri(e),null;case 10:return Bx(e.type._context),ri(e),null;case 17:return Vi(e.type)&&yp(),ri(e),null;case 19:if(rn(ln),s=e.memoizedState,s===null)return ri(e),null;if(i=(e.flags&128)!==0,o=s.rendering,o===null)if(i)Cu(s,!1);else{if(Nn!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=Tp(n),o!==null){for(e.flags|=128,Cu(s,!1),i=o.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=t,t=e.child;t!==null;)s=t,n=i,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return Jt(ln,ln.current&1|2),e.child}n=n.sibling}s.tail!==null&&Sn()>Uc&&(e.flags|=128,i=!0,Cu(s,!1),e.lanes=4194304)}else{if(!i)if(n=Tp(o),n!==null){if(e.flags|=128,i=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),Cu(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!on)return ri(e),null}else 2*Sn()-s.renderingStartTime>Uc&&t!==1073741824&&(e.flags|=128,i=!0,Cu(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(t=s.last,t!==null?t.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Sn(),e.sibling=null,t=ln.current,Jt(ln,i?t&1|2:t&1),e):(ri(e),null);case 22:case 23:return n3(),i=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?Ji&1073741824&&(ri(e),e.subtreeFlags&6&&(e.flags|=8192)):ri(e),null;case 24:return null;case 25:return null}throw Error(Pe(156,e.tag))}function B9(n,e){switch(kx(e),e.tag){case 1:return Vi(e.type)&&yp(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return Nc(),rn(Bi),rn(di),jx(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return Wx(e),null;case 13:if(rn(ln),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(Pe(340));Ic()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return rn(ln),null;case 4:return Nc(),null;case 10:return Bx(e.type._context),null;case 22:case 23:return n3(),null;case 24:return null;default:return null}}var Gd=!1,ci=!1,V9=typeof WeakSet=="function"?WeakSet:Set,qe=null;function hc(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(i){mn(n,e,i)}else t.current=null}function My(n,e,t){try{t()}catch(i){mn(n,e,i)}}var YS=!1;function H9(n,e){if(sy=pp,n=ME(),Dx(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var i=t.getSelection&&t.getSelection();if(i&&i.rangeCount!==0){t=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var o=0,a=-1,l=-1,h=0,f=0,d=n,p=null;t:for(;;){for(var m;d!==t||r!==0&&d.nodeType!==3||(a=o+r),d!==s||i!==0&&d.nodeType!==3||(l=o+i),d.nodeType===3&&(o+=d.nodeValue.length),(m=d.firstChild)!==null;)p=d,d=m;for(;;){if(d===n)break t;if(p===t&&++h===r&&(a=o),p===s&&++f===i&&(l=o),(m=d.nextSibling)!==null)break;d=p,p=d.parentNode}d=m}t=a===-1||l===-1?null:{start:a,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(oy={focusedElem:n,selectionRange:t},pp=!1,qe=e;qe!==null;)if(e=qe,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,qe=n;else for(;qe!==null;){e=qe;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var w=y.memoizedProps,S=y.memoizedState,g=e.stateNode,x=g.getSnapshotBeforeUpdate(e.elementType===e.type?w:Ur(e.type,w),S);g.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var M=e.stateNode.containerInfo;M.nodeType===1?M.textContent="":M.nodeType===9&&M.documentElement&&M.removeChild(M.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Pe(163))}}catch(E){mn(e,e.return,E)}if(n=e.sibling,n!==null){n.return=e.return,qe=n;break}qe=e.return}return y=YS,YS=!1,y}function ah(n,e,t){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&n)===n){var s=r.destroy;r.destroy=void 0,s!==void 0&&My(e,t,s)}r=r.next}while(r!==i)}}function Gm(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var i=t.create;t.destroy=i()}t=t.next}while(t!==e)}}function wy(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function yT(n){var e=n.alternate;e!==null&&(n.alternate=null,yT(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[ss],delete e[Dh],delete e[cy],delete e[E9],delete e[T9])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function xT(n){return n.tag===5||n.tag===3||n.tag===4}function ZS(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||xT(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Ey(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=vp));else if(i!==4&&(n=n.child,n!==null))for(Ey(n,e,t),n=n.sibling;n!==null;)Ey(n,e,t),n=n.sibling}function Ty(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(i!==4&&(n=n.child,n!==null))for(Ty(n,e,t),n=n.sibling;n!==null;)Ty(n,e,t),n=n.sibling}var Xn=null,Or=!1;function ho(n,e,t){for(t=t.child;t!==null;)_T(n,e,t),t=t.sibling}function _T(n,e,t){if(cs&&typeof cs.onCommitFiberUnmount=="function")try{cs.onCommitFiberUnmount(Um,t)}catch{}switch(t.tag){case 5:ci||hc(t,e);case 6:var i=Xn,r=Or;Xn=null,ho(n,e,t),Xn=i,Or=r,Xn!==null&&(Or?(n=Xn,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):Xn.removeChild(t.stateNode));break;case 18:Xn!==null&&(Or?(n=Xn,t=t.stateNode,n.nodeType===8?pv(n.parentNode,t):n.nodeType===1&&pv(n,t),Ph(n)):pv(Xn,t.stateNode));break;case 4:i=Xn,r=Or,Xn=t.stateNode.containerInfo,Or=!0,ho(n,e,t),Xn=i,Or=r;break;case 0:case 11:case 14:case 15:if(!ci&&(i=t.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var s=r,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&My(t,e,o),r=r.next}while(r!==i)}ho(n,e,t);break;case 1:if(!ci&&(hc(t,e),i=t.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=t.memoizedProps,i.state=t.memoizedState,i.componentWillUnmount()}catch(a){mn(t,e,a)}ho(n,e,t);break;case 21:ho(n,e,t);break;case 22:t.mode&1?(ci=(i=ci)||t.memoizedState!==null,ho(n,e,t),ci=i):ho(n,e,t);break;default:ho(n,e,t)}}function KS(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new V9),e.forEach(function(i){var r=$9.bind(null,n,i);t.has(i)||(t.add(i),i.then(r,r))})}}function Ir(n,e){var t=e.deletions;if(t!==null)for(var i=0;i<t.length;i++){var r=t[i];try{var s=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Xn=a.stateNode,Or=!1;break e;case 3:Xn=a.stateNode.containerInfo,Or=!0;break e;case 4:Xn=a.stateNode.containerInfo,Or=!0;break e}a=a.return}if(Xn===null)throw Error(Pe(160));_T(s,o,r),Xn=null,Or=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(h){mn(r,e,h)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)ST(e,n),e=e.sibling}function ST(n,e){var t=n.alternate,i=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Ir(e,n),ts(n),i&4){try{ah(3,n,n.return),Gm(3,n)}catch(w){mn(n,n.return,w)}try{ah(5,n,n.return)}catch(w){mn(n,n.return,w)}}break;case 1:Ir(e,n),ts(n),i&512&&t!==null&&hc(t,t.return);break;case 5:if(Ir(e,n),ts(n),i&512&&t!==null&&hc(t,t.return),n.flags&32){var r=n.stateNode;try{Th(r,"")}catch(w){mn(n,n.return,w)}}if(i&4&&(r=n.stateNode,r!=null)){var s=n.memoizedProps,o=t!==null?t.memoizedProps:s,a=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&G6(r,s),Z2(a,o);var h=Z2(a,s);for(o=0;o<l.length;o+=2){var f=l[o],d=l[o+1];f==="style"?Y6(r,d):f==="dangerouslySetInnerHTML"?X6(r,d):f==="children"?Th(r,d):Sx(r,f,d,h)}switch(a){case"input":W2(r,s);break;case"textarea":W6(r,s);break;case"select":var p=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Mc(r,!!s.multiple,m,!1):p!==!!s.multiple&&(s.defaultValue!=null?Mc(r,!!s.multiple,s.defaultValue,!0):Mc(r,!!s.multiple,s.multiple?[]:"",!1))}r[Dh]=s}catch(w){mn(n,n.return,w)}}break;case 6:if(Ir(e,n),ts(n),i&4){if(n.stateNode===null)throw Error(Pe(162));r=n.stateNode,s=n.memoizedProps;try{r.nodeValue=s}catch(w){mn(n,n.return,w)}}break;case 3:if(Ir(e,n),ts(n),i&4&&t!==null&&t.memoizedState.isDehydrated)try{Ph(e.containerInfo)}catch(w){mn(n,n.return,w)}break;case 4:Ir(e,n),ts(n);break;case 13:Ir(e,n),ts(n),r=n.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(e3=Sn())),i&4&&KS(n);break;case 22:if(f=t!==null&&t.memoizedState!==null,n.mode&1?(ci=(h=ci)||f,Ir(e,n),ci=h):Ir(e,n),ts(n),i&8192){if(h=n.memoizedState!==null,(n.stateNode.isHidden=h)&&!f&&n.mode&1)for(qe=n,f=n.child;f!==null;){for(d=qe=f;qe!==null;){switch(p=qe,m=p.child,p.tag){case 0:case 11:case 14:case 15:ah(4,p,p.return);break;case 1:hc(p,p.return);var y=p.stateNode;if(typeof y.componentWillUnmount=="function"){i=p,t=p.return;try{e=i,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(w){mn(i,t,w)}}break;case 5:hc(p,p.return);break;case 22:if(p.memoizedState!==null){JS(d);continue}}m!==null?(m.return=p,qe=m):JS(d)}f=f.sibling}e:for(f=null,d=n;;){if(d.tag===5){if(f===null){f=d;try{r=d.stateNode,h?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=q6("display",o))}catch(w){mn(n,n.return,w)}}}else if(d.tag===6){if(f===null)try{d.stateNode.nodeValue=h?"":d.memoizedProps}catch(w){mn(n,n.return,w)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===n)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===n)break e;for(;d.sibling===null;){if(d.return===null||d.return===n)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Ir(e,n),ts(n),i&4&&KS(n);break;case 21:break;default:Ir(e,n),ts(n)}}function ts(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(xT(t)){var i=t;break e}t=t.return}throw Error(Pe(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(Th(r,""),i.flags&=-33);var s=ZS(n);Ty(n,s,r);break;case 3:case 4:var o=i.stateNode.containerInfo,a=ZS(n);Ey(n,a,o);break;default:throw Error(Pe(161))}}catch(l){mn(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function G9(n,e,t){qe=n,MT(n)}function MT(n,e,t){for(var i=(n.mode&1)!==0;qe!==null;){var r=qe,s=r.child;if(r.tag===22&&i){var o=r.memoizedState!==null||Gd;if(!o){var a=r.alternate,l=a!==null&&a.memoizedState!==null||ci;a=Gd;var h=ci;if(Gd=o,(ci=l)&&!h)for(qe=r;qe!==null;)o=qe,l=o.child,o.tag===22&&o.memoizedState!==null?QS(r):l!==null?(l.return=o,qe=l):QS(r);for(;s!==null;)qe=s,MT(s),s=s.sibling;qe=r,Gd=a,ci=h}$S(n)}else r.subtreeFlags&8772&&s!==null?(s.return=r,qe=s):$S(n)}}function $S(n){for(;qe!==null;){var e=qe;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ci||Gm(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!ci)if(t===null)i.componentDidMount();else{var r=e.elementType===e.type?t.memoizedProps:Ur(e.type,t.memoizedProps);i.componentDidUpdate(r,t.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&US(e,s,i);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}US(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var h=e.alternate;if(h!==null){var f=h.memoizedState;if(f!==null){var d=f.dehydrated;d!==null&&Ph(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Pe(163))}ci||e.flags&512&&wy(e)}catch(p){mn(e,e.return,p)}}if(e===n){qe=null;break}if(t=e.sibling,t!==null){t.return=e.return,qe=t;break}qe=e.return}}function JS(n){for(;qe!==null;){var e=qe;if(e===n){qe=null;break}var t=e.sibling;if(t!==null){t.return=e.return,qe=t;break}qe=e.return}}function QS(n){for(;qe!==null;){var e=qe;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{Gm(4,e)}catch(l){mn(e,t,l)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(l){mn(e,r,l)}}var s=e.return;try{wy(e)}catch(l){mn(e,s,l)}break;case 5:var o=e.return;try{wy(e)}catch(l){mn(e,o,l)}}}catch(l){mn(e,e.return,l)}if(e===n){qe=null;break}var a=e.sibling;if(a!==null){a.return=e.return,qe=a;break}qe=e.return}}var W9=Math.ceil,Cp=Qs.ReactCurrentDispatcher,Jx=Qs.ReactCurrentOwner,Er=Qs.ReactCurrentBatchConfig,Vt=0,Gn=null,Cn=null,qn=0,Ji=0,fc=Jo(0),Nn=0,Bh=null,nl=0,Wm=0,Qx=0,lh=null,ki=null,e3=0,Uc=1/0,Rs=null,Pp=!1,Ay=null,Oo=null,Wd=!1,Po=null,Rp=0,ch=0,by=null,Q0=-1,ep=0;function Mi(){return Vt&6?Sn():Q0!==-1?Q0:Q0=Sn()}function Fo(n){return n.mode&1?Vt&2&&qn!==0?qn&-qn:b9.transition!==null?(ep===0&&(ep=oE()),ep):(n=Yt,n!==0||(n=window.event,n=n===void 0?16:dE(n.type)),n):1}function Gr(n,e,t,i){if(50<ch)throw ch=0,by=null,Error(Pe(185));hf(n,t,i),(!(Vt&2)||n!==Gn)&&(n===Gn&&(!(Vt&2)&&(Wm|=t),Nn===4&&Ao(n,qn)),Hi(n,i),t===1&&Vt===0&&!(e.mode&1)&&(Uc=Sn()+500,Bm&&Qo()))}function Hi(n,e){var t=n.callbackNode;bR(n,e);var i=dp(n,n===Gn?qn:0);if(i===0)t!==null&&lS(t),n.callbackNode=null,n.callbackPriority=0;else if(e=i&-i,n.callbackPriority!==e){if(t!=null&&lS(t),e===1)n.tag===0?A9(eM.bind(null,n)):LE(eM.bind(null,n)),M9(function(){!(Vt&6)&&Qo()}),t=null;else{switch(aE(i)){case 1:t=Ax;break;case 4:t=rE;break;case 16:t=fp;break;case 536870912:t=sE;break;default:t=fp}t=RT(t,wT.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function wT(n,e){if(Q0=-1,ep=0,Vt&6)throw Error(Pe(327));var t=n.callbackNode;if(bc()&&n.callbackNode!==t)return null;var i=dp(n,n===Gn?qn:0);if(i===0)return null;if(i&30||i&n.expiredLanes||e)e=Ip(n,i);else{e=i;var r=Vt;Vt|=2;var s=TT();(Gn!==n||qn!==e)&&(Rs=null,Uc=Sn()+500,qa(n,e));do try{q9();break}catch(a){ET(n,a)}while(1);zx(),Cp.current=s,Vt=r,Cn!==null?e=0:(Gn=null,qn=0,e=Nn)}if(e!==0){if(e===2&&(r=ey(n),r!==0&&(i=r,e=Cy(n,r))),e===1)throw t=Bh,qa(n,0),Ao(n,i),Hi(n,Sn()),t;if(e===6)Ao(n,i);else{if(r=n.current.alternate,!(i&30)&&!j9(r)&&(e=Ip(n,i),e===2&&(s=ey(n),s!==0&&(i=s,e=Cy(n,s))),e===1))throw t=Bh,qa(n,0),Ao(n,i),Hi(n,Sn()),t;switch(n.finishedWork=r,n.finishedLanes=i,e){case 0:case 1:throw Error(Pe(345));case 2:Ia(n,ki,Rs);break;case 3:if(Ao(n,i),(i&130023424)===i&&(e=e3+500-Sn(),10<e)){if(dp(n,0)!==0)break;if(r=n.suspendedLanes,(r&i)!==i){Mi(),n.pingedLanes|=n.suspendedLanes&r;break}n.timeoutHandle=ly(Ia.bind(null,n,ki,Rs),e);break}Ia(n,ki,Rs);break;case 4:if(Ao(n,i),(i&4194240)===i)break;for(e=n.eventTimes,r=-1;0<i;){var o=31-Hr(i);s=1<<o,o=e[o],o>r&&(r=o),i&=~s}if(i=r,i=Sn()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*W9(i/1960))-i,10<i){n.timeoutHandle=ly(Ia.bind(null,n,ki,Rs),i);break}Ia(n,ki,Rs);break;case 5:Ia(n,ki,Rs);break;default:throw Error(Pe(329))}}}return Hi(n,Sn()),n.callbackNode===t?wT.bind(null,n):null}function Cy(n,e){var t=lh;return n.current.memoizedState.isDehydrated&&(qa(n,e).flags|=256),n=Ip(n,e),n!==2&&(e=ki,ki=t,e!==null&&Py(e)),n}function Py(n){ki===null?ki=n:ki.push.apply(ki,n)}function j9(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var i=0;i<t.length;i++){var r=t[i],s=r.getSnapshot;r=r.value;try{if(!Wr(s(),r))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ao(n,e){for(e&=~Qx,e&=~Wm,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-Hr(e),i=1<<t;n[t]=-1,e&=~i}}function eM(n){if(Vt&6)throw Error(Pe(327));bc();var e=dp(n,0);if(!(e&1))return Hi(n,Sn()),null;var t=Ip(n,e);if(n.tag!==0&&t===2){var i=ey(n);i!==0&&(e=i,t=Cy(n,i))}if(t===1)throw t=Bh,qa(n,0),Ao(n,e),Hi(n,Sn()),t;if(t===6)throw Error(Pe(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,Ia(n,ki,Rs),Hi(n,Sn()),null}function t3(n,e){var t=Vt;Vt|=1;try{return n(e)}finally{Vt=t,Vt===0&&(Uc=Sn()+500,Bm&&Qo())}}function il(n){Po!==null&&Po.tag===0&&!(Vt&6)&&bc();var e=Vt;Vt|=1;var t=Er.transition,i=Yt;try{if(Er.transition=null,Yt=1,n)return n()}finally{Yt=i,Er.transition=t,Vt=e,!(Vt&6)&&Qo()}}function n3(){Ji=fc.current,rn(fc)}function qa(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,S9(t)),Cn!==null)for(t=Cn.return;t!==null;){var i=t;switch(kx(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&yp();break;case 3:Nc(),rn(Bi),rn(di),jx();break;case 5:Wx(i);break;case 4:Nc();break;case 13:rn(ln);break;case 19:rn(ln);break;case 10:Bx(i.type._context);break;case 22:case 23:n3()}t=t.return}if(Gn=n,Cn=n=zo(n.current,null),qn=Ji=e,Nn=0,Bh=null,Qx=Wm=nl=0,ki=lh=null,Va!==null){for(e=0;e<Va.length;e++)if(t=Va[e],i=t.interleaved,i!==null){t.interleaved=null;var r=i.next,s=t.pending;if(s!==null){var o=s.next;s.next=r,i.next=o}t.pending=i}Va=null}return n}function ET(n,e){do{var t=Cn;try{if(zx(),K0.current=bp,Ap){for(var i=hn.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Ap=!1}if(tl=0,Hn=Ln=hn=null,oh=!1,Oh=0,Jx.current=null,t===null||t.return===null){Nn=1,Bh=e,Cn=null;break}e:{var s=n,o=t.return,a=t,l=e;if(e=qn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var h=l,f=a,d=f.tag;if(!(f.mode&1)&&(d===0||d===11||d===15)){var p=f.alternate;p?(f.updateQueue=p.updateQueue,f.memoizedState=p.memoizedState,f.lanes=p.lanes):(f.updateQueue=null,f.memoizedState=null)}var m=VS(o);if(m!==null){m.flags&=-257,HS(m,o,a,s,e),m.mode&1&&BS(s,h,e),e=m,l=h;var y=e.updateQueue;if(y===null){var w=new Set;w.add(l),e.updateQueue=w}else y.add(l);break e}else{if(!(e&1)){BS(s,h,e),i3();break e}l=Error(Pe(426))}}else if(on&&a.mode&1){var S=VS(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),HS(S,o,a,s,e),Ox(Dc(l,a));break e}}s=l=Dc(l,a),Nn!==4&&(Nn=2),lh===null?lh=[s]:lh.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=aT(s,l,e);DS(s,g);break e;case 1:a=l;var x=s.type,M=s.stateNode;if(!(s.flags&128)&&(typeof x.getDerivedStateFromError=="function"||M!==null&&typeof M.componentDidCatch=="function"&&(Oo===null||!Oo.has(M)))){s.flags|=65536,e&=-e,s.lanes|=e;var E=lT(s,a,e);DS(s,E);break e}}s=s.return}while(s!==null)}bT(t)}catch(C){e=C,Cn===t&&t!==null&&(Cn=t=t.return);continue}break}while(1)}function TT(){var n=Cp.current;return Cp.current=bp,n===null?bp:n}function i3(){(Nn===0||Nn===3||Nn===2)&&(Nn=4),Gn===null||!(nl&268435455)&&!(Wm&268435455)||Ao(Gn,qn)}function Ip(n,e){var t=Vt;Vt|=2;var i=TT();(Gn!==n||qn!==e)&&(Rs=null,qa(n,e));do try{X9();break}catch(r){ET(n,r)}while(1);if(zx(),Vt=t,Cp.current=i,Cn!==null)throw Error(Pe(261));return Gn=null,qn=0,Nn}function X9(){for(;Cn!==null;)AT(Cn)}function q9(){for(;Cn!==null&&!yR();)AT(Cn)}function AT(n){var e=PT(n.alternate,n,Ji);n.memoizedProps=n.pendingProps,e===null?bT(n):Cn=e,Jx.current=null}function bT(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=B9(t,e),t!==null){t.flags&=32767,Cn=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Nn=6,Cn=null;return}}else if(t=z9(t,e,Ji),t!==null){Cn=t;return}if(e=e.sibling,e!==null){Cn=e;return}Cn=e=n}while(e!==null);Nn===0&&(Nn=5)}function Ia(n,e,t){var i=Yt,r=Er.transition;try{Er.transition=null,Yt=1,Y9(n,e,t,i)}finally{Er.transition=r,Yt=i}return null}function Y9(n,e,t,i){do bc();while(Po!==null);if(Vt&6)throw Error(Pe(327));t=n.finishedWork;var r=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(Pe(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(CR(n,s),n===Gn&&(Cn=Gn=null,qn=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||Wd||(Wd=!0,RT(fp,function(){return bc(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=Er.transition,Er.transition=null;var o=Yt;Yt=1;var a=Vt;Vt|=4,Jx.current=null,H9(n,t),ST(t,n),p9(oy),pp=!!sy,oy=sy=null,n.current=t,G9(t),xR(),Vt=a,Yt=o,Er.transition=s}else n.current=t;if(Wd&&(Wd=!1,Po=n,Rp=r),s=n.pendingLanes,s===0&&(Oo=null),MR(t.stateNode),Hi(n,Sn()),e!==null)for(i=n.onRecoverableError,t=0;t<e.length;t++)r=e[t],i(r.value,{componentStack:r.stack,digest:r.digest});if(Pp)throw Pp=!1,n=Ay,Ay=null,n;return Rp&1&&n.tag!==0&&bc(),s=n.pendingLanes,s&1?n===by?ch++:(ch=0,by=n):ch=0,Qo(),null}function bc(){if(Po!==null){var n=aE(Rp),e=Er.transition,t=Yt;try{if(Er.transition=null,Yt=16>n?16:n,Po===null)var i=!1;else{if(n=Po,Po=null,Rp=0,Vt&6)throw Error(Pe(331));var r=Vt;for(Vt|=4,qe=n.current;qe!==null;){var s=qe,o=s.child;if(qe.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var h=a[l];for(qe=h;qe!==null;){var f=qe;switch(f.tag){case 0:case 11:case 15:ah(8,f,s)}var d=f.child;if(d!==null)d.return=f,qe=d;else for(;qe!==null;){f=qe;var p=f.sibling,m=f.return;if(yT(f),f===h){qe=null;break}if(p!==null){p.return=m,qe=p;break}qe=m}}}var y=s.alternate;if(y!==null){var w=y.child;if(w!==null){y.child=null;do{var S=w.sibling;w.sibling=null,w=S}while(w!==null)}}qe=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,qe=o;else e:for(;qe!==null;){if(s=qe,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ah(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,qe=g;break e}qe=s.return}}var x=n.current;for(qe=x;qe!==null;){o=qe;var M=o.child;if(o.subtreeFlags&2064&&M!==null)M.return=o,qe=M;else e:for(o=x;qe!==null;){if(a=qe,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Gm(9,a)}}catch(C){mn(a,a.return,C)}if(a===o){qe=null;break e}var E=a.sibling;if(E!==null){E.return=a.return,qe=E;break e}qe=a.return}}if(Vt=r,Qo(),cs&&typeof cs.onPostCommitFiberRoot=="function")try{cs.onPostCommitFiberRoot(Um,n)}catch{}i=!0}return i}finally{Yt=t,Er.transition=e}}return!1}function tM(n,e,t){e=Dc(t,e),e=aT(n,e,1),n=ko(n,e,1),e=Mi(),n!==null&&(hf(n,1,e),Hi(n,e))}function mn(n,e,t){if(n.tag===3)tM(n,n,t);else for(;e!==null;){if(e.tag===3){tM(e,n,t);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Oo===null||!Oo.has(i))){n=Dc(t,n),n=lT(e,n,1),e=ko(e,n,1),n=Mi(),e!==null&&(hf(e,1,n),Hi(e,n));break}}e=e.return}}function Z9(n,e,t){var i=n.pingCache;i!==null&&i.delete(e),e=Mi(),n.pingedLanes|=n.suspendedLanes&t,Gn===n&&(qn&t)===t&&(Nn===4||Nn===3&&(qn&130023424)===qn&&500>Sn()-e3?qa(n,0):Qx|=t),Hi(n,e)}function CT(n,e){e===0&&(n.mode&1?(e=Dd,Dd<<=1,!(Dd&130023424)&&(Dd=4194304)):e=1);var t=Mi();n=Xs(n,e),n!==null&&(hf(n,e,t),Hi(n,t))}function K9(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),CT(n,t)}function $9(n,e){var t=0;switch(n.tag){case 13:var i=n.stateNode,r=n.memoizedState;r!==null&&(t=r.retryLane);break;case 19:i=n.stateNode;break;default:throw Error(Pe(314))}i!==null&&i.delete(e),CT(n,t)}var PT;PT=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||Bi.current)Fi=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return Fi=!1,F9(n,e,t);Fi=!!(n.flags&131072)}else Fi=!1,on&&e.flags&1048576&&NE(e,Sp,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;J0(n,e),n=e.pendingProps;var r=Rc(e,di.current);Ac(e,t),r=qx(null,e,i,n,r,t);var s=Yx();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Vi(i)?(s=!0,xp(e)):s=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,Hx(e),r.updater=Hm,e.stateNode=r,r._reactInternals=e,my(e,i,n,t),e=yy(null,e,i,!0,s,t)):(e.tag=0,on&&s&&Ux(e),_i(null,e,r,t),e=e.child),e;case 16:i=e.elementType;e:{switch(J0(n,e),n=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=Q9(i),n=Ur(i,n),r){case 0:e=vy(null,e,i,n,t);break e;case 1:e=jS(null,e,i,n,t);break e;case 11:e=GS(null,e,i,n,t);break e;case 14:e=WS(null,e,i,Ur(i.type,n),t);break e}throw Error(Pe(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Ur(i,r),vy(n,e,i,r,t);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Ur(i,r),jS(n,e,i,r,t);case 3:e:{if(fT(e),n===null)throw Error(Pe(387));i=e.pendingProps,s=e.memoizedState,r=s.element,zE(n,e),Ep(e,i,null,t);var o=e.memoizedState;if(i=o.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){r=Dc(Error(Pe(423)),e),e=XS(n,e,i,t,r);break e}else if(i!==r){r=Dc(Error(Pe(424)),e),e=XS(n,e,i,t,r);break e}else for(Qi=Uo(e.stateNode.containerInfo.firstChild),tr=e,on=!0,Fr=null,t=OE(e,null,i,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(Ic(),i===r){e=qs(n,e,t);break e}_i(n,e,i,t)}e=e.child}return e;case 5:return BE(e),n===null&&fy(e),i=e.type,r=e.pendingProps,s=n!==null?n.memoizedProps:null,o=r.children,ay(i,r)?o=null:s!==null&&ay(i,s)&&(e.flags|=32),hT(n,e),_i(n,e,o,t),e.child;case 6:return n===null&&fy(e),null;case 13:return dT(n,e,t);case 4:return Gx(e,e.stateNode.containerInfo),i=e.pendingProps,n===null?e.child=Lc(e,null,i,t):_i(n,e,i,t),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Ur(i,r),GS(n,e,i,r,t);case 7:return _i(n,e,e.pendingProps,t),e.child;case 8:return _i(n,e,e.pendingProps.children,t),e.child;case 12:return _i(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,s=e.memoizedProps,o=r.value,Jt(Mp,i._currentValue),i._currentValue=o,s!==null)if(Wr(s.value,o)){if(s.children===r.children&&!Bi.current){e=qs(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===i){if(s.tag===1){l=zs(-1,t&-t),l.tag=2;var h=s.updateQueue;if(h!==null){h=h.shared;var f=h.pending;f===null?l.next=l:(l.next=f.next,f.next=l),h.pending=l}}s.lanes|=t,l=s.alternate,l!==null&&(l.lanes|=t),dy(s.return,t,e),a.lanes|=t;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Pe(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),dy(o,t,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}_i(n,e,r.children,t),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,Ac(e,t),r=Tr(r),i=i(r),e.flags|=1,_i(n,e,i,t),e.child;case 14:return i=e.type,r=Ur(i,e.pendingProps),r=Ur(i.type,r),WS(n,e,i,r,t);case 15:return cT(n,e,e.type,e.pendingProps,t);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Ur(i,r),J0(n,e),e.tag=1,Vi(i)?(n=!0,xp(e)):n=!1,Ac(e,t),oT(e,i,r),my(e,i,r,t),yy(null,e,i,!0,n,t);case 19:return pT(n,e,t);case 22:return uT(n,e,t)}throw Error(Pe(156,e.tag))};function RT(n,e){return iE(n,e)}function J9(n,e,t,i){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sr(n,e,t,i){return new J9(n,e,t,i)}function r3(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Q9(n){if(typeof n=="function")return r3(n)?1:0;if(n!=null){if(n=n.$$typeof,n===wx)return 11;if(n===Ex)return 14}return 2}function zo(n,e){var t=n.alternate;return t===null?(t=Sr(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function tp(n,e,t,i,r,s){var o=2;if(i=n,typeof n=="function")r3(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case nc:return Ya(t.children,r,s,e);case Mx:o=8,r|=8;break;case z2:return n=Sr(12,t,e,r|2),n.elementType=z2,n.lanes=s,n;case B2:return n=Sr(13,t,e,r),n.elementType=B2,n.lanes=s,n;case V2:return n=Sr(19,t,e,r),n.elementType=V2,n.lanes=s,n;case B6:return jm(t,r,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case F6:o=10;break e;case z6:o=9;break e;case wx:o=11;break e;case Ex:o=14;break e;case Mo:o=16,i=null;break e}throw Error(Pe(130,n==null?n:typeof n,""))}return e=Sr(o,t,e,r),e.elementType=n,e.type=i,e.lanes=s,e}function Ya(n,e,t,i){return n=Sr(7,n,i,e),n.lanes=t,n}function jm(n,e,t,i){return n=Sr(22,n,i,e),n.elementType=B6,n.lanes=t,n.stateNode={isHidden:!1},n}function Mv(n,e,t){return n=Sr(6,n,null,e),n.lanes=t,n}function wv(n,e,t){return e=Sr(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function e7(n,e,t,i,r){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=iv(0),this.expirationTimes=iv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=iv(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function s3(n,e,t,i,r,s,o,a,l){return n=new e7(n,e,t,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Sr(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:i,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},Hx(s),n}function t7(n,e,t){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:tc,key:i==null?null:""+i,children:n,containerInfo:e,implementation:t}}function IT(n){if(!n)return Xo;n=n._reactInternals;e:{if(cl(n)!==n||n.tag!==1)throw Error(Pe(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Vi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Pe(171))}if(n.tag===1){var t=n.type;if(Vi(t))return IE(n,t,e)}return e}function LT(n,e,t,i,r,s,o,a,l){return n=s3(t,i,!0,n,r,s,o,a,l),n.context=IT(null),t=n.current,i=Mi(),r=Fo(t),s=zs(i,r),s.callback=e??null,ko(t,s,r),n.current.lanes=r,hf(n,r,i),Hi(n,i),n}function Xm(n,e,t,i){var r=e.current,s=Mi(),o=Fo(r);return t=IT(t),e.context===null?e.context=t:e.pendingContext=t,e=zs(s,o),e.payload={element:n},i=i===void 0?null:i,i!==null&&(e.callback=i),n=ko(r,e,o),n!==null&&(Gr(n,r,o,s),Z0(n,r,o)),o}function Lp(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function nM(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function o3(n,e){nM(n,e),(n=n.alternate)&&nM(n,e)}function n7(){return null}var NT=typeof reportError=="function"?reportError:function(n){console.error(n)};function a3(n){this._internalRoot=n}qm.prototype.render=a3.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(Pe(409));Xm(n,e,null,null)};qm.prototype.unmount=a3.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;il(function(){Xm(null,n,null,null)}),e[js]=null}};function qm(n){this._internalRoot=n}qm.prototype.unstable_scheduleHydration=function(n){if(n){var e=uE();n={blockedOn:null,target:n,priority:e};for(var t=0;t<To.length&&e!==0&&e<To[t].priority;t++);To.splice(t,0,n),t===0&&fE(n)}};function l3(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Ym(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function iM(){}function i7(n,e,t,i,r){if(r){if(typeof i=="function"){var s=i;i=function(){var h=Lp(o);s.call(h)}}var o=LT(e,i,n,0,null,!1,!1,"",iM);return n._reactRootContainer=o,n[js]=o.current,Lh(n.nodeType===8?n.parentNode:n),il(),o}for(;r=n.lastChild;)n.removeChild(r);if(typeof i=="function"){var a=i;i=function(){var h=Lp(l);a.call(h)}}var l=s3(n,0,!1,null,null,!1,!1,"",iM);return n._reactRootContainer=l,n[js]=l.current,Lh(n.nodeType===8?n.parentNode:n),il(function(){Xm(e,l,t,i)}),l}function Zm(n,e,t,i,r){var s=t._reactRootContainer;if(s){var o=s;if(typeof r=="function"){var a=r;r=function(){var l=Lp(o);a.call(l)}}Xm(e,o,n,r)}else o=i7(t,e,n,r,i);return Lp(o)}lE=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=Yu(e.pendingLanes);t!==0&&(bx(e,t|1),Hi(e,Sn()),!(Vt&6)&&(Uc=Sn()+500,Qo()))}break;case 13:il(function(){var i=Xs(n,1);if(i!==null){var r=Mi();Gr(i,n,1,r)}}),o3(n,1)}};Cx=function(n){if(n.tag===13){var e=Xs(n,134217728);if(e!==null){var t=Mi();Gr(e,n,134217728,t)}o3(n,134217728)}};cE=function(n){if(n.tag===13){var e=Fo(n),t=Xs(n,e);if(t!==null){var i=Mi();Gr(t,n,e,i)}o3(n,e)}};uE=function(){return Yt};hE=function(n,e){var t=Yt;try{return Yt=n,e()}finally{Yt=t}};$2=function(n,e,t){switch(e){case"input":if(W2(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var i=t[e];if(i!==n&&i.form===n.form){var r=zm(i);if(!r)throw Error(Pe(90));H6(i),W2(i,r)}}}break;case"textarea":W6(n,t);break;case"select":e=t.value,e!=null&&Mc(n,!!t.multiple,e,!1)}};$6=t3;J6=il;var r7={usingClientEntryPoint:!1,Events:[df,oc,zm,Z6,K6,t3]},Pu={findFiberByHostInstance:Ba,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},s7={bundleType:Pu.bundleType,version:Pu.version,rendererPackageName:Pu.rendererPackageName,rendererConfig:Pu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Qs.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=tE(n),n===null?null:n.stateNode},findFiberByHostInstance:Pu.findFiberByHostInstance||n7,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jd.isDisabled&&jd.supportsFiber)try{Um=jd.inject(s7),cs=jd}catch{}}or.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=r7;or.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!l3(e))throw Error(Pe(200));return t7(n,e,null,t)};or.createRoot=function(n,e){if(!l3(n))throw Error(Pe(299));var t=!1,i="",r=NT;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=s3(n,1,!1,null,null,t,!1,i,r),n[js]=e.current,Lh(n.nodeType===8?n.parentNode:n),new a3(e)};or.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(Pe(188)):(n=Object.keys(n).join(","),Error(Pe(268,n)));return n=tE(e),n=n===null?null:n.stateNode,n};or.flushSync=function(n){return il(n)};or.hydrate=function(n,e,t){if(!Ym(e))throw Error(Pe(200));return Zm(null,n,e,!0,t)};or.hydrateRoot=function(n,e,t){if(!l3(n))throw Error(Pe(405));var i=t!=null&&t.hydratedSources||null,r=!1,s="",o=NT;if(t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=LT(e,null,n,1,t??null,r,!1,s,o),n[js]=e.current,Lh(n),i)for(n=0;n<i.length;n++)t=i[n],r=t._getVersion,r=r(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,r]:e.mutableSourceEagerHydrationData.push(t,r);return new qm(e)};or.render=function(n,e,t){if(!Ym(e))throw Error(Pe(200));return Zm(null,n,e,!1,t)};or.unmountComponentAtNode=function(n){if(!Ym(n))throw Error(Pe(40));return n._reactRootContainer?(il(function(){Zm(null,null,n,!1,function(){n._reactRootContainer=null,n[js]=null})}),!0):!1};or.unstable_batchedUpdates=t3;or.unstable_renderSubtreeIntoContainer=function(n,e,t,i){if(!Ym(t))throw Error(Pe(200));if(n==null||n._reactInternals===void 0)throw Error(Pe(38));return Zm(n,e,t,!1,i)};or.version="18.3.1-next-f1338f8080-20240426";function DT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(DT)}catch(n){console.error(n)}}DT(),D6.exports=or;var o7=D6.exports,rM=o7;O2.createRoot=rM.createRoot,O2.hydrateRoot=rM.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vh(){return Vh=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Vh.apply(this,arguments)}var Ro;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Ro||(Ro={}));const sM="popstate";function a7(n){n===void 0&&(n={});function e(i,r){let{pathname:s,search:o,hash:a}=i.location;return Ry("",{pathname:s,search:o,hash:a},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function t(i,r){return typeof r=="string"?r:Np(r)}return c7(e,t,null,n)}function vn(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function UT(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function l7(){return Math.random().toString(36).substr(2,8)}function oM(n,e){return{usr:n.state,key:n.key,idx:e}}function Ry(n,e,t,i){return t===void 0&&(t=null),Vh({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?$c(e):e,{state:t,key:e&&e.key||i||l7()})}function Np(n){let{pathname:e="/",search:t="",hash:i=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function $c(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substr(i),n=n.substr(0,i)),n&&(e.pathname=n)}return e}function c7(n,e,t,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:s=!1}=i,o=r.history,a=Ro.Pop,l=null,h=f();h==null&&(h=0,o.replaceState(Vh({},o.state,{idx:h}),""));function f(){return(o.state||{idx:null}).idx}function d(){a=Ro.Pop;let S=f(),g=S==null?null:S-h;h=S,l&&l({action:a,location:w.location,delta:g})}function p(S,g){a=Ro.Push;let x=Ry(w.location,S,g);t&&t(x,S),h=f()+1;let M=oM(x,h),E=w.createHref(x);try{o.pushState(M,"",E)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;r.location.assign(E)}s&&l&&l({action:a,location:w.location,delta:1})}function m(S,g){a=Ro.Replace;let x=Ry(w.location,S,g);t&&t(x,S),h=f();let M=oM(x,h),E=w.createHref(x);o.replaceState(M,"",E),s&&l&&l({action:a,location:w.location,delta:0})}function y(S){let g=r.location.origin!=="null"?r.location.origin:r.location.href,x=typeof S=="string"?S:Np(S);return x=x.replace(/ $/,"%20"),vn(g,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,g)}let w={get action(){return a},get location(){return n(r,o)},listen(S){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(sM,d),l=S,()=>{r.removeEventListener(sM,d),l=null}},createHref(S){return e(r,S)},createURL:y,encodeLocation(S){let g=y(S);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:p,replace:m,go(S){return o.go(S)}};return w}var aM;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(aM||(aM={}));function u7(n,e,t){return t===void 0&&(t="/"),h7(n,e,t,!1)}function h7(n,e,t,i){let r=typeof e=="string"?$c(e):e,s=kc(r.pathname||"/",t);if(s==null)return null;let o=kT(n);f7(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let h=w7(s);a=S7(o[l],h,i)}return a}function kT(n,e,t,i){e===void 0&&(e=[]),t===void 0&&(t=[]),i===void 0&&(i="");let r=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(vn(l.relativePath.startsWith(i),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(i.length));let h=Bo([i,l.relativePath]),f=t.concat(l);s.children&&s.children.length>0&&(vn(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),kT(s.children,e,f,h)),!(s.path==null&&!s.index)&&e.push({path:h,score:x7(h,s.index),routesMeta:f})};return n.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))r(s,o);else for(let l of OT(s.path))r(s,o,l)}),e}function OT(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,r=t.endsWith("?"),s=t.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let o=OT(i.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),r&&a.push(...o),a.map(l=>n.startsWith("/")&&l===""?"/":l)}function f7(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:_7(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}const d7=/^:[\w-]+$/,p7=3,m7=2,g7=1,v7=10,y7=-2,lM=n=>n==="*";function x7(n,e){let t=n.split("/"),i=t.length;return t.some(lM)&&(i+=y7),e&&(i+=m7),t.filter(r=>!lM(r)).reduce((r,s)=>r+(d7.test(s)?p7:s===""?g7:v7),i)}function _7(n,e){return n.length===e.length&&n.slice(0,-1).every((i,r)=>i===e[r])?n[n.length-1]-e[e.length-1]:0}function S7(n,e,t){t===void 0&&(t=!1);let{routesMeta:i}=n,r={},s="/",o=[];for(let a=0;a<i.length;++a){let l=i[a],h=a===i.length-1,f=s==="/"?e:e.slice(s.length)||"/",d=Dp({path:l.relativePath,caseSensitive:l.caseSensitive,end:h},f),p=l.route;if(!d&&h&&t&&!i[i.length-1].route.index&&(d=Dp({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},f)),!d)return null;Object.assign(r,d.params),o.push({params:r,pathname:Bo([s,d.pathname]),pathnameBase:b7(Bo([s,d.pathnameBase])),route:p}),d.pathnameBase!=="/"&&(s=Bo([s,d.pathnameBase]))}return o}function Dp(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=M7(n.path,n.caseSensitive,n.end),r=e.match(t);if(!r)return null;let s=r[0],o=s.replace(/(.)\/+$/,"$1"),a=r.slice(1);return{params:i.reduce((h,f,d)=>{let{paramName:p,isOptional:m}=f;if(p==="*"){let w=a[d]||"";o=s.slice(0,s.length-w.length).replace(/(.)\/+$/,"$1")}const y=a[d];return m&&!y?h[p]=void 0:h[p]=(y||"").replace(/%2F/g,"/"),h},{}),pathname:s,pathnameBase:o,pattern:n}}function M7(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),UT(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(i.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function w7(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return UT(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function kc(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function E7(n,e){e===void 0&&(e="/");let{pathname:t,search:i="",hash:r=""}=typeof n=="string"?$c(n):n;return{pathname:t?t.startsWith("/")?t:T7(t,e):e,search:C7(i),hash:P7(r)}}function T7(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function Ev(n,e,t,i){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function A7(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function FT(n,e){let t=A7(n);return e?t.map((i,r)=>r===t.length-1?i.pathname:i.pathnameBase):t.map(i=>i.pathnameBase)}function zT(n,e,t,i){i===void 0&&(i=!1);let r;typeof n=="string"?r=$c(n):(r=Vh({},n),vn(!r.pathname||!r.pathname.includes("?"),Ev("?","pathname","search",r)),vn(!r.pathname||!r.pathname.includes("#"),Ev("#","pathname","hash",r)),vn(!r.search||!r.search.includes("#"),Ev("#","search","hash",r)));let s=n===""||r.pathname==="",o=s?"/":r.pathname,a;if(o==null)a=t;else{let d=e.length-1;if(!i&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),d-=1;r.pathname=p.join("/")}a=d>=0?e[d]:"/"}let l=E7(r,a),h=o&&o!=="/"&&o.endsWith("/"),f=(s||o===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(h||f)&&(l.pathname+="/"),l}const Bo=n=>n.join("/").replace(/\/\/+/g,"/"),b7=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),C7=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,P7=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function R7(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const BT=["post","put","patch","delete"];new Set(BT);const I7=["get",...BT];new Set(I7);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hh(){return Hh=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Hh.apply(this,arguments)}const Km=G.createContext(null),VT=G.createContext(null),ea=G.createContext(null),$m=G.createContext(null),ul=G.createContext({outlet:null,matches:[],isDataRoute:!1}),HT=G.createContext(null);function L7(n,e){let{relative:t}=e===void 0?{}:e;mf()||vn(!1);let{basename:i,navigator:r}=G.useContext(ea),{hash:s,pathname:o,search:a}=Jm(n,{relative:t}),l=o;return i!=="/"&&(l=o==="/"?i:Bo([i,o])),r.createHref({pathname:l,search:a,hash:s})}function mf(){return G.useContext($m)!=null}function Jc(){return mf()||vn(!1),G.useContext($m).location}function GT(n){G.useContext(ea).static||G.useLayoutEffect(n)}function N7(){let{isDataRoute:n}=G.useContext(ul);return n?X7():D7()}function D7(){mf()||vn(!1);let n=G.useContext(Km),{basename:e,future:t,navigator:i}=G.useContext(ea),{matches:r}=G.useContext(ul),{pathname:s}=Jc(),o=JSON.stringify(FT(r,t.v7_relativeSplatPath)),a=G.useRef(!1);return GT(()=>{a.current=!0}),G.useCallback(function(h,f){if(f===void 0&&(f={}),!a.current)return;if(typeof h=="number"){i.go(h);return}let d=zT(h,JSON.parse(o),s,f.relative==="path");n==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Bo([e,d.pathname])),(f.replace?i.replace:i.push)(d,f.state,f)},[e,i,o,s,n])}function Jm(n,e){let{relative:t}=e===void 0?{}:e,{future:i}=G.useContext(ea),{matches:r}=G.useContext(ul),{pathname:s}=Jc(),o=JSON.stringify(FT(r,i.v7_relativeSplatPath));return G.useMemo(()=>zT(n,JSON.parse(o),s,t==="path"),[n,o,s,t])}function U7(n,e){return k7(n,e)}function k7(n,e,t,i){mf()||vn(!1);let{navigator:r,static:s}=G.useContext(ea),{matches:o}=G.useContext(ul),a=o[o.length-1],l=a?a.params:{};a&&a.pathname;let h=a?a.pathnameBase:"/";a&&a.route;let f=Jc(),d;if(e){var p;let g=typeof e=="string"?$c(e):e;h==="/"||(p=g.pathname)!=null&&p.startsWith(h)||vn(!1),d=g}else d=f;let m=d.pathname||"/",y=m;if(h!=="/"){let g=h.replace(/^\//,"").split("/");y="/"+m.replace(/^\//,"").split("/").slice(g.length).join("/")}let w=!s&&t&&t.matches&&t.matches.length>0?t.matches:u7(n,{pathname:y}),S=V7(w&&w.map(g=>Object.assign({},g,{params:Object.assign({},l,g.params),pathname:Bo([h,r.encodeLocation?r.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?h:Bo([h,r.encodeLocation?r.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),o,t,i);return e&&S?G.createElement($m.Provider,{value:{location:Hh({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Ro.Pop}},S):S}function O7(){let n=j7(),e=R7(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return G.createElement(G.Fragment,null,G.createElement("h2",null,"Unexpected Application Error!"),G.createElement("h3",{style:{fontStyle:"italic"}},e),t?G.createElement("pre",{style:r},t):null,s)}const F7=G.createElement(O7,null);class z7 extends G.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?G.createElement(ul.Provider,{value:this.props.routeContext},G.createElement(HT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function B7(n){let{routeContext:e,match:t,children:i}=n,r=G.useContext(Km);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),G.createElement(ul.Provider,{value:e},i)}function V7(n,e,t,i){var r;if(e===void 0&&(e=[]),t===void 0&&(t=null),i===void 0&&(i=null),n==null){var s;if(!t)return null;if(t.errors)n=t.matches;else if((s=i)!=null&&s.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,a=(r=t)==null?void 0:r.errors;if(a!=null){let f=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);f>=0||vn(!1),o=o.slice(0,Math.min(o.length,f+1))}let l=!1,h=-1;if(t&&i&&i.v7_partialHydration)for(let f=0;f<o.length;f++){let d=o[f];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(h=f),d.route.id){let{loaderData:p,errors:m}=t,y=d.route.loader&&p[d.route.id]===void 0&&(!m||m[d.route.id]===void 0);if(d.route.lazy||y){l=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}return o.reduceRight((f,d,p)=>{let m,y=!1,w=null,S=null;t&&(m=a&&d.route.id?a[d.route.id]:void 0,w=d.route.errorElement||F7,l&&(h<0&&p===0?(q7("route-fallback",!1),y=!0,S=null):h===p&&(y=!0,S=d.route.hydrateFallbackElement||null)));let g=e.concat(o.slice(0,p+1)),x=()=>{let M;return m?M=w:y?M=S:d.route.Component?M=G.createElement(d.route.Component,null):d.route.element?M=d.route.element:M=f,G.createElement(B7,{match:d,routeContext:{outlet:f,matches:g,isDataRoute:t!=null},children:M})};return t&&(d.route.ErrorBoundary||d.route.errorElement||p===0)?G.createElement(z7,{location:t.location,revalidation:t.revalidation,component:w,error:m,children:x(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):x()},null)}var WT=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(WT||{}),Up=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(Up||{});function H7(n){let e=G.useContext(Km);return e||vn(!1),e}function G7(n){let e=G.useContext(VT);return e||vn(!1),e}function W7(n){let e=G.useContext(ul);return e||vn(!1),e}function jT(n){let e=W7(),t=e.matches[e.matches.length-1];return t.route.id||vn(!1),t.route.id}function j7(){var n;let e=G.useContext(HT),t=G7(Up.UseRouteError),i=jT(Up.UseRouteError);return e!==void 0?e:(n=t.errors)==null?void 0:n[i]}function X7(){let{router:n}=H7(WT.UseNavigateStable),e=jT(Up.UseNavigateStable),t=G.useRef(!1);return GT(()=>{t.current=!0}),G.useCallback(function(r,s){s===void 0&&(s={}),t.current&&(typeof r=="number"?n.navigate(r):n.navigate(r,Hh({fromRouteId:e},s)))},[n,e])}const cM={};function q7(n,e,t){!e&&!cM[n]&&(cM[n]=!0)}function Y7(n,e){n==null||n.v7_startTransition,(n==null?void 0:n.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function Ku(n){vn(!1)}function Z7(n){let{basename:e="/",children:t=null,location:i,navigationType:r=Ro.Pop,navigator:s,static:o=!1,future:a}=n;mf()&&vn(!1);let l=e.replace(/^\/*/,"/"),h=G.useMemo(()=>({basename:l,navigator:s,static:o,future:Hh({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof i=="string"&&(i=$c(i));let{pathname:f="/",search:d="",hash:p="",state:m=null,key:y="default"}=i,w=G.useMemo(()=>{let S=kc(f,l);return S==null?null:{location:{pathname:S,search:d,hash:p,state:m,key:y},navigationType:r}},[l,f,d,p,m,y,r]);return w==null?null:G.createElement(ea.Provider,{value:h},G.createElement($m.Provider,{children:t,value:w}))}function K7(n){let{children:e,location:t}=n;return U7(Iy(e),t)}new Promise(()=>{});function Iy(n,e){e===void 0&&(e=[]);let t=[];return G.Children.forEach(n,(i,r)=>{if(!G.isValidElement(i))return;let s=[...e,r];if(i.type===G.Fragment){t.push.apply(t,Iy(i.props.children,s));return}i.type!==Ku&&vn(!1),!i.props.index||!i.props.children||vn(!1);let o={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(o.children=Iy(i.props.children,s)),t.push(o)}),t}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function kp(){return kp=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},kp.apply(this,arguments)}function XT(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}function $7(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function J7(n,e){return n.button===0&&(!e||e==="_self")&&!$7(n)}const Q7=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],eI=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],tI="6";try{window.__reactRouterVersion=tI}catch{}const nI=G.createContext({isTransitioning:!1}),iI="startTransition",uM=ZP[iI];function rI(n){let{basename:e,children:t,future:i,window:r}=n,s=G.useRef();s.current==null&&(s.current=a7({window:r,v5Compat:!0}));let o=s.current,[a,l]=G.useState({action:o.action,location:o.location}),{v7_startTransition:h}=i||{},f=G.useCallback(d=>{h&&uM?uM(()=>l(d)):l(d)},[l,h]);return G.useLayoutEffect(()=>o.listen(f),[o,f]),G.useEffect(()=>Y7(i),[i]),G.createElement(Z7,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:o,future:i})}const sI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",oI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ly=G.forwardRef(function(e,t){let{onClick:i,relative:r,reloadDocument:s,replace:o,state:a,target:l,to:h,preventScrollReset:f,viewTransition:d}=e,p=XT(e,Q7),{basename:m}=G.useContext(ea),y,w=!1;if(typeof h=="string"&&oI.test(h)&&(y=h,sI))try{let M=new URL(window.location.href),E=h.startsWith("//")?new URL(M.protocol+h):new URL(h),C=kc(E.pathname,m);E.origin===M.origin&&C!=null?h=C+E.search+E.hash:w=!0}catch{}let S=L7(h,{relative:r}),g=lI(h,{replace:o,state:a,target:l,preventScrollReset:f,relative:r,viewTransition:d});function x(M){i&&i(M),M.defaultPrevented||g(M)}return G.createElement("a",kp({},p,{href:y||S,onClick:w||s?i:x,ref:t,target:l}))}),Tv=G.forwardRef(function(e,t){let{"aria-current":i="page",caseSensitive:r=!1,className:s="",end:o=!1,style:a,to:l,viewTransition:h,children:f}=e,d=XT(e,eI),p=Jm(l,{relative:d.relative}),m=Jc(),y=G.useContext(VT),{navigator:w,basename:S}=G.useContext(ea),g=y!=null&&cI(p)&&h===!0,x=w.encodeLocation?w.encodeLocation(p).pathname:p.pathname,M=m.pathname,E=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;r||(M=M.toLowerCase(),E=E?E.toLowerCase():null,x=x.toLowerCase()),E&&S&&(E=kc(E,S)||E);const C=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let P=M===x||!o&&M.startsWith(x)&&M.charAt(C)==="/",I=E!=null&&(E===x||!o&&E.startsWith(x)&&E.charAt(x.length)==="/"),L={isActive:P,isPending:I,isTransitioning:g},R=P?i:void 0,A;typeof s=="function"?A=s(L):A=[s,P?"active":null,I?"pending":null,g?"transitioning":null].filter(Boolean).join(" ");let k=typeof a=="function"?a(L):a;return G.createElement(Ly,kp({},d,{"aria-current":R,className:A,ref:t,style:k,to:l,viewTransition:h}),typeof f=="function"?f(L):f)});var Ny;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(Ny||(Ny={}));var hM;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(hM||(hM={}));function aI(n){let e=G.useContext(Km);return e||vn(!1),e}function lI(n,e){let{target:t,replace:i,state:r,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=N7(),h=Jc(),f=Jm(n,{relative:o});return G.useCallback(d=>{if(J7(d,t)){d.preventDefault();let p=i!==void 0?i:Np(h)===Np(f);l(n,{replace:p,state:r,preventScrollReset:s,relative:o,viewTransition:a})}},[h,l,f,i,r,t,n,s,o,a])}function cI(n,e){e===void 0&&(e={});let t=G.useContext(nI);t==null&&vn(!1);let{basename:i}=aI(Ny.useViewTransitionState),r=Jm(n,{relative:e.relative});if(!t.isTransitioning)return!1;let s=kc(t.currentLocation.pathname,i)||t.currentLocation.pathname,o=kc(t.nextLocation.pathname,i)||t.nextLocation.pathname;return Dp(r.pathname,o)!=null||Dp(r.pathname,s)!=null}const qT=G.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"}),Qm=G.createContext({}),e1=G.createContext(null),t1=typeof document<"u",c3=t1?G.useLayoutEffect:G.useEffect,YT=G.createContext({strict:!1}),u3=n=>n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),uI="framerAppearId",ZT="data-"+u3(uI);function hI(n,e,t,i){const{visualElement:r}=G.useContext(Qm),s=G.useContext(YT),o=G.useContext(e1),a=G.useContext(qT).reducedMotion,l=G.useRef();i=i||s.renderer,!l.current&&i&&(l.current=i(n,{visualState:e,parent:r,props:t,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const h=l.current;G.useInsertionEffect(()=>{h&&h.update(t,o)});const f=G.useRef(!!(t[ZT]&&!window.HandoffComplete));return c3(()=>{h&&(h.render(),f.current&&h.animationState&&h.animationState.animateChanges())}),G.useEffect(()=>{h&&(h.updateFeatures(),!f.current&&h.animationState&&h.animationState.animateChanges(),f.current&&(f.current=!1,window.HandoffComplete=!0))}),h}function dc(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function fI(n,e,t){return G.useCallback(i=>{i&&n.mount&&n.mount(i),e&&(i?e.mount(i):e.unmount()),t&&(typeof t=="function"?t(i):dc(t)&&(t.current=i))},[e])}function Gh(n){return typeof n=="string"||Array.isArray(n)}function n1(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}const h3=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],f3=["initial",...h3];function i1(n){return n1(n.animate)||f3.some(e=>Gh(n[e]))}function KT(n){return!!(i1(n)||n.variants)}function dI(n,e){if(i1(n)){const{initial:t,animate:i}=n;return{initial:t===!1||Gh(t)?t:void 0,animate:Gh(i)?i:void 0}}return n.inherit!==!1?e:{}}function pI(n){const{initial:e,animate:t}=dI(n,G.useContext(Qm));return G.useMemo(()=>({initial:e,animate:t}),[fM(e),fM(t)])}function fM(n){return Array.isArray(n)?n.join(" "):n}const dM={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Wh={};for(const n in dM)Wh[n]={isEnabled:e=>dM[n].some(t=>!!e[t])};function mI(n){for(const e in n)Wh[e]={...Wh[e],...n[e]}}const d3=G.createContext({}),$T=G.createContext({}),gI=Symbol.for("motionComponentSymbol");function vI({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:i,Component:r}){n&&mI(n);function s(a,l){let h;const f={...G.useContext(qT),...a,layoutId:yI(a)},{isStatic:d}=f,p=pI(a),m=i(a,d);if(!d&&t1){p.visualElement=hI(r,m,f,e);const y=G.useContext($T),w=G.useContext(YT).strict;p.visualElement&&(h=p.visualElement.loadFeatures(f,w,n,y))}return G.createElement(Qm.Provider,{value:p},h&&p.visualElement?G.createElement(h,{visualElement:p.visualElement,...f}):null,t(r,a,fI(m,p.visualElement,l),m,d,p.visualElement))}const o=G.forwardRef(s);return o[gI]=r,o}function yI({layoutId:n}){const e=G.useContext(d3).id;return e&&n!==void 0?e+"-"+n:n}function xI(n){function e(i,r={}){return vI(n(i,r))}if(typeof Proxy>"u")return e;const t=new Map;return new Proxy(e,{get:(i,r)=>(t.has(r)||t.set(r,e(r)),t.get(r))})}const _I=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function p3(n){return typeof n!="string"||n.includes("-")?!1:!!(_I.indexOf(n)>-1||/[A-Z]/.test(n))}const Op={};function SI(n){Object.assign(Op,n)}const gf=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],hl=new Set(gf);function JT(n,{layout:e,layoutId:t}){return hl.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!Op[n]||n==="opacity")}const Gi=n=>!!(n&&n.getVelocity),MI={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},wI=gf.length;function EI(n,{enableHardwareAcceleration:e=!0,allowTransformNone:t=!0},i,r){let s="";for(let o=0;o<wI;o++){const a=gf[o];if(n[a]!==void 0){const l=MI[a]||a;s+=`${l}(${n[a]}) `}}return e&&!n.z&&(s+="translateZ(0)"),s=s.trim(),r?s=r(n,i?"":s):t&&i&&(s="none"),s}const QT=n=>e=>typeof e=="string"&&e.startsWith(n),eA=QT("--"),Dy=QT("var(--"),TI=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,AI=(n,e)=>e&&typeof n=="number"?e.transform(n):n,qo=(n,e,t)=>Math.min(Math.max(t,n),e),fl={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},uh={...fl,transform:n=>qo(0,1,n)},Xd={...fl,default:1},hh=n=>Math.round(n*1e5)/1e5,r1=/(-)?([\d]*\.?[\d])+/g,tA=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,bI=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function vf(n){return typeof n=="string"}const yf=n=>({test:e=>vf(e)&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),So=yf("deg"),hs=yf("%"),mt=yf("px"),CI=yf("vh"),PI=yf("vw"),pM={...hs,parse:n=>hs.parse(n)/100,transform:n=>hs.transform(n*100)},mM={...fl,transform:Math.round},nA={borderWidth:mt,borderTopWidth:mt,borderRightWidth:mt,borderBottomWidth:mt,borderLeftWidth:mt,borderRadius:mt,radius:mt,borderTopLeftRadius:mt,borderTopRightRadius:mt,borderBottomRightRadius:mt,borderBottomLeftRadius:mt,width:mt,maxWidth:mt,height:mt,maxHeight:mt,size:mt,top:mt,right:mt,bottom:mt,left:mt,padding:mt,paddingTop:mt,paddingRight:mt,paddingBottom:mt,paddingLeft:mt,margin:mt,marginTop:mt,marginRight:mt,marginBottom:mt,marginLeft:mt,rotate:So,rotateX:So,rotateY:So,rotateZ:So,scale:Xd,scaleX:Xd,scaleY:Xd,scaleZ:Xd,skew:So,skewX:So,skewY:So,distance:mt,translateX:mt,translateY:mt,translateZ:mt,x:mt,y:mt,z:mt,perspective:mt,transformPerspective:mt,opacity:uh,originX:pM,originY:pM,originZ:mt,zIndex:mM,fillOpacity:uh,strokeOpacity:uh,numOctaves:mM};function m3(n,e,t,i){const{style:r,vars:s,transform:o,transformOrigin:a}=n;let l=!1,h=!1,f=!0;for(const d in e){const p=e[d];if(eA(d)){s[d]=p;continue}const m=nA[d],y=AI(p,m);if(hl.has(d)){if(l=!0,o[d]=y,!f)continue;p!==(m.default||0)&&(f=!1)}else d.startsWith("origin")?(h=!0,a[d]=y):r[d]=y}if(e.transform||(l||i?r.transform=EI(n.transform,t,f,i):r.transform&&(r.transform="none")),h){const{originX:d="50%",originY:p="50%",originZ:m=0}=a;r.transformOrigin=`${d} ${p} ${m}`}}const g3=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function iA(n,e,t){for(const i in e)!Gi(e[i])&&!JT(i,t)&&(n[i]=e[i])}function RI({transformTemplate:n},e,t){return G.useMemo(()=>{const i=g3();return m3(i,e,{enableHardwareAcceleration:!t},n),Object.assign({},i.vars,i.style)},[e])}function II(n,e,t){const i=n.style||{},r={};return iA(r,i,n),Object.assign(r,RI(n,e,t)),n.transformValues?n.transformValues(r):r}function LI(n,e,t){const i={},r=II(n,e,t);return n.drag&&n.dragListener!==!1&&(i.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(i.tabIndex=0),i.style=r,i}const NI=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Fp(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||NI.has(n)}let rA=n=>!Fp(n);function DI(n){n&&(rA=e=>e.startsWith("on")?!Fp(e):n(e))}try{DI(require("@emotion/is-prop-valid").default)}catch{}function UI(n,e,t){const i={};for(const r in n)r==="values"&&typeof n.values=="object"||(rA(r)||t===!0&&Fp(r)||!e&&!Fp(r)||n.draggable&&r.startsWith("onDrag"))&&(i[r]=n[r]);return i}function gM(n,e,t){return typeof n=="string"?n:mt.transform(e+t*n)}function kI(n,e,t){const i=gM(e,n.x,n.width),r=gM(t,n.y,n.height);return`${i} ${r}`}const OI={offset:"stroke-dashoffset",array:"stroke-dasharray"},FI={offset:"strokeDashoffset",array:"strokeDasharray"};function zI(n,e,t=1,i=0,r=!0){n.pathLength=1;const s=r?OI:FI;n[s.offset]=mt.transform(-i);const o=mt.transform(e),a=mt.transform(t);n[s.array]=`${o} ${a}`}function v3(n,{attrX:e,attrY:t,attrScale:i,originX:r,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...h},f,d,p){if(m3(n,h,f,p),d){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:m,style:y,dimensions:w}=n;m.transform&&(w&&(y.transform=m.transform),delete m.transform),w&&(r!==void 0||s!==void 0||y.transform)&&(y.transformOrigin=kI(w,r!==void 0?r:.5,s!==void 0?s:.5)),e!==void 0&&(m.x=e),t!==void 0&&(m.y=t),i!==void 0&&(m.scale=i),o!==void 0&&zI(m,o,a,l,!1)}const sA=()=>({...g3(),attrs:{}}),y3=n=>typeof n=="string"&&n.toLowerCase()==="svg";function BI(n,e,t,i){const r=G.useMemo(()=>{const s=sA();return v3(s,e,{enableHardwareAcceleration:!1},y3(i),n.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(n.style){const s={};iA(s,n.style,n),r.style={...s,...r.style}}return r}function VI(n=!1){return(t,i,r,{latestValues:s},o)=>{const l=(p3(t)?BI:LI)(i,s,o,t),f={...UI(i,typeof t=="string",n),...l,ref:r},{children:d}=i,p=G.useMemo(()=>Gi(d)?d.get():d,[d]);return G.createElement(t,{...f,children:p})}}function oA(n,{style:e,vars:t},i,r){Object.assign(n.style,e,r&&r.getProjectionStyles(i));for(const s in t)n.style.setProperty(s,t[s])}const aA=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function lA(n,e,t,i){oA(n,e,void 0,i);for(const r in e.attrs)n.setAttribute(aA.has(r)?r:u3(r),e.attrs[r])}function x3(n,e){const{style:t}=n,i={};for(const r in t)(Gi(t[r])||e.style&&Gi(e.style[r])||JT(r,n))&&(i[r]=t[r]);return i}function cA(n,e){const t=x3(n,e);for(const i in n)if(Gi(n[i])||Gi(e[i])){const r=gf.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;t[r]=n[i]}return t}function _3(n,e,t,i={},r={}){return typeof e=="function"&&(e=e(t!==void 0?t:n.custom,i,r)),typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"&&(e=e(t!==void 0?t:n.custom,i,r)),e}function uA(n){const e=G.useRef(null);return e.current===null&&(e.current=n()),e.current}const zp=n=>Array.isArray(n),HI=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),GI=n=>zp(n)?n[n.length-1]||0:n;function np(n){const e=Gi(n)?n.get():n;return HI(e)?e.toValue():e}function WI({scrapeMotionValuesFromProps:n,createRenderState:e,onMount:t},i,r,s){const o={latestValues:jI(i,r,s,n),renderState:e()};return t&&(o.mount=a=>t(i,a,o)),o}const hA=n=>(e,t)=>{const i=G.useContext(Qm),r=G.useContext(e1),s=()=>WI(n,e,i,r);return t?s():uA(s)};function jI(n,e,t,i){const r={},s=i(n,{});for(const p in s)r[p]=np(s[p]);let{initial:o,animate:a}=n;const l=i1(n),h=KT(n);e&&h&&!l&&n.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let f=t?t.initial===!1:!1;f=f||o===!1;const d=f?a:o;return d&&typeof d!="boolean"&&!n1(d)&&(Array.isArray(d)?d:[d]).forEach(m=>{const y=_3(n,m);if(!y)return;const{transitionEnd:w,transition:S,...g}=y;for(const x in g){let M=g[x];if(Array.isArray(M)){const E=f?M.length-1:0;M=M[E]}M!==null&&(r[x]=M)}for(const x in w)r[x]=w[x]}),r}const gn=n=>n;class vM{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const t=this.order.indexOf(e);t!==-1&&(this.order.splice(t,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function XI(n){let e=new vM,t=new vM,i=0,r=!1,s=!1;const o=new WeakSet,a={schedule:(l,h=!1,f=!1)=>{const d=f&&r,p=d?e:t;return h&&o.add(l),p.add(l)&&d&&r&&(i=e.order.length),l},cancel:l=>{t.remove(l),o.delete(l)},process:l=>{if(r){s=!0;return}if(r=!0,[e,t]=[t,e],t.clear(),i=e.order.length,i)for(let h=0;h<i;h++){const f=e.order[h];f(l),o.has(f)&&(a.schedule(f),n())}r=!1,s&&(s=!1,a.process(l))}};return a}const qd=["prepare","read","update","preRender","render","postRender"],qI=40;function YI(n,e){let t=!1,i=!0;const r={delta:0,timestamp:0,isProcessing:!1},s=qd.reduce((d,p)=>(d[p]=XI(()=>t=!0),d),{}),o=d=>s[d].process(r),a=()=>{const d=performance.now();t=!1,r.delta=i?1e3/60:Math.max(Math.min(d-r.timestamp,qI),1),r.timestamp=d,r.isProcessing=!0,qd.forEach(o),r.isProcessing=!1,t&&e&&(i=!1,n(a))},l=()=>{t=!0,i=!0,r.isProcessing||n(a)};return{schedule:qd.reduce((d,p)=>{const m=s[p];return d[p]=(y,w=!1,S=!1)=>(t||l(),m.schedule(y,w,S)),d},{}),cancel:d=>qd.forEach(p=>s[p].cancel(d)),state:r,steps:s}}const{schedule:Qt,cancel:Ys,state:li,steps:Av}=YI(typeof requestAnimationFrame<"u"?requestAnimationFrame:gn,!0),ZI={useVisualState:hA({scrapeMotionValuesFromProps:cA,createRenderState:sA,onMount:(n,e,{renderState:t,latestValues:i})=>{Qt.read(()=>{try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}),Qt.render(()=>{v3(t,i,{enableHardwareAcceleration:!1},y3(e.tagName),n.transformTemplate),lA(e,t)})}})},KI={useVisualState:hA({scrapeMotionValuesFromProps:x3,createRenderState:g3})};function $I(n,{forwardMotionProps:e=!1},t,i){return{...p3(n)?ZI:KI,preloadedFeatures:t,useRender:VI(e),createVisualElement:i,Component:n}}function Os(n,e,t,i={passive:!0}){return n.addEventListener(e,t,i),()=>n.removeEventListener(e,t)}const fA=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1;function s1(n,e="page"){return{point:{x:n[e+"X"],y:n[e+"Y"]}}}const JI=n=>e=>fA(e)&&n(e,s1(e));function Bs(n,e,t,i){return Os(n,e,JI(t),i)}const QI=(n,e)=>t=>e(n(t)),Vo=(...n)=>n.reduce(QI);function dA(n){let e=null;return()=>{const t=()=>{e=null};return e===null?(e=n,t):!1}}const yM=dA("dragHorizontal"),xM=dA("dragVertical");function pA(n){let e=!1;if(n==="y")e=xM();else if(n==="x")e=yM();else{const t=yM(),i=xM();t&&i?e=()=>{t(),i()}:(t&&t(),i&&i())}return e}function mA(){const n=pA(!0);return n?(n(),!1):!0}class ta{constructor(e){this.isMounted=!1,this.node=e}update(){}}function _M(n,e){const t="pointer"+(e?"enter":"leave"),i="onHover"+(e?"Start":"End"),r=(s,o)=>{if(s.pointerType==="touch"||mA())return;const a=n.getProps();n.animationState&&a.whileHover&&n.animationState.setActive("whileHover",e),a[i]&&Qt.update(()=>a[i](s,o))};return Bs(n.current,t,r,{passive:!n.getProps()[i]})}class eL extends ta{mount(){this.unmount=Vo(_M(this.node,!0),_M(this.node,!1))}unmount(){}}class tL extends ta{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Vo(Os(this.node.current,"focus",()=>this.onFocus()),Os(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const gA=(n,e)=>e?n===e?!0:gA(n,e.parentElement):!1;function bv(n,e){if(!e)return;const t=new PointerEvent("pointer"+n);e(t,s1(t))}class nL extends ta{constructor(){super(...arguments),this.removeStartListeners=gn,this.removeEndListeners=gn,this.removeAccessibleListeners=gn,this.startPointerPress=(e,t)=>{if(this.isPressing)return;this.removeEndListeners();const i=this.node.getProps(),s=Bs(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:h,onTapCancel:f,globalTapTarget:d}=this.node.getProps();Qt.update(()=>{!d&&!gA(this.node.current,a.target)?f&&f(a,l):h&&h(a,l)})},{passive:!(i.onTap||i.onPointerUp)}),o=Bs(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(i.onTapCancel||i.onPointerCancel)});this.removeEndListeners=Vo(s,o),this.startPress(e,t)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||bv("up",(l,h)=>{const{onTap:f}=this.node.getProps();f&&Qt.update(()=>f(l,h))})};this.removeEndListeners(),this.removeEndListeners=Os(this.node.current,"keyup",o),bv("down",(a,l)=>{this.startPress(a,l)})},t=Os(this.node.current,"keydown",e),i=()=>{this.isPressing&&bv("cancel",(s,o)=>this.cancelPress(s,o))},r=Os(this.node.current,"blur",i);this.removeAccessibleListeners=Vo(t,r)}}startPress(e,t){this.isPressing=!0;const{onTapStart:i,whileTap:r}=this.node.getProps();r&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),i&&Qt.update(()=>i(e,t))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!mA()}cancelPress(e,t){if(!this.checkPressEnd())return;const{onTapCancel:i}=this.node.getProps();i&&Qt.update(()=>i(e,t))}mount(){const e=this.node.getProps(),t=Bs(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),i=Os(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Vo(t,i)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Uy=new WeakMap,Cv=new WeakMap,iL=n=>{const e=Uy.get(n.target);e&&e(n)},rL=n=>{n.forEach(iL)};function sL({root:n,...e}){const t=n||document;Cv.has(t)||Cv.set(t,{});const i=Cv.get(t),r=JSON.stringify(e);return i[r]||(i[r]=new IntersectionObserver(rL,{root:n,...e})),i[r]}function oL(n,e,t){const i=sL(e);return Uy.set(n,t),i.observe(n),()=>{Uy.delete(n),i.unobserve(n)}}const aL={some:0,all:1};class lL extends ta{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:i,amount:r="some",once:s}=e,o={root:t?t.current:void 0,rootMargin:i,threshold:typeof r=="number"?r:aL[r]},a=l=>{const{isIntersecting:h}=l;if(this.isInView===h||(this.isInView=h,s&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:f,onViewportLeave:d}=this.node.getProps(),p=h?f:d;p&&p(l)};return oL(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(cL(e,t))&&this.startObserver()}unmount(){}}function cL({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const uL={inView:{Feature:lL},tap:{Feature:nL},focus:{Feature:tL},hover:{Feature:eL}};function vA(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let i=0;i<t;i++)if(e[i]!==n[i])return!1;return!0}function hL(n){const e={};return n.values.forEach((t,i)=>e[i]=t.get()),e}function fL(n){const e={};return n.values.forEach((t,i)=>e[i]=t.getVelocity()),e}function o1(n,e,t){const i=n.getProps();return _3(i,e,t!==void 0?t:i.custom,hL(n),fL(n))}let dL=gn,S3=gn;const Ho=n=>n*1e3,Vs=n=>n/1e3,pL={current:!1},yA=n=>Array.isArray(n)&&typeof n[0]=="number";function xA(n){return!!(!n||typeof n=="string"&&_A[n]||yA(n)||Array.isArray(n)&&n.every(xA))}const $u=([n,e,t,i])=>`cubic-bezier(${n}, ${e}, ${t}, ${i})`,_A={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:$u([0,.65,.55,1]),circOut:$u([.55,0,1,.45]),backIn:$u([.31,.01,.66,-.59]),backOut:$u([.33,1.53,.69,.99])};function SA(n){if(n)return yA(n)?$u(n):Array.isArray(n)?n.map(SA):_A[n]}function mL(n,e,t,{delay:i=0,duration:r,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){const h={[e]:t};l&&(h.offset=l);const f=SA(a);return Array.isArray(f)&&(h.easing=f),n.animate(h,{delay:i,duration:r,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}function gL(n,{repeat:e,repeatType:t="loop"}){const i=e&&t!=="loop"&&e%2===1?0:n.length-1;return n[i]}const MA=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,vL=1e-7,yL=12;function xL(n,e,t,i,r){let s,o,a=0;do o=e+(t-e)/2,s=MA(o,i,r)-n,s>0?t=o:e=o;while(Math.abs(s)>vL&&++a<yL);return o}function xf(n,e,t,i){if(n===e&&t===i)return gn;const r=s=>xL(s,0,1,n,t);return s=>s===0||s===1?s:MA(r(s),e,i)}const _L=xf(.42,0,1,1),SL=xf(0,0,.58,1),wA=xf(.42,0,.58,1),ML=n=>Array.isArray(n)&&typeof n[0]!="number",EA=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,TA=n=>e=>1-n(1-e),M3=n=>1-Math.sin(Math.acos(n)),AA=TA(M3),wL=EA(M3),bA=xf(.33,1.53,.69,.99),w3=TA(bA),EL=EA(w3),TL=n=>(n*=2)<1?.5*w3(n):.5*(2-Math.pow(2,-10*(n-1))),AL={linear:gn,easeIn:_L,easeInOut:wA,easeOut:SL,circIn:M3,circInOut:wL,circOut:AA,backIn:w3,backInOut:EL,backOut:bA,anticipate:TL},SM=n=>{if(Array.isArray(n)){S3(n.length===4);const[e,t,i,r]=n;return xf(e,t,i,r)}else if(typeof n=="string")return AL[n];return n},E3=(n,e)=>t=>!!(vf(t)&&bI.test(t)&&t.startsWith(n)||e&&Object.prototype.hasOwnProperty.call(t,e)),CA=(n,e,t)=>i=>{if(!vf(i))return i;const[r,s,o,a]=i.match(r1);return{[n]:parseFloat(r),[e]:parseFloat(s),[t]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},bL=n=>qo(0,255,n),Pv={...fl,transform:n=>Math.round(bL(n))},Ga={test:E3("rgb","red"),parse:CA("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:i=1})=>"rgba("+Pv.transform(n)+", "+Pv.transform(e)+", "+Pv.transform(t)+", "+hh(uh.transform(i))+")"};function CL(n){let e="",t="",i="",r="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),i=n.substring(5,7),r=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),i=n.substring(3,4),r=n.substring(4,5),e+=e,t+=t,i+=i,r+=r),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}}const ky={test:E3("#"),parse:CL,transform:Ga.transform},pc={test:E3("hsl","hue"),parse:CA("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:i=1})=>"hsla("+Math.round(n)+", "+hs.transform(hh(e))+", "+hs.transform(hh(t))+", "+hh(uh.transform(i))+")"},xi={test:n=>Ga.test(n)||ky.test(n)||pc.test(n),parse:n=>Ga.test(n)?Ga.parse(n):pc.test(n)?pc.parse(n):ky.parse(n),transform:n=>vf(n)?n:n.hasOwnProperty("red")?Ga.transform(n):pc.transform(n)},cn=(n,e,t)=>-t*n+t*e+n;function Rv(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function PL({hue:n,saturation:e,lightness:t,alpha:i}){n/=360,e/=100,t/=100;let r=0,s=0,o=0;if(!e)r=s=o=t;else{const a=t<.5?t*(1+e):t+e-t*e,l=2*t-a;r=Rv(l,a,n+1/3),s=Rv(l,a,n),o=Rv(l,a,n-1/3)}return{red:Math.round(r*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:i}}const Iv=(n,e,t)=>{const i=n*n;return Math.sqrt(Math.max(0,t*(e*e-i)+i))},RL=[ky,Ga,pc],IL=n=>RL.find(e=>e.test(n));function MM(n){const e=IL(n);let t=e.parse(n);return e===pc&&(t=PL(t)),t}const PA=(n,e)=>{const t=MM(n),i=MM(e),r={...t};return s=>(r.red=Iv(t.red,i.red,s),r.green=Iv(t.green,i.green,s),r.blue=Iv(t.blue,i.blue,s),r.alpha=cn(t.alpha,i.alpha,s),Ga.transform(r))};function LL(n){var e,t;return isNaN(n)&&vf(n)&&(((e=n.match(r1))===null||e===void 0?void 0:e.length)||0)+(((t=n.match(tA))===null||t===void 0?void 0:t.length)||0)>0}const RA={regex:TI,countKey:"Vars",token:"${v}",parse:gn},IA={regex:tA,countKey:"Colors",token:"${c}",parse:xi.parse},LA={regex:r1,countKey:"Numbers",token:"${n}",parse:fl.parse};function Lv(n,{regex:e,countKey:t,token:i,parse:r}){const s=n.tokenised.match(e);s&&(n["num"+t]=s.length,n.tokenised=n.tokenised.replace(e,i),n.values.push(...s.map(r)))}function Bp(n){const e=n.toString(),t={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return t.value.includes("var(--")&&Lv(t,RA),Lv(t,IA),Lv(t,LA),t}function NA(n){return Bp(n).values}function DA(n){const{values:e,numColors:t,numVars:i,tokenised:r}=Bp(n),s=e.length;return o=>{let a=r;for(let l=0;l<s;l++)l<i?a=a.replace(RA.token,o[l]):l<i+t?a=a.replace(IA.token,xi.transform(o[l])):a=a.replace(LA.token,hh(o[l]));return a}}const NL=n=>typeof n=="number"?0:n;function DL(n){const e=NA(n);return DA(n)(e.map(NL))}const Yo={test:LL,parse:NA,createTransformer:DA,getAnimatableNone:DL},UA=(n,e)=>t=>`${t>0?e:n}`;function kA(n,e){return typeof n=="number"?t=>cn(n,e,t):xi.test(n)?PA(n,e):n.startsWith("var(")?UA(n,e):FA(n,e)}const OA=(n,e)=>{const t=[...n],i=t.length,r=n.map((s,o)=>kA(s,e[o]));return s=>{for(let o=0;o<i;o++)t[o]=r[o](s);return t}},UL=(n,e)=>{const t={...n,...e},i={};for(const r in t)n[r]!==void 0&&e[r]!==void 0&&(i[r]=kA(n[r],e[r]));return r=>{for(const s in i)t[s]=i[s](r);return t}},FA=(n,e)=>{const t=Yo.createTransformer(e),i=Bp(n),r=Bp(e);return i.numVars===r.numVars&&i.numColors===r.numColors&&i.numNumbers>=r.numNumbers?Vo(OA(i.values,r.values),t):UA(n,e)},jh=(n,e,t)=>{const i=e-n;return i===0?1:(t-n)/i},wM=(n,e)=>t=>cn(n,e,t);function kL(n){return typeof n=="number"?wM:typeof n=="string"?xi.test(n)?PA:FA:Array.isArray(n)?OA:typeof n=="object"?UL:wM}function OL(n,e,t){const i=[],r=t||kL(n[0]),s=n.length-1;for(let o=0;o<s;o++){let a=r(n[o],n[o+1]);if(e){const l=Array.isArray(e)?e[o]||gn:e;a=Vo(l,a)}i.push(a)}return i}function zA(n,e,{clamp:t=!0,ease:i,mixer:r}={}){const s=n.length;if(S3(s===e.length),s===1)return()=>e[0];n[0]>n[s-1]&&(n=[...n].reverse(),e=[...e].reverse());const o=OL(e,i,r),a=o.length,l=h=>{let f=0;if(a>1)for(;f<n.length-2&&!(h<n[f+1]);f++);const d=jh(n[f],n[f+1],h);return o[f](d)};return t?h=>l(qo(n[0],n[s-1],h)):l}function FL(n,e){const t=n[n.length-1];for(let i=1;i<=e;i++){const r=jh(0,e,i);n.push(cn(t,1,r))}}function zL(n){const e=[0];return FL(e,n.length-1),e}function BL(n,e){return n.map(t=>t*e)}function VL(n,e){return n.map(()=>e||wA).splice(0,n.length-1)}function Vp({duration:n=300,keyframes:e,times:t,ease:i="easeInOut"}){const r=ML(i)?i.map(SM):SM(i),s={done:!1,value:e[0]},o=BL(t&&t.length===e.length?t:zL(e),n),a=zA(o,e,{ease:Array.isArray(r)?r:VL(e,r)});return{calculatedDuration:n,next:l=>(s.value=a(l),s.done=l>=n,s)}}function BA(n,e){return e?n*(1e3/e):0}const HL=5;function VA(n,e,t){const i=Math.max(e-HL,0);return BA(t-n(i),e-i)}const Nv=.001,GL=.01,EM=10,WL=.05,jL=1;function XL({duration:n=800,bounce:e=.25,velocity:t=0,mass:i=1}){let r,s;dL(n<=Ho(EM));let o=1-e;o=qo(WL,jL,o),n=qo(GL,EM,Vs(n)),o<1?(r=h=>{const f=h*o,d=f*n,p=f-t,m=Oy(h,o),y=Math.exp(-d);return Nv-p/m*y},s=h=>{const d=h*o*n,p=d*t+t,m=Math.pow(o,2)*Math.pow(h,2)*n,y=Math.exp(-d),w=Oy(Math.pow(h,2),o);return(-r(h)+Nv>0?-1:1)*((p-m)*y)/w}):(r=h=>{const f=Math.exp(-h*n),d=(h-t)*n+1;return-Nv+f*d},s=h=>{const f=Math.exp(-h*n),d=(t-h)*(n*n);return f*d});const a=5/n,l=YL(r,s,a);if(n=Ho(n),isNaN(l))return{stiffness:100,damping:10,duration:n};{const h=Math.pow(l,2)*i;return{stiffness:h,damping:o*2*Math.sqrt(i*h),duration:n}}}const qL=12;function YL(n,e,t){let i=t;for(let r=1;r<qL;r++)i=i-n(i)/e(i);return i}function Oy(n,e){return n*Math.sqrt(1-e*e)}const ZL=["duration","bounce"],KL=["stiffness","damping","mass"];function TM(n,e){return e.some(t=>n[t]!==void 0)}function $L(n){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...n};if(!TM(n,KL)&&TM(n,ZL)){const t=XL(n);e={...e,...t,mass:1},e.isResolvedFromDuration=!0}return e}function HA({keyframes:n,restDelta:e,restSpeed:t,...i}){const r=n[0],s=n[n.length-1],o={done:!1,value:r},{stiffness:a,damping:l,mass:h,duration:f,velocity:d,isResolvedFromDuration:p}=$L({...i,velocity:-Vs(i.velocity||0)}),m=d||0,y=l/(2*Math.sqrt(a*h)),w=s-r,S=Vs(Math.sqrt(a/h)),g=Math.abs(w)<5;t||(t=g?.01:2),e||(e=g?.005:.5);let x;if(y<1){const M=Oy(S,y);x=E=>{const C=Math.exp(-y*S*E);return s-C*((m+y*S*w)/M*Math.sin(M*E)+w*Math.cos(M*E))}}else if(y===1)x=M=>s-Math.exp(-S*M)*(w+(m+S*w)*M);else{const M=S*Math.sqrt(y*y-1);x=E=>{const C=Math.exp(-y*S*E),P=Math.min(M*E,300);return s-C*((m+y*S*w)*Math.sinh(P)+M*w*Math.cosh(P))/M}}return{calculatedDuration:p&&f||null,next:M=>{const E=x(M);if(p)o.done=M>=f;else{let C=m;M!==0&&(y<1?C=VA(x,M,E):C=0);const P=Math.abs(C)<=t,I=Math.abs(s-E)<=e;o.done=P&&I}return o.value=o.done?s:E,o}}}function AM({keyframes:n,velocity:e=0,power:t=.8,timeConstant:i=325,bounceDamping:r=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:h=.5,restSpeed:f}){const d=n[0],p={done:!1,value:d},m=L=>a!==void 0&&L<a||l!==void 0&&L>l,y=L=>a===void 0?l:l===void 0||Math.abs(a-L)<Math.abs(l-L)?a:l;let w=t*e;const S=d+w,g=o===void 0?S:o(S);g!==S&&(w=g-d);const x=L=>-w*Math.exp(-L/i),M=L=>g+x(L),E=L=>{const R=x(L),A=M(L);p.done=Math.abs(R)<=h,p.value=p.done?g:A};let C,P;const I=L=>{m(p.value)&&(C=L,P=HA({keyframes:[p.value,y(p.value)],velocity:VA(M,L,p.value),damping:r,stiffness:s,restDelta:h,restSpeed:f}))};return I(0),{calculatedDuration:null,next:L=>{let R=!1;return!P&&C===void 0&&(R=!0,E(L),I(L)),C!==void 0&&L>C?P.next(L-C):(!R&&E(L),p)}}}const JL=n=>{const e=({timestamp:t})=>n(t);return{start:()=>Qt.update(e,!0),stop:()=>Ys(e),now:()=>li.isProcessing?li.timestamp:performance.now()}},bM=2e4;function CM(n){let e=0;const t=50;let i=n.next(e);for(;!i.done&&e<bM;)e+=t,i=n.next(e);return e>=bM?1/0:e}const QL={decay:AM,inertia:AM,tween:Vp,keyframes:Vp,spring:HA};function Hp({autoplay:n=!0,delay:e=0,driver:t=JL,keyframes:i,type:r="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:a="loop",onPlay:l,onStop:h,onComplete:f,onUpdate:d,...p}){let m=1,y=!1,w,S;const g=()=>{S=new Promise(Z=>{w=Z})};g();let x;const M=QL[r]||Vp;let E;M!==Vp&&typeof i[0]!="number"&&(E=zA([0,100],i,{clamp:!1}),i=[0,100]);const C=M({...p,keyframes:i});let P;a==="mirror"&&(P=M({...p,keyframes:[...i].reverse(),velocity:-(p.velocity||0)}));let I="idle",L=null,R=null,A=null;C.calculatedDuration===null&&s&&(C.calculatedDuration=CM(C));const{calculatedDuration:k}=C;let X=1/0,q=1/0;k!==null&&(X=k+o,q=X*(s+1)-o);let ne=0;const se=Z=>{if(R===null)return;m>0&&(R=Math.min(R,Z)),m<0&&(R=Math.min(Z-q/m,R)),L!==null?ne=L:ne=Math.round(Z-R)*m;const de=ne-e*(m>=0?1:-1),Te=m>=0?de<0:de>q;ne=Math.max(de,0),I==="finished"&&L===null&&(ne=q);let ie=ne,_e=C;if(s){const dt=Math.min(ne,q)/X;let $e=Math.floor(dt),vt=dt%1;!vt&&dt>=1&&(vt=1),vt===1&&$e--,$e=Math.min($e,s+1),!!($e%2)&&(a==="reverse"?(vt=1-vt,o&&(vt-=o/X)):a==="mirror"&&(_e=P)),ie=qo(0,1,vt)*X}const we=Te?{done:!1,value:i[0]}:_e.next(ie);E&&(we.value=E(we.value));let{done:Ae}=we;!Te&&k!==null&&(Ae=m>=0?ne>=q:ne<=0);const tt=L===null&&(I==="finished"||I==="running"&&Ae);return d&&d(we.value),tt&&U(),we},te=()=>{x&&x.stop(),x=void 0},le=()=>{I="idle",te(),w(),g(),R=A=null},U=()=>{I="finished",f&&f(),te(),w()},W=()=>{if(y)return;x||(x=t(se));const Z=x.now();l&&l(),L!==null?R=Z-L:(!R||I==="finished")&&(R=Z),I==="finished"&&g(),A=R,L=null,I="running",x.start()};n&&W();const H={then(Z,de){return S.then(Z,de)},get time(){return Vs(ne)},set time(Z){Z=Ho(Z),ne=Z,L!==null||!x||m===0?L=Z:R=x.now()-Z/m},get duration(){const Z=C.calculatedDuration===null?CM(C):C.calculatedDuration;return Vs(Z)},get speed(){return m},set speed(Z){Z===m||!x||(m=Z,H.time=Vs(ne))},get state(){return I},play:W,pause:()=>{I="paused",L=ne},stop:()=>{y=!0,I!=="idle"&&(I="idle",h&&h(),le())},cancel:()=>{A!==null&&se(A),le()},complete:()=>{I="finished"},sample:Z=>(R=0,se(Z))};return H}function eN(n){let e;return()=>(e===void 0&&(e=n()),e)}const tN=eN(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),nN=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Yd=10,iN=2e4,rN=(n,e)=>e.type==="spring"||n==="backgroundColor"||!xA(e.ease);function sN(n,e,{onUpdate:t,onComplete:i,...r}){if(!(tN()&&nN.has(e)&&!r.repeatDelay&&r.repeatType!=="mirror"&&r.damping!==0&&r.type!=="inertia"))return!1;let o=!1,a,l,h=!1;const f=()=>{l=new Promise(M=>{a=M})};f();let{keyframes:d,duration:p=300,ease:m,times:y}=r;if(rN(e,r)){const M=Hp({...r,repeat:0,delay:0});let E={done:!1,value:d[0]};const C=[];let P=0;for(;!E.done&&P<iN;)E=M.sample(P),C.push(E.value),P+=Yd;y=void 0,d=C,p=P-Yd,m="linear"}const w=mL(n.owner.current,e,d,{...r,duration:p,ease:m,times:y}),S=()=>{h=!1,w.cancel()},g=()=>{h=!0,Qt.update(S),a(),f()};return w.onfinish=()=>{h||(n.set(gL(d,r)),i&&i(),g())},{then(M,E){return l.then(M,E)},attachTimeline(M){return w.timeline=M,w.onfinish=null,gn},get time(){return Vs(w.currentTime||0)},set time(M){w.currentTime=Ho(M)},get speed(){return w.playbackRate},set speed(M){w.playbackRate=M},get duration(){return Vs(p)},play:()=>{o||(w.play(),Ys(S))},pause:()=>w.pause(),stop:()=>{if(o=!0,w.playState==="idle")return;const{currentTime:M}=w;if(M){const E=Hp({...r,autoplay:!1});n.setWithVelocity(E.sample(M-Yd).value,E.sample(M).value,Yd)}g()},complete:()=>{h||w.finish()},cancel:g}}function oN({keyframes:n,delay:e,onUpdate:t,onComplete:i}){const r=()=>(t&&t(n[n.length-1]),i&&i(),{time:0,speed:1,duration:0,play:gn,pause:gn,stop:gn,then:s=>(s(),Promise.resolve()),cancel:gn,complete:gn});return e?Hp({keyframes:[0,1],duration:0,delay:e,onComplete:r}):r()}const aN={type:"spring",stiffness:500,damping:25,restSpeed:10},lN=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),cN={type:"keyframes",duration:.8},uN={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},hN=(n,{keyframes:e})=>e.length>2?cN:hl.has(n)?n.startsWith("scale")?lN(e[1]):aN:uN,Fy=(n,e)=>n==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Yo.test(e)||e==="0")&&!e.startsWith("url(")),fN=new Set(["brightness","contrast","saturate","opacity"]);function dN(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[i]=t.match(r1)||[];if(!i)return n;const r=t.replace(i,"");let s=fN.has(e)?1:0;return i!==t&&(s*=100),e+"("+s+r+")"}const pN=/([a-z-]*)\(.*?\)/g,zy={...Yo,getAnimatableNone:n=>{const e=n.match(pN);return e?e.map(dN).join(" "):n}},mN={...nA,color:xi,backgroundColor:xi,outlineColor:xi,fill:xi,stroke:xi,borderColor:xi,borderTopColor:xi,borderRightColor:xi,borderBottomColor:xi,borderLeftColor:xi,filter:zy,WebkitFilter:zy},T3=n=>mN[n];function GA(n,e){let t=T3(n);return t!==zy&&(t=Yo),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const WA=n=>/^0[^.\s]+$/.test(n);function gN(n){if(typeof n=="number")return n===0;if(n!==null)return n==="none"||n==="0"||WA(n)}function vN(n,e,t,i){const r=Fy(e,t);let s;Array.isArray(t)?s=[...t]:s=[null,t];const o=i.from!==void 0?i.from:n.get();let a;const l=[];for(let h=0;h<s.length;h++)s[h]===null&&(s[h]=h===0?o:s[h-1]),gN(s[h])&&l.push(h),typeof s[h]=="string"&&s[h]!=="none"&&s[h]!=="0"&&(a=s[h]);if(r&&l.length&&a)for(let h=0;h<l.length;h++){const f=l[h];s[f]=GA(e,a)}return s}function yN({when:n,delay:e,delayChildren:t,staggerChildren:i,staggerDirection:r,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:h,...f}){return!!Object.keys(f).length}function A3(n,e){return n[e]||n.default||n}const xN={skipAnimations:!1},b3=(n,e,t,i={})=>r=>{const s=A3(i,n)||{},o=s.delay||i.delay||0;let{elapsed:a=0}=i;a=a-Ho(o);const l=vN(e,n,t,s),h=l[0],f=l[l.length-1],d=Fy(n,h),p=Fy(n,f);let m={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...s,delay:-a,onUpdate:y=>{e.set(y),s.onUpdate&&s.onUpdate(y)},onComplete:()=>{r(),s.onComplete&&s.onComplete()}};if(yN(s)||(m={...m,...hN(n,m)}),m.duration&&(m.duration=Ho(m.duration)),m.repeatDelay&&(m.repeatDelay=Ho(m.repeatDelay)),!d||!p||pL.current||s.type===!1||xN.skipAnimations)return oN(m);if(!i.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const y=sN(e,n,m);if(y)return y}return Hp(m)};function Gp(n){return!!(Gi(n)&&n.add)}const jA=n=>/^\-?\d*\.?\d+$/.test(n);function C3(n,e){n.indexOf(e)===-1&&n.push(e)}function P3(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class R3{constructor(){this.subscriptions=[]}add(e){return C3(this.subscriptions,e),()=>P3(this.subscriptions,e)}notify(e,t,i){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,t,i);else for(let s=0;s<r;s++){const o=this.subscriptions[s];o&&o(e,t,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const _N=n=>!isNaN(parseFloat(n));class SN{constructor(e,t={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(i,r=!0)=>{this.prev=this.current,this.current=i;const{delta:s,timestamp:o}=li;this.lastUpdated!==o&&(this.timeDelta=s,this.lastUpdated=o,Qt.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),r&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Qt.postRender(this.velocityCheck),this.velocityCheck=({timestamp:i})=>{i!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=_N(this.current),this.owner=t.owner}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new R3);const i=this.events[e].add(t);return e==="change"?()=>{i(),Qt.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,i){this.set(t),this.prev=e,this.timeDelta=i}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?BA(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Oc(n,e){return new SN(n,e)}const XA=n=>e=>e.test(n),MN={test:n=>n==="auto",parse:n=>n},qA=[fl,mt,hs,So,PI,CI,MN],Ru=n=>qA.find(XA(n)),wN=[...qA,xi,Yo],EN=n=>wN.find(XA(n));function TN(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,Oc(t))}function AN(n,e){const t=o1(n,e);let{transitionEnd:i={},transition:r={},...s}=t?n.makeTargetAnimatable(t,!1):{};s={...s,...i};for(const o in s){const a=GI(s[o]);TN(n,o,a)}}function bN(n,e,t){var i,r;const s=Object.keys(e).filter(a=>!n.hasValue(a)),o=s.length;if(o)for(let a=0;a<o;a++){const l=s[a],h=e[l];let f=null;Array.isArray(h)&&(f=h[0]),f===null&&(f=(r=(i=t[l])!==null&&i!==void 0?i:n.readValue(l))!==null&&r!==void 0?r:e[l]),f!=null&&(typeof f=="string"&&(jA(f)||WA(f))?f=parseFloat(f):!EN(f)&&Yo.test(h)&&(f=GA(l,h)),n.addValue(l,Oc(f,{owner:n})),t[l]===void 0&&(t[l]=f),f!==null&&n.setBaseTarget(l,f))}}function CN(n,e){return e?(e[n]||e.default||e).from:void 0}function PN(n,e,t){const i={};for(const r in n){const s=CN(r,e);if(s!==void 0)i[r]=s;else{const o=t.getValue(r);o&&(i[r]=o.get())}}return i}function RN({protectedKeys:n,needsAnimating:e},t){const i=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,i}function IN(n,e){const t=n.get();if(Array.isArray(e)){for(let i=0;i<e.length;i++)if(e[i]!==t)return!0}else return t!==e}function YA(n,e,{delay:t=0,transitionOverride:i,type:r}={}){let{transition:s=n.getDefaultTransition(),transitionEnd:o,...a}=n.makeTargetAnimatable(e);const l=n.getValue("willChange");i&&(s=i);const h=[],f=r&&n.animationState&&n.animationState.getState()[r];for(const d in a){const p=n.getValue(d),m=a[d];if(!p||m===void 0||f&&RN(f,d))continue;const y={delay:t,elapsed:0,...A3(s||{},d)};if(window.HandoffAppearAnimations){const g=n.getProps()[ZT];if(g){const x=window.HandoffAppearAnimations(g,d,p,Qt);x!==null&&(y.elapsed=x,y.isHandoff=!0)}}let w=!y.isHandoff&&!IN(p,m);if(y.type==="spring"&&(p.getVelocity()||y.velocity)&&(w=!1),p.animation&&(w=!1),w)continue;p.start(b3(d,p,m,n.shouldReduceMotion&&hl.has(d)?{type:!1}:y));const S=p.animation;Gp(l)&&(l.add(d),S.then(()=>l.remove(d))),h.push(S)}return o&&Promise.all(h).then(()=>{o&&AN(n,o)}),h}function By(n,e,t={}){const i=o1(n,e,t.custom);let{transition:r=n.getDefaultTransition()||{}}=i||{};t.transitionOverride&&(r=t.transitionOverride);const s=i?()=>Promise.all(YA(n,i,t)):()=>Promise.resolve(),o=n.variantChildren&&n.variantChildren.size?(l=0)=>{const{delayChildren:h=0,staggerChildren:f,staggerDirection:d}=r;return LN(n,e,h+l,f,d,t)}:()=>Promise.resolve(),{when:a}=r;if(a){const[l,h]=a==="beforeChildren"?[s,o]:[o,s];return l().then(()=>h())}else return Promise.all([s(),o(t.delay)])}function LN(n,e,t=0,i=0,r=1,s){const o=[],a=(n.variantChildren.size-1)*i,l=r===1?(h=0)=>h*i:(h=0)=>a-h*i;return Array.from(n.variantChildren).sort(NN).forEach((h,f)=>{h.notify("AnimationStart",e),o.push(By(h,e,{...s,delay:t+l(f)}).then(()=>h.notify("AnimationComplete",e)))}),Promise.all(o)}function NN(n,e){return n.sortNodePosition(e)}function DN(n,e,t={}){n.notify("AnimationStart",e);let i;if(Array.isArray(e)){const r=e.map(s=>By(n,s,t));i=Promise.all(r)}else if(typeof e=="string")i=By(n,e,t);else{const r=typeof e=="function"?o1(n,e,t.custom):e;i=Promise.all(YA(n,r,t))}return i.then(()=>n.notify("AnimationComplete",e))}const UN=[...h3].reverse(),kN=h3.length;function ON(n){return e=>Promise.all(e.map(({animation:t,options:i})=>DN(n,t,i)))}function FN(n){let e=ON(n);const t=BN();let i=!0;const r=(l,h)=>{const f=o1(n,h);if(f){const{transition:d,transitionEnd:p,...m}=f;l={...l,...m,...p}}return l};function s(l){e=l(n)}function o(l,h){const f=n.getProps(),d=n.getVariantContext(!0)||{},p=[],m=new Set;let y={},w=1/0;for(let g=0;g<kN;g++){const x=UN[g],M=t[x],E=f[x]!==void 0?f[x]:d[x],C=Gh(E),P=x===h?M.isActive:null;P===!1&&(w=g);let I=E===d[x]&&E!==f[x]&&C;if(I&&i&&n.manuallyAnimateOnMount&&(I=!1),M.protectedKeys={...y},!M.isActive&&P===null||!E&&!M.prevProp||n1(E)||typeof E=="boolean")continue;let R=zN(M.prevProp,E)||x===h&&M.isActive&&!I&&C||g>w&&C,A=!1;const k=Array.isArray(E)?E:[E];let X=k.reduce(r,{});P===!1&&(X={});const{prevResolvedValues:q={}}=M,ne={...q,...X},se=te=>{R=!0,m.has(te)&&(A=!0,m.delete(te)),M.needsAnimating[te]=!0};for(const te in ne){const le=X[te],U=q[te];if(y.hasOwnProperty(te))continue;let W=!1;zp(le)&&zp(U)?W=!vA(le,U):W=le!==U,W?le!==void 0?se(te):m.add(te):le!==void 0&&m.has(te)?se(te):M.protectedKeys[te]=!0}M.prevProp=E,M.prevResolvedValues=X,M.isActive&&(y={...y,...X}),i&&n.blockInitialAnimation&&(R=!1),R&&(!I||A)&&p.push(...k.map(te=>({animation:te,options:{type:x,...l}})))}if(m.size){const g={};m.forEach(x=>{const M=n.getBaseTarget(x);M!==void 0&&(g[x]=M)}),p.push({animation:g})}let S=!!p.length;return i&&(f.initial===!1||f.initial===f.animate)&&!n.manuallyAnimateOnMount&&(S=!1),i=!1,S?e(p):Promise.resolve()}function a(l,h,f){var d;if(t[l].isActive===h)return Promise.resolve();(d=n.variantChildren)===null||d===void 0||d.forEach(m=>{var y;return(y=m.animationState)===null||y===void 0?void 0:y.setActive(l,h)}),t[l].isActive=h;const p=o(f,l);for(const m in t)t[m].protectedKeys={};return p}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>t}}function zN(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!vA(e,n):!1}function ga(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function BN(){return{animate:ga(!0),whileInView:ga(),whileHover:ga(),whileTap:ga(),whileDrag:ga(),whileFocus:ga(),exit:ga()}}class VN extends ta{constructor(e){super(e),e.animationState||(e.animationState=FN(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),n1(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){}}let HN=0;class GN extends ta{constructor(){super(...arguments),this.id=HN++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t,custom:i}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e,{custom:i??this.node.getProps().custom});t&&!e&&s.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const WN={animation:{Feature:VN},exit:{Feature:GN}},PM=(n,e)=>Math.abs(n-e);function jN(n,e){const t=PM(n.x,e.x),i=PM(n.y,e.y);return Math.sqrt(t**2+i**2)}class ZA{constructor(e,t,{transformPagePoint:i,contextWindow:r,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=Uv(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,m=jN(d.offset,{x:0,y:0})>=3;if(!p&&!m)return;const{point:y}=d,{timestamp:w}=li;this.history.push({...y,timestamp:w});const{onStart:S,onMove:g}=this.handlers;p||(S&&S(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,d)},this.handlePointerMove=(d,p)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=Dv(p,this.transformPagePoint),Qt.update(this.updatePoint,!0)},this.handlePointerUp=(d,p)=>{this.end();const{onEnd:m,onSessionEnd:y,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=Uv(d.type==="pointercancel"?this.lastMoveEventInfo:Dv(p,this.transformPagePoint),this.history);this.startEvent&&m&&m(d,S),y&&y(d,S)},!fA(e))return;this.dragSnapToOrigin=s,this.handlers=t,this.transformPagePoint=i,this.contextWindow=r||window;const o=s1(e),a=Dv(o,this.transformPagePoint),{point:l}=a,{timestamp:h}=li;this.history=[{...l,timestamp:h}];const{onSessionStart:f}=t;f&&f(e,Uv(a,this.history)),this.removeListeners=Vo(Bs(this.contextWindow,"pointermove",this.handlePointerMove),Bs(this.contextWindow,"pointerup",this.handlePointerUp),Bs(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ys(this.updatePoint)}}function Dv(n,e){return e?{point:e(n.point)}:n}function RM(n,e){return{x:n.x-e.x,y:n.y-e.y}}function Uv({point:n},e){return{point:n,delta:RM(n,KA(e)),offset:RM(n,XN(e)),velocity:qN(e,.1)}}function XN(n){return n[0]}function KA(n){return n[n.length-1]}function qN(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,i=null;const r=KA(n);for(;t>=0&&(i=n[t],!(r.timestamp-i.timestamp>Ho(e)));)t--;if(!i)return{x:0,y:0};const s=Vs(r.timestamp-i.timestamp);if(s===0)return{x:0,y:0};const o={x:(r.x-i.x)/s,y:(r.y-i.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function rr(n){return n.max-n.min}function Vy(n,e=0,t=.01){return Math.abs(n-e)<=t}function IM(n,e,t,i=.5){n.origin=i,n.originPoint=cn(e.min,e.max,n.origin),n.scale=rr(t)/rr(e),(Vy(n.scale,1,1e-4)||isNaN(n.scale))&&(n.scale=1),n.translate=cn(t.min,t.max,n.origin)-n.originPoint,(Vy(n.translate)||isNaN(n.translate))&&(n.translate=0)}function fh(n,e,t,i){IM(n.x,e.x,t.x,i?i.originX:void 0),IM(n.y,e.y,t.y,i?i.originY:void 0)}function LM(n,e,t){n.min=t.min+e.min,n.max=n.min+rr(e)}function YN(n,e,t){LM(n.x,e.x,t.x),LM(n.y,e.y,t.y)}function NM(n,e,t){n.min=e.min-t.min,n.max=n.min+rr(e)}function dh(n,e,t){NM(n.x,e.x,t.x),NM(n.y,e.y,t.y)}function ZN(n,{min:e,max:t},i){return e!==void 0&&n<e?n=i?cn(e,n,i.min):Math.max(n,e):t!==void 0&&n>t&&(n=i?cn(t,n,i.max):Math.min(n,t)),n}function DM(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function KN(n,{top:e,left:t,bottom:i,right:r}){return{x:DM(n.x,t,r),y:DM(n.y,e,i)}}function UM(n,e){let t=e.min-n.min,i=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,i]=[i,t]),{min:t,max:i}}function $N(n,e){return{x:UM(n.x,e.x),y:UM(n.y,e.y)}}function JN(n,e){let t=.5;const i=rr(n),r=rr(e);return r>i?t=jh(e.min,e.max-i,n.min):i>r&&(t=jh(n.min,n.max-r,e.min)),qo(0,1,t)}function QN(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const Hy=.35;function eD(n=Hy){return n===!1?n=0:n===!0&&(n=Hy),{x:kM(n,"left","right"),y:kM(n,"top","bottom")}}function kM(n,e,t){return{min:OM(n,e),max:OM(n,t)}}function OM(n,e){return typeof n=="number"?n:n[e]||0}const FM=()=>({translate:0,scale:1,origin:0,originPoint:0}),mc=()=>({x:FM(),y:FM()}),zM=()=>({min:0,max:0}),bn=()=>({x:zM(),y:zM()});function yr(n){return[n("x"),n("y")]}function $A({top:n,left:e,right:t,bottom:i}){return{x:{min:e,max:t},y:{min:n,max:i}}}function tD({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function nD(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),i=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:i.y,right:i.x}}function kv(n){return n===void 0||n===1}function Gy({scale:n,scaleX:e,scaleY:t}){return!kv(n)||!kv(e)||!kv(t)}function La(n){return Gy(n)||JA(n)||n.z||n.rotate||n.rotateX||n.rotateY}function JA(n){return BM(n.x)||BM(n.y)}function BM(n){return n&&n!=="0%"}function Wp(n,e,t){const i=n-t,r=e*i;return t+r}function VM(n,e,t,i,r){return r!==void 0&&(n=Wp(n,r,i)),Wp(n,t,i)+e}function Wy(n,e=0,t=1,i,r){n.min=VM(n.min,e,t,i,r),n.max=VM(n.max,e,t,i,r)}function QA(n,{x:e,y:t}){Wy(n.x,e.translate,e.scale,e.originPoint),Wy(n.y,t.translate,t.scale,t.originPoint)}function iD(n,e,t,i=!1){const r=t.length;if(!r)return;e.x=e.y=1;let s,o;for(let a=0;a<r;a++){s=t[a],o=s.projectionDelta;const l=s.instance;l&&l.style&&l.style.display==="contents"||(i&&s.options.layoutScroll&&s.scroll&&s!==s.root&&gc(n,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,QA(n,o)),i&&La(s.latestValues)&&gc(n,s.latestValues))}e.x=HM(e.x),e.y=HM(e.y)}function HM(n){return Number.isInteger(n)||n>1.0000000000001||n<.999999999999?n:1}function Eo(n,e){n.min=n.min+e,n.max=n.max+e}function GM(n,e,[t,i,r]){const s=e[r]!==void 0?e[r]:.5,o=cn(n.min,n.max,s);Wy(n,e[t],e[i],o,e.scale)}const rD=["x","scaleX","originX"],sD=["y","scaleY","originY"];function gc(n,e){GM(n.x,e,rD),GM(n.y,e,sD)}function eb(n,e){return $A(nD(n.getBoundingClientRect(),e))}function oD(n,e,t){const i=eb(n,t),{scroll:r}=e;return r&&(Eo(i.x,r.offset.x),Eo(i.y,r.offset.y)),i}const tb=({current:n})=>n?n.ownerDocument.defaultView:null,aD=new WeakMap;class lD{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=bn(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const r=f=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(s1(f,"page").point)},s=(f,d)=>{const{drag:p,dragPropagation:m,onDragStart:y}=this.getProps();if(p&&!m&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=pA(p),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),yr(S=>{let g=this.getAxisMotionValue(S).get()||0;if(hs.test(g)){const{projection:x}=this.visualElement;if(x&&x.layout){const M=x.layout.layoutBox[S];M&&(g=rr(M)*(parseFloat(g)/100))}}this.originPoint[S]=g}),y&&Qt.update(()=>y(f,d),!1,!0);const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},o=(f,d)=>{const{dragPropagation:p,dragDirectionLock:m,onDirectionLock:y,onDrag:w}=this.getProps();if(!p&&!this.openGlobalLock)return;const{offset:S}=d;if(m&&this.currentDirection===null){this.currentDirection=cD(S),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",d.point,S),this.updateAxis("y",d.point,S),this.visualElement.render(),w&&w(f,d)},a=(f,d)=>this.stop(f,d),l=()=>yr(f=>{var d;return this.getAnimationState(f)==="paused"&&((d=this.getAxisMotionValue(f).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:h}=this.getProps();this.panSession=new ZA(e,{onSessionStart:r,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,contextWindow:tb(this.visualElement)})}stop(e,t){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:r}=t;this.startAnimation(r);const{onDragEnd:s}=this.getProps();s&&Qt.update(()=>s(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,i){const{drag:r}=this.getProps();if(!i||!Zd(e,r,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(o=ZN(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:i}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;t&&dc(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=KN(r.layoutBox,t):this.constraints=!1,this.elastic=eD(i),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&yr(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=QN(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!dc(e))return!1;const i=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const s=oD(i,r.root,this.visualElement.getTransformPagePoint());let o=$N(r.layout.layoutBox,s);if(t){const a=t(tD(o));this.hasMutatedConstraints=!!a,a&&(o=$A(a))}return o}startAnimation(e){const{drag:t,dragMomentum:i,dragElastic:r,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},h=yr(f=>{if(!Zd(f,t,this.currentDirection))return;let d=l&&l[f]||{};o&&(d={min:0,max:0});const p=r?200:1e6,m=r?40:1e7,y={type:"inertia",velocity:i?e[f]:0,bounceStiffness:p,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...d};return this.startAxisValueAnimation(f,y)});return Promise.all(h).then(a)}startAxisValueAnimation(e,t){const i=this.getAxisMotionValue(e);return i.start(b3(e,i,0,t))}stopAnimation(){yr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){yr(e=>{var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.state}getAxisMotionValue(e){const t="_drag"+e.toUpperCase(),i=this.visualElement.getProps(),r=i[t];return r||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){yr(t=>{const{drag:i}=this.getProps();if(!Zd(t,i,this.currentDirection))return;const{projection:r}=this.visualElement,s=this.getAxisMotionValue(t);if(r&&r.layout){const{min:o,max:a}=r.layout.layoutBox[t];s.set(e[t]-cn(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:i}=this.visualElement;if(!dc(t)||!i||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};yr(o=>{const a=this.getAxisMotionValue(o);if(a){const l=a.get();r[o]=JN({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),yr(o=>{if(!Zd(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:h}=this.constraints[o];a.set(cn(l,h,r[o]))})}addListeners(){if(!this.visualElement.current)return;aD.set(this.visualElement,this);const e=this.visualElement.current,t=Bs(e,"pointerdown",l=>{const{drag:h,dragListener:f=!0}=this.getProps();h&&f&&this.start(l)}),i=()=>{const{dragConstraints:l}=this.getProps();dc(l)&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,s=r.addEventListener("measure",i);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),i();const o=Os(window,"resize",()=>this.scalePositionWithinConstraints()),a=r.addEventListener("didUpdate",({delta:l,hasLayoutChanged:h})=>{this.isDragging&&h&&(yr(f=>{const d=this.getAxisMotionValue(f);d&&(this.originPoint[f]+=l[f].translate,d.set(d.get()+l[f].translate))}),this.visualElement.render())});return()=>{o(),t(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:i=!1,dragPropagation:r=!1,dragConstraints:s=!1,dragElastic:o=Hy,dragMomentum:a=!0}=e;return{...e,drag:t,dragDirectionLock:i,dragPropagation:r,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function Zd(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function cD(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class uD extends ta{constructor(e){super(e),this.removeGroupControls=gn,this.removeListeners=gn,this.controls=new lD(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||gn}unmount(){this.removeGroupControls(),this.removeListeners()}}const WM=n=>(e,t)=>{n&&Qt.update(()=>n(e,t))};class hD extends ta{constructor(){super(...arguments),this.removePointerDownListener=gn}onPointerDown(e){this.session=new ZA(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:tb(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:i,onPanEnd:r}=this.node.getProps();return{onSessionStart:WM(e),onStart:WM(t),onMove:i,onEnd:(s,o)=>{delete this.session,r&&Qt.update(()=>r(s,o))}}}mount(){this.removePointerDownListener=Bs(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function fD(){const n=G.useContext(e1);if(n===null)return[!0,null];const{isPresent:e,onExitComplete:t,register:i}=n,r=G.useId();return G.useEffect(()=>i(r),[]),!e&&t?[!1,()=>t&&t(r)]:[!0]}const ip={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function jM(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const Iu={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(mt.test(n))n=parseFloat(n);else return n;const t=jM(n,e.target.x),i=jM(n,e.target.y);return`${t}% ${i}%`}},dD={correct:(n,{treeScale:e,projectionDelta:t})=>{const i=n,r=Yo.parse(n);if(r.length>5)return i;const s=Yo.createTransformer(n),o=typeof r[0]!="number"?1:0,a=t.x.scale*e.x,l=t.y.scale*e.y;r[0+o]/=a,r[1+o]/=l;const h=cn(a,l,.5);return typeof r[2+o]=="number"&&(r[2+o]/=h),typeof r[3+o]=="number"&&(r[3+o]/=h),s(r)}};class pD extends er.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i,layoutId:r}=this.props,{projection:s}=e;SI(mD),s&&(t.group&&t.group.add(s),i&&i.register&&r&&i.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),ip.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:i,drag:r,isPresent:s}=this.props,o=i.projection;return o&&(o.isPresent=s,r||e.layoutDependency!==t||t===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||Qt.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),i&&i.deregister&&i.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function nb(n){const[e,t]=fD(),i=G.useContext(d3);return er.createElement(pD,{...n,layoutGroup:i,switchLayoutGroup:G.useContext($T),isPresent:e,safeToRemove:t})}const mD={borderRadius:{...Iu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Iu,borderTopRightRadius:Iu,borderBottomLeftRadius:Iu,borderBottomRightRadius:Iu,boxShadow:dD},ib=["TopLeft","TopRight","BottomLeft","BottomRight"],gD=ib.length,XM=n=>typeof n=="string"?parseFloat(n):n,qM=n=>typeof n=="number"||mt.test(n);function vD(n,e,t,i,r,s){r?(n.opacity=cn(0,t.opacity!==void 0?t.opacity:1,yD(i)),n.opacityExit=cn(e.opacity!==void 0?e.opacity:1,0,xD(i))):s&&(n.opacity=cn(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,i));for(let o=0;o<gD;o++){const a=`border${ib[o]}Radius`;let l=YM(e,a),h=YM(t,a);if(l===void 0&&h===void 0)continue;l||(l=0),h||(h=0),l===0||h===0||qM(l)===qM(h)?(n[a]=Math.max(cn(XM(l),XM(h),i),0),(hs.test(h)||hs.test(l))&&(n[a]+="%")):n[a]=h}(e.rotate||t.rotate)&&(n.rotate=cn(e.rotate||0,t.rotate||0,i))}function YM(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const yD=rb(0,.5,AA),xD=rb(.5,.95,gn);function rb(n,e,t){return i=>i<n?0:i>e?1:t(jh(n,e,i))}function ZM(n,e){n.min=e.min,n.max=e.max}function gr(n,e){ZM(n.x,e.x),ZM(n.y,e.y)}function KM(n,e,t,i,r){return n-=e,n=Wp(n,1/t,i),r!==void 0&&(n=Wp(n,1/r,i)),n}function _D(n,e=0,t=1,i=.5,r,s=n,o=n){if(hs.test(e)&&(e=parseFloat(e),e=cn(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=cn(s.min,s.max,i);n===s&&(a-=e),n.min=KM(n.min,e,t,a,r),n.max=KM(n.max,e,t,a,r)}function $M(n,e,[t,i,r],s,o){_D(n,e[t],e[i],e[r],e.scale,s,o)}const SD=["x","scaleX","originX"],MD=["y","scaleY","originY"];function JM(n,e,t,i){$M(n.x,e,SD,t?t.x:void 0,i?i.x:void 0),$M(n.y,e,MD,t?t.y:void 0,i?i.y:void 0)}function QM(n){return n.translate===0&&n.scale===1}function sb(n){return QM(n.x)&&QM(n.y)}function wD(n,e){return n.x.min===e.x.min&&n.x.max===e.x.max&&n.y.min===e.y.min&&n.y.max===e.y.max}function ob(n,e){return Math.round(n.x.min)===Math.round(e.x.min)&&Math.round(n.x.max)===Math.round(e.x.max)&&Math.round(n.y.min)===Math.round(e.y.min)&&Math.round(n.y.max)===Math.round(e.y.max)}function ew(n){return rr(n.x)/rr(n.y)}class ED{constructor(){this.members=[]}add(e){C3(this.members,e),e.scheduleRender()}remove(e){if(P3(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(r=>e===r);if(t===0)return!1;let i;for(let r=t;r>=0;r--){const s=this.members[r];if(s.isPresent!==!1){i=s;break}}return i?(this.promote(i),!0):!1}promote(e,t){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,t&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:i}=e;t.onExitComplete&&t.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function tw(n,e,t){let i="";const r=n.x.translate/e.x,s=n.y.translate/e.y;if((r||s)&&(i=`translate3d(${r}px, ${s}px, 0) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),t){const{rotate:l,rotateX:h,rotateY:f}=t;l&&(i+=`rotate(${l}deg) `),h&&(i+=`rotateX(${h}deg) `),f&&(i+=`rotateY(${f}deg) `)}const o=n.x.scale*e.x,a=n.y.scale*e.y;return(o!==1||a!==1)&&(i+=`scale(${o}, ${a})`),i||"none"}const TD=(n,e)=>n.depth-e.depth;class AD{constructor(){this.children=[],this.isDirty=!1}add(e){C3(this.children,e),this.isDirty=!0}remove(e){P3(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(TD),this.isDirty=!1,this.children.forEach(e)}}function bD(n,e){const t=performance.now(),i=({timestamp:r})=>{const s=r-t;s>=e&&(Ys(i),n(s-e))};return Qt.read(i,!0),()=>Ys(i)}function CD(n){window.MotionDebug&&window.MotionDebug.record(n)}function PD(n){return n instanceof SVGElement&&n.tagName!=="svg"}function RD(n,e,t){const i=Gi(n)?n:Oc(n);return i.start(b3("",i,e,t)),i.animation}const nw=["","X","Y","Z"],ID={visibility:"hidden"},iw=1e3;let LD=0;const Na={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function ab({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(o={},a=e==null?void 0:e()){this.id=LD++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Na.totalNodes=Na.resolvedTargetDeltas=Na.recalculatedProjection=0,this.nodes.forEach(UD),this.nodes.forEach(BD),this.nodes.forEach(VD),this.nodes.forEach(kD),CD(Na)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new AD)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new R3),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=PD(o),this.instance=o;const{layoutId:l,layout:h,visualElement:f}=this.options;if(f&&!f.current&&f.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(h||l)&&(this.isLayoutDirty=!0),n){let d;const p=()=>this.root.updateBlockedByResize=!1;n(o,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=bD(p,250),ip.hasAnimatedSinceResize&&(ip.hasAnimatedSinceResize=!1,this.nodes.forEach(sw))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&f&&(l||h)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:p,hasRelativeTargetChanged:m,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||f.getDefaultTransition()||XD,{onLayoutAnimationStart:S,onLayoutAnimationComplete:g}=f.getProps(),x=!this.targetLayout||!ob(this.targetLayout,y)||m,M=!p&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||M||p&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,M);const E={...A3(w,"layout"),onPlay:S,onComplete:g};(f.shouldReduceMotion||this.options.layoutRoot)&&(E.delay=0,E.type=!1),this.startAnimation(E)}else p||sw(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Ys(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(HD),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const d=this.path[f];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(rw);return}this.isUpdating||this.nodes.forEach(FD),this.isUpdating=!1,this.nodes.forEach(zD),this.nodes.forEach(ND),this.nodes.forEach(DD),this.clearAllSnapshots();const a=performance.now();li.delta=qo(0,1e3/60,a-li.timestamp),li.timestamp=a,li.isProcessing=!0,Av.update.process(li),Av.preRender.process(li),Av.render.process(li),li.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(OD),this.sharedNodes.forEach(GD)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Qt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Qt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=bn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:i(this.instance),offset:t(this.instance)})}resetTransform(){if(!r)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!sb(this.projectionDelta),l=this.getTransformTemplate(),h=l?l(this.latestValues,""):void 0,f=h!==this.prevTransformTemplateValue;o&&(a||La(this.latestValues)||f)&&(r(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),qD(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return bn();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(Eo(a.x,l.offset.x),Eo(a.y,l.offset.y)),a}removeElementScroll(o){const a=bn();gr(a,o);for(let l=0;l<this.path.length;l++){const h=this.path[l],{scroll:f,options:d}=h;if(h!==this.root&&f&&d.layoutScroll){if(f.isRoot){gr(a,o);const{scroll:p}=this.root;p&&(Eo(a.x,-p.offset.x),Eo(a.y,-p.offset.y))}Eo(a.x,f.offset.x),Eo(a.y,f.offset.y)}}return a}applyTransform(o,a=!1){const l=bn();gr(l,o);for(let h=0;h<this.path.length;h++){const f=this.path[h];!a&&f.options.layoutScroll&&f.scroll&&f!==f.root&&gc(l,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),La(f.latestValues)&&gc(l,f.latestValues)}return La(this.latestValues)&&gc(l,this.latestValues),l}removeTransform(o){const a=bn();gr(a,o);for(let l=0;l<this.path.length;l++){const h=this.path[l];if(!h.instance||!La(h.latestValues))continue;Gy(h.latestValues)&&h.updateSnapshot();const f=bn(),d=h.measurePageBox();gr(f,d),JM(a,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,f)}return La(this.latestValues)&&JM(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==li.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==l;if(!(o||h&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:d,layoutId:p}=this.options;if(!(!this.layout||!(d||p))){if(this.resolvedRelativeTargetAt=li.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=bn(),this.relativeTargetOrigin=bn(),dh(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),gr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=bn(),this.targetWithTransforms=bn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),YN(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):gr(this.target,this.layout.layoutBox),QA(this.target,this.targetDelta)):gr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=bn(),this.relativeTargetOrigin=bn(),dh(this.relativeTargetOrigin,this.target,m.target),gr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Na.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Gy(this.parent.latestValues)||JA(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let h=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(h=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===li.timestamp&&(h=!1),h)return;const{layout:f,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||d))return;gr(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,m=this.treeScale.y;iD(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:y}=a;if(!y){this.projectionTransform&&(this.projectionDelta=mc(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=mc(),this.projectionDeltaWithTransform=mc());const w=this.projectionTransform;fh(this.projectionDelta,this.layoutCorrected,y,this.latestValues),this.projectionTransform=tw(this.projectionDelta,this.treeScale),(this.projectionTransform!==w||this.treeScale.x!==p||this.treeScale.y!==m)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y)),Na.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const l=this.snapshot,h=l?l.latestValues:{},f={...this.latestValues},d=mc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=bn(),m=l?l.source:void 0,y=this.layout?this.layout.source:void 0,w=m!==y,S=this.getStack(),g=!S||S.members.length<=1,x=!!(w&&!g&&this.options.crossfade===!0&&!this.path.some(jD));this.animationProgress=0;let M;this.mixTargetDelta=E=>{const C=E/1e3;ow(d.x,o.x,C),ow(d.y,o.y,C),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(dh(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),WD(this.relativeTarget,this.relativeTargetOrigin,p,C),M&&wD(this.relativeTarget,M)&&(this.isProjectionDirty=!1),M||(M=bn()),gr(M,this.relativeTarget)),w&&(this.animationValues=f,vD(f,h,this.latestValues,C,x,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Ys(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Qt.update(()=>{ip.hasAnimatedSinceResize=!0,this.currentAnimation=RD(0,iw,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(iw),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:h,latestValues:f}=o;if(!(!a||!l||!h)){if(this!==o&&this.layout&&h&&lb(this.options.animationType,this.layout.layoutBox,h.layoutBox)){l=this.target||bn();const d=rr(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const p=rr(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+p}gr(a,l),gc(a,f),fh(this.projectionDeltaWithTransform,this.layoutCorrected,a,f)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new ED),this.sharedNodes.get(o).add(a);const h=a.options.initialPromotionConfig;a.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const h=this.getStack();h&&h.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const h={};for(let f=0;f<nw.length;f++){const d="rotate"+nw[f];l[d]&&(h[d]=l[d],o.setStaticValue(d,0))}o.render();for(const f in h)o.setStaticValue(f,h[f]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return ID;const h={visibility:""},f=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,h.opacity="",h.pointerEvents=np(o==null?void 0:o.pointerEvents)||"",h.transform=f?f(this.latestValues,""):"none",h;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const w={};return this.options.layoutId&&(w.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,w.pointerEvents=np(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!La(this.latestValues)&&(w.transform=f?f({},""):"none",this.hasProjected=!1),w}const p=d.animationValues||d.latestValues;this.applyTransformsToTarget(),h.transform=tw(this.projectionDeltaWithTransform,this.treeScale,p),f&&(h.transform=f(p,h.transform));const{x:m,y}=this.projectionDelta;h.transformOrigin=`${m.origin*100}% ${y.origin*100}% 0`,d.animationValues?h.opacity=d===this?(l=(a=p.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:h.opacity=d===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const w in Op){if(p[w]===void 0)continue;const{correct:S,applyTo:g}=Op[w],x=h.transform==="none"?p[w]:S(p[w],d);if(g){const M=g.length;for(let E=0;E<M;E++)h[g[E]]=x}else h[w]=x}return this.options.layoutId&&(h.pointerEvents=d===this?np(o==null?void 0:o.pointerEvents)||"":"none"),h}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(rw),this.root.sharedNodes.clear()}}}function ND(n){n.updateLayout()}function DD(n){var e;const t=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:r}=n.layout,{animationType:s}=n.options,o=t.source!==n.layout.source;s==="size"?yr(d=>{const p=o?t.measuredBox[d]:t.layoutBox[d],m=rr(p);p.min=i[d].min,p.max=p.min+m}):lb(s,t.layoutBox,i)&&yr(d=>{const p=o?t.measuredBox[d]:t.layoutBox[d],m=rr(i[d]);p.max=p.min+m,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[d].max=n.relativeTarget[d].min+m)});const a=mc();fh(a,i,t.layoutBox);const l=mc();o?fh(l,n.applyTransform(r,!0),t.measuredBox):fh(l,i,t.layoutBox);const h=!sb(a);let f=!1;if(!n.resumeFrom){const d=n.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:p,layout:m}=d;if(p&&m){const y=bn();dh(y,t.layoutBox,p.layoutBox);const w=bn();dh(w,i,m.layoutBox),ob(y,w)||(f=!0),d.options.layoutRoot&&(n.relativeTarget=w,n.relativeTargetOrigin=y,n.relativeParent=d)}}}n.notifyListeners("didUpdate",{layout:i,snapshot:t,delta:l,layoutDelta:a,hasLayoutChanged:h,hasRelativeTargetChanged:f})}else if(n.isLead()){const{onExitComplete:i}=n.options;i&&i()}n.options.transition=void 0}function UD(n){Na.totalNodes++,n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function kD(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function OD(n){n.clearSnapshot()}function rw(n){n.clearMeasurements()}function FD(n){n.isLayoutDirty=!1}function zD(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function sw(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function BD(n){n.resolveTargetDelta()}function VD(n){n.calcProjection()}function HD(n){n.resetRotation()}function GD(n){n.removeLeadSnapshot()}function ow(n,e,t){n.translate=cn(e.translate,0,t),n.scale=cn(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function aw(n,e,t,i){n.min=cn(e.min,t.min,i),n.max=cn(e.max,t.max,i)}function WD(n,e,t,i){aw(n.x,e.x,t.x,i),aw(n.y,e.y,t.y,i)}function jD(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const XD={duration:.45,ease:[.4,0,.1,1]},lw=n=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(n),cw=lw("applewebkit/")&&!lw("chrome/")?Math.round:gn;function uw(n){n.min=cw(n.min),n.max=cw(n.max)}function qD(n){uw(n.x),uw(n.y)}function lb(n,e,t){return n==="position"||n==="preserve-aspect"&&!Vy(ew(e),ew(t),.2)}const YD=ab({attachResizeListener:(n,e)=>Os(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ov={current:void 0},cb=ab({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!Ov.current){const n=new YD({});n.mount(window),n.setOptions({layoutScroll:!0}),Ov.current=n}return Ov.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),ZD={pan:{Feature:hD},drag:{Feature:uD,ProjectionNode:cb,MeasureLayout:nb}},KD=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function $D(n){const e=KD.exec(n);if(!e)return[,];const[,t,i]=e;return[t,i]}function jy(n,e,t=1){const[i,r]=$D(n);if(!i)return;const s=window.getComputedStyle(e).getPropertyValue(i);if(s){const o=s.trim();return jA(o)?parseFloat(o):o}else return Dy(r)?jy(r,e,t+1):r}function JD(n,{...e},t){const i=n.current;if(!(i instanceof Element))return{target:e,transitionEnd:t};t&&(t={...t}),n.values.forEach(r=>{const s=r.get();if(!Dy(s))return;const o=jy(s,i);o&&r.set(o)});for(const r in e){const s=e[r];if(!Dy(s))continue;const o=jy(s,i);o&&(e[r]=o,t||(t={}),t[r]===void 0&&(t[r]=s))}return{target:e,transitionEnd:t}}const QD=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),ub=n=>QD.has(n),eU=n=>Object.keys(n).some(ub),hw=n=>n===fl||n===mt,fw=(n,e)=>parseFloat(n.split(", ")[e]),dw=(n,e)=>(t,{transform:i})=>{if(i==="none"||!i)return 0;const r=i.match(/^matrix3d\((.+)\)$/);if(r)return fw(r[1],e);{const s=i.match(/^matrix\((.+)\)$/);return s?fw(s[1],n):0}},tU=new Set(["x","y","z"]),nU=gf.filter(n=>!tU.has(n));function iU(n){const e=[];return nU.forEach(t=>{const i=n.getValue(t);i!==void 0&&(e.push([t,i.get()]),i.set(t.startsWith("scale")?1:0))}),e.length&&n.render(),e}const Fc={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:dw(4,13),y:dw(5,14)};Fc.translateX=Fc.x;Fc.translateY=Fc.y;const rU=(n,e,t)=>{const i=e.measureViewportBox(),r=e.current,s=getComputedStyle(r),{display:o}=s,a={};o==="none"&&e.setStaticValue("display",n.display||"block"),t.forEach(h=>{a[h]=Fc[h](i,s)}),e.render();const l=e.measureViewportBox();return t.forEach(h=>{const f=e.getValue(h);f&&f.jump(a[h]),n[h]=Fc[h](l,s)}),n},sU=(n,e,t={},i={})=>{e={...e},i={...i};const r=Object.keys(e).filter(ub);let s=[],o=!1;const a=[];if(r.forEach(l=>{const h=n.getValue(l);if(!n.hasValue(l))return;let f=t[l],d=Ru(f);const p=e[l];let m;if(zp(p)){const y=p.length,w=p[0]===null?1:0;f=p[w],d=Ru(f);for(let S=w;S<y&&p[S]!==null;S++)m?S3(Ru(p[S])===m):m=Ru(p[S])}else m=Ru(p);if(d!==m)if(hw(d)&&hw(m)){const y=h.get();typeof y=="string"&&h.set(parseFloat(y)),typeof p=="string"?e[l]=parseFloat(p):Array.isArray(p)&&m===mt&&(e[l]=p.map(parseFloat))}else d!=null&&d.transform&&(m!=null&&m.transform)&&(f===0||p===0)?f===0?h.set(m.transform(f)):e[l]=d.transform(p):(o||(s=iU(n),o=!0),a.push(l),i[l]=i[l]!==void 0?i[l]:e[l],h.jump(p))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,h=rU(e,n,a);return s.length&&s.forEach(([f,d])=>{n.getValue(f).set(d)}),n.render(),t1&&l!==null&&window.scrollTo({top:l}),{target:h,transitionEnd:i}}else return{target:e,transitionEnd:i}};function oU(n,e,t,i){return eU(e)?sU(n,e,t,i):{target:e,transitionEnd:i}}const aU=(n,e,t,i)=>{const r=JD(n,e,i);return e=r.target,i=r.transitionEnd,oU(n,e,t,i)},Xy={current:null},hb={current:!1};function lU(){if(hb.current=!0,!!t1)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>Xy.current=n.matches;n.addListener(e),e()}else Xy.current=!1}function cU(n,e,t){const{willChange:i}=e;for(const r in e){const s=e[r],o=t[r];if(Gi(s))n.addValue(r,s),Gp(i)&&i.add(r);else if(Gi(o))n.addValue(r,Oc(s,{owner:n})),Gp(i)&&i.remove(r);else if(o!==s)if(n.hasValue(r)){const a=n.getValue(r);!a.hasAnimated&&a.set(s)}else{const a=n.getStaticValue(r);n.addValue(r,Oc(a!==void 0?a:s,{owner:n}))}}for(const r in t)e[r]===void 0&&n.removeValue(r);return e}const pw=new WeakMap,fb=Object.keys(Wh),uU=fb.length,mw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],hU=f3.length;class fU{constructor({parent:e,props:t,presenceContext:i,reducedMotionConfig:r,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Qt.render(this.render,!1,!0);const{latestValues:a,renderState:l}=s;this.latestValues=a,this.baseTarget={...a},this.initialValues=t.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=t,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=o,this.isControllingVariants=i1(t),this.isVariantNode=KT(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...f}=this.scrapeMotionValuesFromProps(t,{});for(const d in f){const p=f[d];a[d]!==void 0&&Gi(p)&&(p.set(a[d],!1),Gp(h)&&h.add(d))}}scrapeMotionValuesFromProps(e,t){return{}}mount(e){this.current=e,pw.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,i)=>this.bindToMotionValue(i,t)),hb.current||lU(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Xy.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){pw.delete(this.current),this.projection&&this.projection.unmount(),Ys(this.notifyUpdate),Ys(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,t){const i=hl.has(e),r=t.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Qt.update(this.notifyUpdate,!1,!0),i&&this.projection&&(this.projection.isTransformDirty=!0)}),s=t.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{r(),s()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...t},i,r,s){let o,a;for(let l=0;l<uU;l++){const h=fb[l],{isEnabled:f,Feature:d,ProjectionNode:p,MeasureLayout:m}=Wh[h];p&&(o=p),f(t)&&(!this.features[h]&&d&&(this.features[h]=new d(this)),m&&(a=m))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:h,drag:f,dragConstraints:d,layoutScroll:p,layoutRoot:m}=t;this.projection.setOptions({layoutId:l,layout:h,alwaysMeasureLayout:!!f||d&&dc(d),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof h=="string"?h:"both",initialPromotionConfig:s,layoutScroll:p,layoutRoot:m})}return a}updateFeatures(){for(const e in this.features){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):bn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}makeTargetAnimatable(e,t=!0){return this.makeTargetAnimatableFromInstance(e,this.props,t)}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let i=0;i<mw.length;i++){const r=mw[i];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const s=e["on"+r];s&&(this.propEventSubscriptions[r]=this.on(r,s))}this.prevMotionValues=cU(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const i=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(i.initial=this.props.initial),i}const t={};for(let i=0;i<hU;i++){const r=f3[i],s=this.props[r];(Gh(s)||s===!1)&&(t[r]=s)}return t}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){t!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,t)),this.values.set(e,t),this.latestValues[e]=t.get()}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&t!==void 0&&(i=Oc(t,{owner:this}),this.addValue(e,i)),i}readValue(e){var t;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(t=this.getBaseTargetFromProps(this.props,e))!==null&&t!==void 0?t:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:i}=this.props,r=typeof i=="string"||typeof i=="object"?(t=_3(this.props,i))===null||t===void 0?void 0:t[e]:void 0;if(i&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Gi(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new R3),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class db extends fU{sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:i}){delete t[e],delete i[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:t,...i},{transformValues:r},s){let o=PN(i,e||{},this);if(r&&(t&&(t=r(t)),i&&(i=r(i)),o&&(o=r(o))),s){bN(this,i,o);const a=aU(this,i,o,t);t=a.transitionEnd,i=a.target}return{transition:e,transitionEnd:t,...i}}}function dU(n){return window.getComputedStyle(n)}class pU extends db{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,t){if(hl.has(t)){const i=T3(t);return i&&i.default||0}else{const i=dU(e),r=(eA(t)?i.getPropertyValue(t):i[t])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:t}){return eb(e,t)}build(e,t,i,r){m3(e,t,i,r.transformTemplate)}scrapeMotionValuesFromProps(e,t){return x3(e,t)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Gi(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}renderInstance(e,t,i,r){oA(e,t,i,r)}}class mU extends db{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(hl.has(t)){const i=T3(t);return i&&i.default||0}return t=aA.has(t)?t:u3(t),e.getAttribute(t)}measureInstanceViewportBox(){return bn()}scrapeMotionValuesFromProps(e,t){return cA(e,t)}build(e,t,i,r){v3(e,t,i,this.isSVGTag,r.transformTemplate)}renderInstance(e,t,i,r){lA(e,t,i,r)}mount(e){this.isSVGTag=y3(e.tagName),super.mount(e)}}const gU=(n,e)=>p3(n)?new mU(e,{enableHardwareAcceleration:!1}):new pU(e,{enableHardwareAcceleration:!0}),vU={layout:{ProjectionNode:cb,MeasureLayout:nb}},yU={...WN,...uL,...ZD,...vU},yt=xI((n,e)=>$I(n,e,yU,gU));function pb(){const n=G.useRef(!1);return c3(()=>(n.current=!0,()=>{n.current=!1}),[]),n}function xU(){const n=pb(),[e,t]=G.useState(0),i=G.useCallback(()=>{n.current&&t(e+1)},[e]);return[G.useCallback(()=>Qt.postRender(i),[i]),e]}class _U extends G.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const i=this.props.sizeRef.current;i.height=t.offsetHeight||0,i.width=t.offsetWidth||0,i.top=t.offsetTop,i.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function SU({children:n,isPresent:e}){const t=G.useId(),i=G.useRef(null),r=G.useRef({width:0,height:0,top:0,left:0});return G.useInsertionEffect(()=>{const{width:s,height:o,top:a,left:l}=r.current;if(e||!i.current||!s||!o)return;i.current.dataset.motionPopId=t;const h=document.createElement("style");return document.head.appendChild(h),h.sheet&&h.sheet.insertRule(`
          [data-motion-pop-id="${t}"] {
            position: absolute !important;
            width: ${s}px !important;
            height: ${o}px !important;
            top: ${a}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(h)}},[e]),G.createElement(_U,{isPresent:e,childRef:i,sizeRef:r},G.cloneElement(n,{ref:i}))}const Fv=({children:n,initial:e,isPresent:t,onExitComplete:i,custom:r,presenceAffectsLayout:s,mode:o})=>{const a=uA(MU),l=G.useId(),h=G.useMemo(()=>({id:l,initial:e,isPresent:t,custom:r,onExitComplete:f=>{a.set(f,!0);for(const d of a.values())if(!d)return;i&&i()},register:f=>(a.set(f,!1),()=>a.delete(f))}),s?void 0:[t]);return G.useMemo(()=>{a.forEach((f,d)=>a.set(d,!1))},[t]),G.useEffect(()=>{!t&&!a.size&&i&&i()},[t]),o==="popLayout"&&(n=G.createElement(SU,{isPresent:t},n)),G.createElement(e1.Provider,{value:h},n)};function MU(){return new Map}function wU(n){return G.useEffect(()=>()=>n(),[])}const Da=n=>n.key||"";function EU(n,e){n.forEach(t=>{const i=Da(t);e.set(i,t)})}function TU(n){const e=[];return G.Children.forEach(n,t=>{G.isValidElement(t)&&e.push(t)}),e}const qy=({children:n,custom:e,initial:t=!0,onExitComplete:i,exitBeforeEnter:r,presenceAffectsLayout:s=!0,mode:o="sync"})=>{const a=G.useContext(d3).forceRender||xU()[0],l=pb(),h=TU(n);let f=h;const d=G.useRef(new Map).current,p=G.useRef(f),m=G.useRef(new Map).current,y=G.useRef(!0);if(c3(()=>{y.current=!1,EU(h,m),p.current=f}),wU(()=>{y.current=!0,m.clear(),d.clear()}),y.current)return G.createElement(G.Fragment,null,f.map(x=>G.createElement(Fv,{key:Da(x),isPresent:!0,initial:t?void 0:!1,presenceAffectsLayout:s,mode:o},x)));f=[...f];const w=p.current.map(Da),S=h.map(Da),g=w.length;for(let x=0;x<g;x++){const M=w[x];S.indexOf(M)===-1&&!d.has(M)&&d.set(M,void 0)}return o==="wait"&&d.size&&(f=[]),d.forEach((x,M)=>{if(S.indexOf(M)!==-1)return;const E=m.get(M);if(!E)return;const C=w.indexOf(M);let P=x;if(!P){const I=()=>{d.delete(M);const L=Array.from(m.keys()).filter(R=>!S.includes(R));if(L.forEach(R=>m.delete(R)),p.current=h.filter(R=>{const A=Da(R);return A===M||L.includes(A)}),!d.size){if(l.current===!1)return;a(),i&&i()}};P=G.createElement(Fv,{key:Da(E),isPresent:!1,onExitComplete:I,custom:e,presenceAffectsLayout:s,mode:o},E),d.set(M,P)}f.splice(C,0,P)}),f=f.map(x=>{const M=x.key;return d.has(M)?x:G.createElement(Fv,{key:Da(x),isPresent:!0,presenceAffectsLayout:s,mode:o},x)}),G.createElement(G.Fragment,null,d.size?f:f.map(x=>G.cloneElement(x)))};var AU={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const bU=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),$n=(n,e)=>{const t=G.forwardRef(({color:i="currentColor",size:r=24,strokeWidth:s=2,absoluteStrokeWidth:o,children:a,...l},h)=>G.createElement("svg",{ref:h,...AU,width:r,height:r,stroke:i,strokeWidth:o?Number(s)*24/Number(r):s,className:`lucide lucide-${bU(n)}`,...l},[...e.map(([f,d])=>G.createElement(f,d)),...(Array.isArray(a)?a:[a])||[]]));return t.displayName=`${n}`,t},CU=$n("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),PU=$n("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),zv=$n("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),RU=$n("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]),IU=$n("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),mb=$n("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),I3=$n("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]),LU=$n("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),gb=$n("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]),vb=$n("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),NU=$n("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),gw=$n("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),vw=$n("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),DU=$n("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]),yw=$n("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),UU=$n("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),kU=$n("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),yb=G.createContext(),a1=()=>G.useContext(yb),OU=({children:n})=>{const[e,t]=G.useState(()=>localStorage.getItem("theme")||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"));G.useEffect(()=>{localStorage.setItem("theme",e),e==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[e]),G.useEffect(()=>{const r=window.matchMedia("(prefers-color-scheme: dark)"),s=o=>{localStorage.getItem("theme")||t(o.matches?"dark":"light")};return r.addEventListener("change",s),()=>r.removeEventListener("change",s)},[]);const i=()=>{t(r=>r==="light"?"dark":"light")};return N.jsx(yb.Provider,{value:{theme:e,toggleTheme:i},children:n})},FU=()=>{const[n,e]=G.useState(!1),[t,i]=G.useState(!1),{theme:r,toggleTheme:s}=a1();G.useEffect(()=>{const l=()=>{window.scrollY>20?i(!0):i(!1)};return window.addEventListener("scroll",l),()=>window.removeEventListener("scroll",l)},[]);const o=[{name:"Accueil",path:"/"},{name:" propos",path:"/about"},{name:"Projets",path:"/projects"},{name:"Contact",path:"/contact"}],a={hidden:{opacity:0,y:-10},visible:l=>({opacity:1,y:0,transition:{delay:l*.1,duration:.5,ease:"easeOut"}})};return N.jsxs(yt.nav,{initial:{y:-100},animate:{y:0},transition:{duration:.5,ease:"easeOut"},className:`fixed w-full z-50 transition-all duration-300 ${t?"glass-card":"bg-transparent"}`,children:[N.jsx("div",{className:"container mx-auto max-w-5xl px-4",children:N.jsxs("div",{className:"flex justify-between items-center py-3",children:[N.jsx(Tv,{to:"/",className:"text-2xl font-bold text-primary",children:N.jsx(yt.div,{className:"flex items-center gap-2",whileHover:{scale:1.05},transition:{type:"spring",stiffness:300},children:N.jsx("span",{className:"relative block",style:{width:160,height:38},children:N.jsxs("svg",{viewBox:"0 0 370 80.8264972591293",height:"38",width:"160",style:{width:"160px",height:"38px",position:"relative",display:"block"},children:[N.jsx("defs",{}),N.jsxs("g",{featurekey:"Df7oLJ-0",transform:"matrix(0.9849443194885655,0,0,0.9849443194885655,-9.322498134249848,-3.909244103617623)",fill:"#10b981",children:[N.jsx("polygon",{points:"38.182,57.753 20.18,47.91 20.18,42.455 38.182,32.652 38.182,39.074 25.625,45.113 38.182,51.379 "}),N.jsx("polygon",{points:"39.848,62.08 46.351,27.918 50.136,27.918 43.56,62.08 "}),N.jsx("polygon",{points:"51.8,57.78 51.8,51.4 64.372,45.181 51.8,39.028 51.8,32.696 69.82,42.5 69.82,47.91 "}),N.jsx("path",{d:"M44.999,86.031L9.465,65.517V24.484L44.999,3.969l35.536,20.516v41.029L44.999,86.031L44.999,86.031z M13.07,63.434  l31.929,18.434L76.93,63.434V26.566L44.999,8.131L13.07,26.565V63.434L13.07,63.434z"})]}),N.jsx("g",{featurekey:"Ua4uQk-0",transform:"matrix(1.9959821652428904,0,0,1.9959821652428904,89.77518810758221,16.02008917378555)",fill:"#10b981",children:N.jsx("path",{d:"M14.78 18.86 q0.14 0.32 -0.07 0.65 t-0.57 0.33 l-13.32 0 q-0.18 0 -0.34 -0.09 t-0.24 -0.23 q-0.22 -0.32 -0.06 -0.66 l0.62 -1.46 q0.08 -0.2 0.26 -0.32 t0.38 -0.12 l9.32 0 l-3.28 -7.84 l-2.68 6.4 q-0.08 0.2 -0.25 0.31 t-0.39 0.11 l-1.68 0 q-0.38 0 -0.6 -0.32 q-0.08 -0.14 -0.1 -0.32 t0.04 -0.34 l4.06 -9.52 q0.08 -0.2 0.25 -0.32 t0.39 -0.12 l1.92 0 q0.22 0 0.39 0.12 t0.25 0.32 z M29.259999999999998 18.7 q0.12 0.14 0.14 0.34 t-0.07 0.38 t-0.26 0.28 t-0.37 0.1 l-1.9 0 q-0.18 0 -0.33 -0.08 t-0.25 -0.22 l-4.78 -6.88 l-1.96 1.84 l0 4.64 q0 0.28 -0.21 0.49 t-0.49 0.21 l-1.52 0 q-0.28 0 -0.49 -0.21 t-0.21 -0.49 l0 -5.56 q0 -0.32 0.22 -0.5 l8.36 -7.84 q0.2 -0.2 0.48 -0.2 l2.16 0 q0.2 0 0.38 0.12 t0.26 0.32 t0.04 0.41 t-0.2 0.37 l-4.68 4.4 z M17.259999999999998 10.1 q-0.28 0 -0.49 -0.2 t-0.21 -0.5 l0 -3.7 q0 -0.28 0.21 -0.49 t0.49 -0.21 l1.52 0 q0.28 0 0.49 0.21 t0.21 0.49 l0 3.7 q0 0.3 -0.21 0.5 t-0.49 0.2 l-1.52 0 z M40.4 14.1 l3.02 4.62 q0.22 0.36 0.02 0.72 q-0.08 0.16 -0.25 0.26 t-0.35 0.1 l-1.82 0 q-0.18 0 -0.34 -0.09 t-0.24 -0.23 l-3.04 -4.82 l-3.56 0 l0 4.44 q0 0.28 -0.21 0.49 t-0.49 0.21 l-1.52 0 q-0.28 0 -0.49 -0.21 t-0.21 -0.49 l0 -6.58 q0 -0.28 0.21 -0.49 t0.49 -0.21 l6.16 0 q1.76 0 2.34 -1 q0.2 -0.32 0.2 -0.92 q0 -0.94 -0.62 -1.48 q-0.64 -0.58 -1.84 -0.58 l-6.24 0 q-0.28 0 -0.49 -0.21 t-0.21 -0.49 l0 -1.44 q0 -0.28 0.21 -0.49 t0.49 -0.21 l6.42 0 q2.34 0 3.74 1.32 q1.46 1.32 1.46 3.58 q0 1.46 -0.64 2.49 t-1.86 1.57 z M59 18.86 q0.14 0.32 -0.07 0.65 t-0.57 0.33 l-13.32 0 q-0.18 0 -0.34 -0.09 t-0.24 -0.23 q-0.22 -0.32 -0.06 -0.66 l0.62 -1.46 q0.08 -0.2 0.26 -0.32 t0.38 -0.12 l9.32 0 l-3.28 -7.84 l-2.68 6.4 q-0.08 0.2 -0.25 0.31 t-0.39 0.11 l-1.68 0 q-0.38 0 -0.6 -0.32 q-0.08 -0.14 -0.1 -0.32 t0.04 -0.34 l4.06 -9.52 q0.08 -0.2 0.25 -0.32 t0.39 -0.12 l1.92 0 q0.22 0 0.39 0.12 t0.25 0.32 z M66.58 5.16 q0.24 0.2 0.24 0.54 l0 1.5 q0 0.26 -0.15 0.45 t-0.41 0.25 q-1.28 0.26 -2.18 1.22 q-1.22 1.28 -1.22 3.33 t1.22 3.35 q0.9 0.94 2.18 1.2 q0.26 0.06 0.41 0.25 t0.15 0.45 l0 1.5 q0 0.32 -0.24 0.54 q-0.22 0.16 -0.46 0.16 l-0.12 0 q-2.32 -0.38 -3.98 -2.1 q-2.08 -2.14 -2.08 -5.33 t2.08 -5.37 q1.62 -1.68 3.98 -2.08 q0.32 -0.06 0.58 0.14 z M72.86 7.1 q2.08 2.18 2.08 5.37 t-2.08 5.33 q-1.66 1.72 -3.98 2.1 l-0.12 0 q-0.24 0 -0.46 -0.16 q-0.24 -0.22 -0.24 -0.54 l0 -1.5 q0 -0.26 0.15 -0.45 t0.41 -0.25 q1.28 -0.26 2.18 -1.2 q1.22 -1.3 1.22 -3.35 t-1.22 -3.33 q-0.9 -0.96 -2.18 -1.22 q-0.26 -0.06 -0.41 -0.25 t-0.15 -0.45 l0 -1.5 q0 -0.34 0.25 -0.54 t0.57 -0.14 q2.36 0.4 3.98 2.08 z M82.5 17.06 q0.24 0.08 0.38 0.27 t0.14 0.43 l0 1.54 q0 0.32 -0.26 0.54 q-0.2 0.16 -0.44 0.16 q-0.1 0 -0.14 -0.02 q-1.86 -0.36 -3.2 -1.72 q-1.8 -1.84 -1.8 -4.84 l0 -7.7 q0 -0.3 0.21 -0.51 t0.49 -0.21 l1.54 0 q0.3 0 0.51 0.21 t0.21 0.51 l0 7.74 q0 1.9 1.08 2.9 q0.56 0.52 1.28 0.7 z M89.4 5 q0.3 0 0.51 0.21 t0.21 0.51 l0 7.7 q0 3 -1.8 4.84 q-1.34 1.36 -3.2 1.72 q-0.04 0.02 -0.14 0.02 q-0.24 0 -0.44 -0.16 q-0.26 -0.2 -0.26 -0.56 l0 -1.54 q0 -0.22 0.14 -0.41 t0.38 -0.27 q0.76 -0.22 1.28 -0.7 q1.08 -0.96 1.08 -2.9 l0 -7.74 q0 -0.3 0.21 -0.51 t0.51 -0.21 l1.52 0 z M95.1 16.28 q0.28 0 0.49 0.2 t0.21 0.5 l0 2.08 q0 0.28 -0.21 0.49 t-0.49 0.21 l-1.82 0 q-0.3 0 -0.5 -0.21 t-0.2 -0.49 l0 -2.08 q0 -0.3 0.2 -0.5 t0.5 -0.2 l1.82 0 z M107.36 5.52 q1.22 0.46 2.2 1.48 q2.1 2.12 2.1 5.41 t-2.1 5.43 q-0.98 1.02 -2.2 1.48 q-1.26 0.52 -2.58 0.52 l-5.66 0 q-0.28 0 -0.49 -0.21 t-0.21 -0.49 l0 -1.44 q0 -0.3 0.21 -0.51 t0.49 -0.21 l5.6 0 q1.78 0 2.89 -1.3 t1.11 -3.26 t-1.11 -3.26 t-2.89 -1.3 l-5.6 0 q-0.28 0 -0.49 -0.21 t-0.21 -0.51 l0 -1.44 q0 -0.28 0.21 -0.49 t0.49 -0.21 l5.66 0 q1.32 0 2.58 0.52 z M124.66 16.96 q0.3 0 0.5 0.21 t0.2 0.51 l0 1.46 q0 0.28 -0.2 0.49 t-0.5 0.21 l-9.88 0 q-0.28 0 -0.49 -0.21 t-0.21 -0.49 l0 -1.46 q0 -0.3 0.21 -0.51 t0.49 -0.21 l9.88 0 z M114.77999999999999 13.86 q-0.28 0 -0.49 -0.21 t-0.21 -0.49 l0 -1.5 q0 -0.28 0.21 -0.49 t0.49 -0.21 l8.98 0 q0.3 0 0.51 0.21 t0.21 0.49 l0 1.5 q0 0.28 -0.21 0.49 t-0.51 0.21 l-8.98 0 z M124.66 5 q0.3 0 0.5 0.21 t0.2 0.49 l0 1.46 q0 0.3 -0.2 0.51 t-0.5 0.21 l-9.88 0 q-0.28 0 -0.49 -0.21 t-0.21 -0.51 l0 -1.46 q0 -0.28 0.21 -0.49 t0.49 -0.21 l9.88 0 z M140.26 5.32 q0.22 0.3 0.08 0.66 l-5.48 13.54 q-0.08 0.2 -0.26 0.32 t-0.4 0.12 l-1.76 0 q-0.22 0 -0.4 -0.12 t-0.26 -0.32 l-5.48 -13.54 q-0.16 -0.34 0.06 -0.66 t0.58 -0.32 l6.68 0 q0.28 0 0.49 0.21 t0.21 0.51 l0 1.46 q0 0.3 -0.21 0.51 t-0.49 0.21 l-3.36 0 l3.06 7.7 l4.02 -10.16 q0.08 -0.2 0.26 -0.32 t0.4 -0.12 l1.68 0 q0.18 0 0.34 0.09 t0.24 0.23 z"})})]})})})}),N.jsxs("div",{className:"hidden md:flex items-center space-x-8",children:[o.map((l,h)=>N.jsx(yt.div,{custom:h,initial:"hidden",animate:"visible",variants:a,children:N.jsxs(Tv,{to:l.path,className:({isActive:f})=>`font-medium relative overflow-hidden group transition-colors duration-300 hover:text-primary ${f?"text-primary":"text-foreground"}`,children:[N.jsx("span",{className:"relative z-10",children:l.name}),N.jsx("span",{className:"absolute bottom-0 left-0 w-0 h-0.5 bg-primary group-hover:w-full transition-all duration-300 ease-in-out"})]})},l.path)),N.jsx(yt.button,{whileHover:{scale:1.1,rotate:15},whileTap:{scale:.9},onClick:s,className:"p-2 rounded-full bg-secondary hover:bg-secondary/80 transition-colors duration-300 animated-border","aria-label":"Toggle theme",children:r==="dark"?N.jsx(yw,{className:"w-5 h-5 text-yellow-400"}):N.jsx(gw,{className:"w-5 h-5 text-foreground"})})]}),N.jsxs("div",{className:"flex items-center md:hidden",children:[N.jsx(yt.button,{whileHover:{scale:1.1,rotate:15},whileTap:{scale:.9},onClick:s,className:"p-2 mr-2 rounded-full bg-secondary hover:bg-secondary/80 transition-colors","aria-label":"Toggle theme",children:r==="dark"?N.jsx(yw,{className:"w-5 h-5 text-yellow-400"}):N.jsx(gw,{className:"w-5 h-5 text-foreground"})}),N.jsx(yt.button,{whileTap:{scale:.9},onClick:()=>e(!n),className:"p-2 rounded-md text-foreground hover:bg-secondary transition-colors","aria-label":"Toggle menu",children:n?N.jsx(kU,{className:"w-6 h-6"}):N.jsx(NU,{className:"w-6 h-6"})})]})]})}),n&&N.jsx(yt.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"md:hidden glass-card border-t border-border/30",children:N.jsx("div",{className:"container mx-auto px-4 py-4 flex flex-col space-y-4",children:o.map((l,h)=>N.jsx(yt.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:h*.1},children:N.jsx(Tv,{to:l.path,onClick:()=>e(!1),className:({isActive:f})=>`font-medium py-2 block transition-colors duration-300 ${f?"text-primary":"text-foreground"}`,children:l.name})},l.path))})})]})};function l1(n,e,t,i){return new(t||(t=Promise))(function(r,s){function o(h){try{l(i.next(h))}catch(f){s(f)}}function a(h){try{l(i.throw(h))}catch(f){s(f)}}function l(h){var f;h.done?r(h.value):(f=h.value,f instanceof t?f:new t(function(d){d(f)})).then(o,a)}l((i=i.apply(n,e||[])).next())})}function Go(n,e){var t,i,r,s,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(l){return function(h){return function(f){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,i&&(r=2&f[0]?i.return:f[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,f[1])).done)return r;switch(i=0,r&&(f=[2&f[0],r.value]),f[0]){case 0:case 1:r=f;break;case 4:return o.label++,{value:f[1],done:!1};case 5:o.label++,i=f[1],f=[0];continue;case 7:f=o.ops.pop(),o.trys.pop();continue;default:if(r=o.trys,!((r=r.length>0&&r[r.length-1])||f[0]!==6&&f[0]!==2)){o=0;continue}if(f[0]===3&&(!r||f[1]>r[0]&&f[1]<r[3])){o.label=f[1];break}if(f[0]===6&&o.label<r[1]){o.label=r[1],r=f;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(f);break}r[2]&&o.ops.pop(),o.trys.pop();continue}f=e.call(n,o)}catch(d){f=[6,d],i=0}finally{t=r=0}if(5&f[0])throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}([l,h])}}}function Yy(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Br(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var i,r,s=t.call(n),o=[];try{for(;(e===void 0||e-- >0)&&!(i=s.next()).done;)o.push(i.value)}catch(a){r={error:a}}finally{try{i&&!i.done&&(t=s.return)&&t.call(s)}finally{if(r)throw r.error}}return o}function os(n,e,t){if(t||arguments.length===2)for(var i,r=0,s=e.length;r<s;r++)!i&&r in e||(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return n.concat(i||Array.prototype.slice.call(e))}function xw(n,e,t,i,r){for(var s=[],o=5;o<arguments.length;o++)s[o-5]=arguments[o];return l1(this,void 0,void 0,function(){var a,l,h,f,d,p;return Go(this,function(m){switch(m.label){case 0:m.trys.push([0,12,13,14]),a=Yy(s),l=a.next(),m.label=1;case 1:if(l.done)return[3,11];switch(h=l.value,typeof h){case"string":return[3,2];case"number":return[3,4];case"function":return[3,6]}return[3,8];case 2:return[4,zU(n,e,h,t,i,r)];case 3:return m.sent(),[3,10];case 4:return[4,xb(h)];case 5:return m.sent(),[3,10];case 6:return[4,h.apply(void 0,os([n,e,t,i,r],Br(s),!1))];case 7:return m.sent(),[3,10];case 8:return[4,h];case 9:m.sent(),m.label=10;case 10:return l=a.next(),[3,1];case 11:return[3,14];case 12:return f=m.sent(),d={error:f},[3,14];case 13:try{l&&!l.done&&(p=a.return)&&p.call(a)}finally{if(d)throw d.error}return[7];case 14:return[2]}})})}function zU(n,e,t,i,r,s){return l1(this,void 0,void 0,function(){var o,a;return Go(this,function(l){switch(l.label){case 0:return o=n.textContent||"",a=function(h,f){var d=Br(f).slice(0);return os(os([],Br(h),!1),[NaN],!1).findIndex(function(p,m){return d[m]!==p})}(o,t),[4,BU(n,os(os([],Br(HU(o,e,a)),!1),Br(VU(t,e,a)),!1),i,r,s)];case 1:return l.sent(),[2]}})})}function xb(n){return l1(this,void 0,void 0,function(){return Go(this,function(e){switch(e.label){case 0:return[4,new Promise(function(t){return setTimeout(t,n)})];case 1:return e.sent(),[2]}})})}function BU(n,e,t,i,r){return l1(this,void 0,void 0,function(){var s,o,a,l,h,f,d,p,m,y,w,S,g;return Go(this,function(x){switch(x.label){case 0:if(s=e,r){for(o=0,a=1;a<e.length;a++)if(l=Br([e[a-1],e[a]],2),h=l[0],(f=l[1]).length>h.length||f===""){o=a;break}s=e.slice(o,e.length)}x.label=1;case 1:x.trys.push([1,6,7,8]),d=Yy(function(M){var E,C,P,I,L,R,A;return Go(this,function(k){switch(k.label){case 0:E=function(X){return Go(this,function(q){switch(q.label){case 0:return[4,{op:function(ne){return requestAnimationFrame(function(){return ne.textContent=X})},opCode:function(ne){var se=ne.textContent||"";return X===""||se.length>X.length?"DELETE":"WRITING"}}];case 1:return q.sent(),[2]}})},k.label=1;case 1:k.trys.push([1,6,7,8]),C=Yy(M),P=C.next(),k.label=2;case 2:return P.done?[3,5]:(I=P.value,[5,E(I)]);case 3:k.sent(),k.label=4;case 4:return P=C.next(),[3,2];case 5:return[3,8];case 6:return L=k.sent(),R={error:L},[3,8];case 7:try{P&&!P.done&&(A=C.return)&&A.call(C)}finally{if(R)throw R.error}return[7];case 8:return[2]}})}(s)),p=d.next(),x.label=2;case 2:return p.done?[3,5]:(m=p.value,y=m.opCode(n)==="WRITING"?t+t*(Math.random()-.5):i+i*(Math.random()-.5),m.op(n),[4,xb(y)]);case 3:x.sent(),x.label=4;case 4:return p=d.next(),[3,2];case 5:return[3,8];case 6:return w=x.sent(),S={error:w},[3,8];case 7:try{p&&!p.done&&(g=d.return)&&g.call(d)}finally{if(S)throw S.error}return[7];case 8:return[2]}})})}function VU(n,e,t){var i,r;return t===void 0&&(t=0),Go(this,function(s){switch(s.label){case 0:i=e(n),r=i.length,s.label=1;case 1:return t<r?[4,i.slice(0,++t).join("")]:[3,3];case 2:return s.sent(),[3,1];case 3:return[2]}})}function HU(n,e,t){var i,r;return t===void 0&&(t=0),Go(this,function(s){switch(s.label){case 0:i=e(n),r=i.length,s.label=1;case 1:return r>t?[4,i.slice(0,--r).join("")]:[3,3];case 2:return s.sent(),[3,1];case 3:return[2]}})}var GU="index-module_type__E-SaG";(function(n,e){e===void 0&&(e={});var t=e.insertAt;if(n&&typeof document<"u"){var i=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&i.firstChild?i.insertBefore(r,i.firstChild):i.appendChild(r),r.styleSheet?r.styleSheet.cssText=n:r.appendChild(document.createTextNode(n))}})(`.index-module_type__E-SaG::after {
  content: '|';
  animation: index-module_cursor__PQg0P 1.1s infinite step-start;
}

@keyframes index-module_cursor__PQg0P {
  50% {
    opacity: 0;
  }
}
`);var WU=G.memo(G.forwardRef(function(n,e){var t=n.sequence,i=n.repeat,r=n.className,s=n.speed,o=s===void 0?40:s,a=n.deletionSpeed,l=n.omitDeletionAnimation,h=l!==void 0&&l,f=n.preRenderFirstString,d=f!==void 0&&f,p=n.wrapper,m=p===void 0?"span":p,y=n.splitter,w=y===void 0?function(H){return os([],Br(H),!1)}:y,S=n.cursor,g=S===void 0||S,x=n.style,M=function(H,Z){var de={};for(var Te in H)Object.prototype.hasOwnProperty.call(H,Te)&&Z.indexOf(Te)<0&&(de[Te]=H[Te]);if(H!=null&&typeof Object.getOwnPropertySymbols=="function"){var ie=0;for(Te=Object.getOwnPropertySymbols(H);ie<Te.length;ie++)Z.indexOf(Te[ie])<0&&Object.prototype.propertyIsEnumerable.call(H,Te[ie])&&(de[Te[ie]]=H[Te[ie]])}return de}(n,["sequence","repeat","className","speed","deletionSpeed","omitDeletionAnimation","preRenderFirstString","wrapper","splitter","cursor","style"]),E=M["aria-label"],C=M["aria-hidden"],P=M.role;a||(a=o);var I=new Array(2).fill(40);[o,a].forEach(function(H,Z){switch(typeof H){case"number":I[Z]=Math.abs(H-100);break;case"object":var de=H.type,Te=H.value;if(typeof Te!="number")break;de==="keyStrokeDelayInMs"&&(I[Z]=Te)}});var L,R,A,k,X,q,ne=I[0],se=I[1],te=function(H,Z){Z===void 0&&(Z=null);var de=G.useRef(Z);return G.useEffect(function(){H&&(typeof H=="function"?H(de.current):H.current=de.current)},[H]),de}(e),le=GU;L=r?"".concat(g?le+" ":"").concat(r):g?le:"",R=G.useRef(function(){var H,Z=t;i===1/0?H=xw:typeof i=="number"&&(Z=Array(1+i).fill(t).flat());var de=H?os(os([],Br(Z),!1),[H],!1):os([],Br(Z),!1);return xw.apply(void 0,os([te.current,w,ne,se,h],Br(de),!1)),function(){te.current}}),A=G.useRef(),k=G.useRef(!1),X=G.useRef(!1),q=Br(G.useState(0),2)[1],k.current&&(X.current=!0),G.useEffect(function(){return k.current||(A.current=R.current(),k.current=!0),q(function(H){return H+1}),function(){X.current&&A.current&&A.current()}},[]);var U=m,W=d?t.find(function(H){return typeof H=="string"})||"":null;return er.createElement(U,{"aria-hidden":C,"aria-label":E,role:P,style:x,className:L,children:E?er.createElement("span",{"aria-hidden":"true",ref:te,children:W}):W,ref:E?void 0:te})}),function(n,e){return!0});const jU=()=>{const n={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.2}}},e={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{duration:.5}}};return N.jsx(yt.div,{initial:"hidden",animate:"visible",exit:{opacity:0},variants:n,className:"min-h-[calc(100vh-80px)] flex flex-col justify-center",children:N.jsx("div",{className:"container mx-auto px-4",children:N.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[N.jsxs("div",{children:[N.jsx(yt.div,{variants:e,className:"mb-4",children:N.jsxs("div",{className:"code-container bg-slate-900/80 p-4 md:p-6 rounded-lg border border-slate-700/50 shadow-lg relative overflow-hidden",children:[N.jsxs("div",{className:"flex gap-2 absolute top-2 left-3",children:[N.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),N.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),N.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"})]}),N.jsxs("div",{className:"mt-4",children:[N.jsx("span",{className:"text-slate-400 font-mono",children:"// Bienvenue sur mon portfolio"}),N.jsxs("h1",{className:"text-xl md:text-2xl font-bold text-slate-100 font-mono mt-2",children:[N.jsx("span",{className:"text-blue-400",children:"const"})," ",N.jsx("span",{className:"text-green-400",children:"developer "})," ",N.jsxs("span",{className:"text-blue-400",children:["=",N.jsx("br",{})]}),N.jsx("span",{className:"text-yellow-400",children:"'"}),N.jsx(WU,{sequence:["Ayoub Akraou",2e3,"Dveloppeur Full Stack",2e3,"Passionn par le Web",2e3],wrapper:"span",speed:50,repeat:1/0,className:"text-primary text-nowrap"}),N.jsx("span",{className:"text-yellow-400",children:"'"}),N.jsx("span",{className:"text-slate-100",children:";"})]}),N.jsxs("p",{className:"text-slate-300 font-mono mt-2",children:[N.jsx("span",{className:"text-blue-400",children:"console"}),".",N.jsx("span",{className:"text-green-400",children:"log"}),N.jsx("span",{className:"text-slate-100",children:"("}),N.jsx("span",{className:"text-green-400",children:"developer"}),N.jsx("span",{className:"text-slate-100",children:");"})," ",N.jsx("span",{className:"text-slate-400",children:"// variant!"})]})]})]})}),N.jsx(yt.h2,{variants:e,className:"text-2xl md:text-3xl font-semibold mb-2 text-accent",children:"Dveloppeur Full Stack"}),N.jsx(yt.p,{variants:e,className:"text-lg md:text-xl text-foreground/80 mb-8",children:"Je conois des applications web robustes, performantes et modernes, en mettant laccent sur lexprience utilisateur, la qualit du code et linnovation."}),N.jsxs(yt.div,{variants:e,className:"flex flex-wrap gap-4",children:[N.jsx(Ly,{to:"/projects",children:N.jsxs(yt.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"btn-primary flex items-center gap-2",children:["Voir mes projets ",N.jsx(PU,{className:"w-5 h-5"})]})}),N.jsx(Ly,{to:"/contact",children:N.jsx(yt.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"btn-secondary",children:"Me contacter"})})]})]}),N.jsx(yt.div,{variants:e,className:"hidden lg:flex justify-center",children:N.jsxs("div",{className:"relative",children:[N.jsx(yt.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5,delay:.2},className:"w-72 h-72 bg-gradient-to-br from-emerald-500 to-green-400 rounded-full absolute -z-10 blur-2xl opacity-20"}),N.jsx("div",{className:"grid grid-cols-2 gap-4",children:[{icon:N.jsx(RU,{className:"w-8 h-8"}),title:"Frontend",desc:"ReactJS, Tailwind CSS, JavaScript (ES6+)"},{icon:N.jsx(DU,{className:"w-8 h-8"}),title:"Backend",desc:"PHP, Laravel, MySQL, PostgreSQL"},{icon:N.jsx(IU,{className:"w-8 h-8"}),title:"Outils & Environnements",desc:"Git & GitHub, DevTools, UML"},{icon:N.jsx(UU,{className:"w-8 h-8"}),title:"Mthodologies",desc:"Agile, Scrum"}].map((t,i)=>N.jsxs(yt.div,{whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)"},className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[N.jsx("div",{className:"text-primary mb-3",children:t.icon}),N.jsx("h3",{className:"font-bold mb-1",children:t.title}),N.jsx("p",{className:"text-sm text-foreground/70",children:t.desc})]},i))})]})})]})})})};var _b={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},_w=er.createContext&&er.createContext(_b),XU=["attr","size","title"];function qU(n,e){if(n==null)return{};var t=YU(n,e),i,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)i=s[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function YU(n,e){if(n==null)return{};var t={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function jp(){return jp=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},jp.apply(this,arguments)}function Sw(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Xp(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Sw(Object(t),!0).forEach(function(i){ZU(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Sw(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function ZU(n,e,t){return e=KU(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function KU(n){var e=$U(n,"string");return typeof e=="symbol"?e:e+""}function $U(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Sb(n){return n&&n.map((e,t)=>er.createElement(e.tag,Xp({key:t},e.attr),Sb(e.child)))}function $t(n){return e=>er.createElement(JU,jp({attr:Xp({},n.attr)},e),Sb(n.child))}function JU(n){var e=t=>{var{attr:i,size:r,title:s}=n,o=qU(n,XU),a=r||t.size||"1em",l;return t.className&&(l=t.className),n.className&&(l=(l?l+" ":"")+n.className),er.createElement("svg",jp({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,o,{className:l,style:Xp(Xp({color:n.color||t.color},t.style),n.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&er.createElement("title",null,s),n.children)};return _w!==void 0?er.createElement(_w.Consumer,null,t=>e(t)):e(_b)}function QU(n){return $t({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M131.5 217.5L55.1 100.1c47.6-59.2 119-91.8 192-92.1 42.3-.3 85.5 10.5 124.8 33.2 43.4 25.2 76.4 61.4 97.4 103L264 133.4c-58.1-3.4-113.4 29.3-132.5 84.1zm32.9 38.5c0 46.2 37.4 83.6 83.6 83.6s83.6-37.4 83.6-83.6-37.4-83.6-83.6-83.6-83.6 37.3-83.6 83.6zm314.9-89.2L339.6 174c37.9 44.3 38.5 108.2 6.6 157.2L234.1 503.6c46.5 2.5 94.4-7.7 137.8-32.9 107.4-62 150.9-192 107.4-303.9zM133.7 303.6L40.4 120.1C14.9 159.1 0 205.9 0 256c0 124 90.8 226.7 209.5 244.9l63.7-124.8c-57.6 10.8-113.2-20.8-139.5-72.5z"},child:[]}]})(n)}function ek(n){return $t({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M0 32l34.9 395.8L192 480l157.1-52.2L384 32H0zm313.1 80l-4.8 47.3L193 208.6l-.3.1h111.5l-12.8 146.6-98.2 28.7-98.8-29.2-6.4-73.9h48.9l3.2 38.3 52.6 13.3 54.7-15.4 3.7-61.6-166.3-.5v-.1l-.2.1-3.6-46.3L193.1 162l6.5-2.7H76.7L70.9 112h242.2z"},child:[]}]})(n)}function tk(n){return $t({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"},child:[]}]})(n)}function nk(n){return $t({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M0 32l34.9 395.8L191.5 480l157.6-52.2L384 32H0zm308.2 127.9H124.4l4.1 49.4h175.6l-13.6 148.4-97.9 27v.3h-1.1l-98.7-27.3-6-75.8h47.7L138 320l53.5 14.5 53.7-14.5 6-62.2H84.3L71.5 112.2h241.1l-4.4 47.7z"},child:[]}]})(n)}function ik(n){return $t({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zM243.8 381.4c0 43.6-25.6 63.5-62.9 63.5-33.7 0-53.2-17.4-63.2-38.5l34.3-20.7c6.6 11.7 12.6 21.6 27.1 21.6 13.8 0 22.6-5.4 22.6-26.5V237.7h42.1v143.7zm99.6 63.5c-39.1 0-64.4-18.6-76.7-43l34.3-19.8c9 14.7 20.8 25.6 41.5 25.6 17.4 0 28.6-8.7 28.6-20.8 0-14.4-11.4-19.5-30.7-28l-10.5-4.5c-30.4-12.9-50.5-29.2-50.5-63.5 0-31.6 24.1-55.6 61.6-55.6 26.8 0 46 9.3 59.8 33.7L368 290c-7.2-12.9-15-18-27.1-18-12.3 0-20.1 7.8-20.1 18 0 12.6 7.8 17.7 25.9 25.6l10.5 4.5c35.8 15.3 55.9 31 55.9 66.2 0 37.8-29.8 58.6-69.7 58.6z"},child:[]}]})(n)}function rk(n){return $t({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504.4,115.83a5.72,5.72,0,0,0-.28-.68,8.52,8.52,0,0,0-.53-1.25,6,6,0,0,0-.54-.71,9.36,9.36,0,0,0-.72-.94c-.23-.22-.52-.4-.77-.6a8.84,8.84,0,0,0-.9-.68L404.4,55.55a8,8,0,0,0-8,0L300.12,111h0a8.07,8.07,0,0,0-.88.69,7.68,7.68,0,0,0-.78.6,8.23,8.23,0,0,0-.72.93c-.17.24-.39.45-.54.71a9.7,9.7,0,0,0-.52,1.25c-.08.23-.21.44-.28.68a8.08,8.08,0,0,0-.28,2.08V223.18l-80.22,46.19V63.44a7.8,7.8,0,0,0-.28-2.09c-.06-.24-.2-.45-.28-.68a8.35,8.35,0,0,0-.52-1.24c-.14-.26-.37-.47-.54-.72a9.36,9.36,0,0,0-.72-.94,9.46,9.46,0,0,0-.78-.6,9.8,9.8,0,0,0-.88-.68h0L115.61,1.07a8,8,0,0,0-8,0L11.34,56.49h0a6.52,6.52,0,0,0-.88.69,7.81,7.81,0,0,0-.79.6,8.15,8.15,0,0,0-.71.93c-.18.25-.4.46-.55.72a7.88,7.88,0,0,0-.51,1.24,6.46,6.46,0,0,0-.29.67,8.18,8.18,0,0,0-.28,2.1v329.7a8,8,0,0,0,4,6.95l192.5,110.84a8.83,8.83,0,0,0,1.33.54c.21.08.41.2.63.26a7.92,7.92,0,0,0,4.1,0c.2-.05.37-.16.55-.22a8.6,8.6,0,0,0,1.4-.58L404.4,400.09a8,8,0,0,0,4-6.95V287.88l92.24-53.11a8,8,0,0,0,4-7V117.92A8.63,8.63,0,0,0,504.4,115.83ZM111.6,17.28h0l80.19,46.15-80.2,46.18L31.41,63.44Zm88.25,60V278.6l-46.53,26.79-33.69,19.4V123.5l46.53-26.79Zm0,412.78L23.37,388.5V77.32L57.06,96.7l46.52,26.8V338.68a6.94,6.94,0,0,0,.12.9,8,8,0,0,0,.16,1.18h0a5.92,5.92,0,0,0,.38.9,6.38,6.38,0,0,0,.42,1v0a8.54,8.54,0,0,0,.6.78,7.62,7.62,0,0,0,.66.84l0,0c.23.22.52.38.77.58a8.93,8.93,0,0,0,.86.66l0,0,0,0,92.19,52.18Zm8-106.17-80.06-45.32,84.09-48.41,92.26-53.11,80.13,46.13-58.8,33.56Zm184.52,4.57L215.88,490.11V397.8L346.6,323.2l45.77-26.15Zm0-119.13L358.68,250l-46.53-26.79V131.79l33.69,19.4L392.37,178Zm8-105.28-80.2-46.17,80.2-46.16,80.18,46.15Zm8,105.28V178L455,151.19l33.68-19.4v91.39h0Z"},child:[]}]})(n)}function sk(n){return $t({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 104.5c171.4 0 303.2 72.2 303.2 151.5S491.3 407.5 320 407.5c-171.4 0-303.2-72.2-303.2-151.5S148.7 104.5 320 104.5m0-16.8C143.3 87.7 0 163 0 256s143.3 168.3 320 168.3S640 349 640 256 496.7 87.7 320 87.7zM218.2 242.5c-7.9 40.5-35.8 36.3-70.1 36.3l13.7-70.6c38 0 63.8-4.1 56.4 34.3zM97.4 350.3h36.7l8.7-44.8c41.1 0 66.6 3 90.2-19.1 26.1-24 32.9-66.7 14.3-88.1-9.7-11.2-25.3-16.7-46.5-16.7h-70.7L97.4 350.3zm185.7-213.6h36.5l-8.7 44.8c31.5 0 60.7-2.3 74.8 10.7 14.8 13.6 7.7 31-8.3 113.1h-37c15.4-79.4 18.3-86 12.7-92-5.4-5.8-17.7-4.6-47.4-4.6l-18.8 96.6h-36.5l32.7-168.6zM505 242.5c-8 41.1-36.7 36.3-70.1 36.3l13.7-70.6c38.2 0 63.8-4.1 56.4 34.3zM384.2 350.3H421l8.7-44.8c43.2 0 67.1 2.5 90.2-19.1 26.1-24 32.9-66.7 14.3-88.1-9.7-11.2-25.3-16.7-46.5-16.7H417l-32.8 168.7z"},child:[]}]})(n)}function ok(n){return $t({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M418.2 177.2c-5.4-1.8-10.8-3.5-16.2-5.1.9-3.7 1.7-7.4 2.5-11.1 12.3-59.6 4.2-107.5-23.1-123.3-26.3-15.1-69.2.6-112.6 38.4-4.3 3.7-8.5 7.6-12.5 11.5-2.7-2.6-5.5-5.2-8.3-7.7-45.5-40.4-91.1-57.4-118.4-41.5-26.2 15.2-34 60.3-23 116.7 1.1 5.6 2.3 11.1 3.7 16.7-6.4 1.8-12.7 3.8-18.6 5.9C38.3 196.2 0 225.4 0 255.6c0 31.2 40.8 62.5 96.3 81.5 4.5 1.5 9 3 13.6 4.3-1.5 6-2.8 11.9-4 18-10.5 55.5-2.3 99.5 23.9 114.6 27 15.6 72.4-.4 116.6-39.1 3.5-3.1 7-6.3 10.5-9.7 4.4 4.3 9 8.4 13.6 12.4 42.8 36.8 85.1 51.7 111.2 36.6 27-15.6 35.8-62.9 24.4-120.5-.9-4.4-1.9-8.9-3-13.5 3.2-.9 6.3-1.9 9.4-2.9 57.7-19.1 99.5-50 99.5-81.7 0-30.3-39.4-59.7-93.8-78.4zM282.9 92.3c37.2-32.4 71.9-45.1 87.7-36 16.9 9.7 23.4 48.9 12.8 100.4-.7 3.4-1.4 6.7-2.3 10-22.2-5-44.7-8.6-67.3-10.6-13-18.6-27.2-36.4-42.6-53.1 3.9-3.7 7.7-7.2 11.7-10.7zM167.2 307.5c5.1 8.7 10.3 17.4 15.8 25.9-15.6-1.7-31.1-4.2-46.4-7.5 4.4-14.4 9.9-29.3 16.3-44.5 4.6 8.8 9.3 17.5 14.3 26.1zm-30.3-120.3c14.4-3.2 29.7-5.8 45.6-7.8-5.3 8.3-10.5 16.8-15.4 25.4-4.9 8.5-9.7 17.2-14.2 26-6.3-14.9-11.6-29.5-16-43.6zm27.4 68.9c6.6-13.8 13.8-27.3 21.4-40.6s15.8-26.2 24.4-38.9c15-1.1 30.3-1.7 45.9-1.7s31 .6 45.9 1.7c8.5 12.6 16.6 25.5 24.3 38.7s14.9 26.7 21.7 40.4c-6.7 13.8-13.9 27.4-21.6 40.8-7.6 13.3-15.7 26.2-24.2 39-14.9 1.1-30.4 1.6-46.1 1.6s-30.9-.5-45.6-1.4c-8.7-12.7-16.9-25.7-24.6-39s-14.8-26.8-21.5-40.6zm180.6 51.2c5.1-8.8 9.9-17.7 14.6-26.7 6.4 14.5 12 29.2 16.9 44.3-15.5 3.5-31.2 6.2-47 8 5.4-8.4 10.5-17 15.5-25.6zm14.4-76.5c-4.7-8.8-9.5-17.6-14.5-26.2-4.9-8.5-10-16.9-15.3-25.2 16.1 2 31.5 4.7 45.9 8-4.6 14.8-10 29.2-16.1 43.4zM256.2 118.3c10.5 11.4 20.4 23.4 29.6 35.8-19.8-.9-39.7-.9-59.5 0 9.8-12.9 19.9-24.9 29.9-35.8zM140.2 57c16.8-9.8 54.1 4.2 93.4 39 2.5 2.2 5 4.6 7.6 7-15.5 16.7-29.8 34.5-42.9 53.1-22.6 2-45 5.5-67.2 10.4-1.3-5.1-2.4-10.3-3.5-15.5-9.4-48.4-3.2-84.9 12.6-94zm-24.5 263.6c-4.2-1.2-8.3-2.5-12.4-3.9-21.3-6.7-45.5-17.3-63-31.2-10.1-7-16.9-17.8-18.8-29.9 0-18.3 31.6-41.7 77.2-57.6 5.7-2 11.5-3.8 17.3-5.5 6.8 21.7 15 43 24.5 63.6-9.6 20.9-17.9 42.5-24.8 64.5zm116.6 98c-16.5 15.1-35.6 27.1-56.4 35.3-11.1 5.3-23.9 5.8-35.3 1.3-15.9-9.2-22.5-44.5-13.5-92 1.1-5.6 2.3-11.2 3.7-16.7 22.4 4.8 45 8.1 67.9 9.8 13.2 18.7 27.7 36.6 43.2 53.4-3.2 3.1-6.4 6.1-9.6 8.9zm24.5-24.3c-10.2-11-20.4-23.2-30.3-36.3 9.6.4 19.5.6 29.5.6 10.3 0 20.4-.2 30.4-.7-9.2 12.7-19.1 24.8-29.6 36.4zm130.7 30c-.9 12.2-6.9 23.6-16.5 31.3-15.9 9.2-49.8-2.8-86.4-34.2-4.2-3.6-8.4-7.5-12.7-11.5 15.3-16.9 29.4-34.8 42.2-53.6 22.9-1.9 45.7-5.4 68.2-10.5 1 4.1 1.9 8.2 2.7 12.2 4.9 21.6 5.7 44.1 2.5 66.3zm18.2-107.5c-2.8.9-5.6 1.8-8.5 2.6-7-21.8-15.6-43.1-25.5-63.8 9.6-20.4 17.7-41.4 24.5-62.9 5.2 1.5 10.2 3.1 15 4.7 46.6 16 79.3 39.8 79.3 58 0 19.6-34.9 44.9-84.8 61.4zm-149.7-15c25.3 0 45.8-20.5 45.8-45.8s-20.5-45.8-45.8-45.8c-25.3 0-45.8 20.5-45.8 45.8s20.5 45.8 45.8 45.8z"},child:[]}]})(n)}function ak(n){return $t({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M301.84 378.92c-.3.6-.6 1.08 0 0zm249.13-87a131.16 131.16 0 0 0-58 13.5c-5.9-11.9-12-22.3-13-30.1-1.2-9.1-2.5-14.5-1.1-25.3s7.7-26.1 7.6-27.2-1.4-6.6-14.3-6.7-24 2.5-25.29 5.9a122.83 122.83 0 0 0-5.3 19.1c-2.3 11.7-25.79 53.5-39.09 75.3-4.4-8.5-8.1-16-8.9-22-1.2-9.1-2.5-14.5-1.1-25.3s7.7-26.1 7.6-27.2-1.4-6.6-14.29-6.7-24 2.5-25.3 5.9-2.7 11.4-5.3 19.1-33.89 77.3-42.08 95.4c-4.2 9.2-7.8 16.6-10.4 21.6-.4.8-.7 1.3-.9 1.7.3-.5.5-1 .5-.8-2.2 4.3-3.5 6.7-3.5 6.7v.1c-1.7 3.2-3.6 6.1-4.5 6.1-.6 0-1.9-8.4.3-19.9 4.7-24.2 15.8-61.8 15.7-63.1-.1-.7 2.1-7.2-7.3-10.7-9.1-3.3-12.4 2.2-13.2 2.2s-1.4 2-1.4 2 10.1-42.4-19.39-42.4c-18.4 0-44 20.2-56.58 38.5-7.9 4.3-25 13.6-43 23.5-6.9 3.8-14 7.7-20.7 11.4-.5-.5-.9-1-1.4-1.5-35.79-38.2-101.87-65.2-99.07-116.5 1-18.7 7.5-67.8 127.07-127.4 98-48.8 176.35-35.4 189.84-5.6 19.4 42.5-41.89 121.6-143.66 133-38.79 4.3-59.18-10.7-64.28-16.3-5.3-5.9-6.1-6.2-8.1-5.1-3.3 1.8-1.2 7 0 10.1 3 7.9 15.5 21.9 36.79 28.9 18.7 6.1 64.18 9.5 119.17-11.8 61.78-23.8 109.87-90.1 95.77-145.6C386.52 18.32 293-.18 204.57 31.22c-52.69 18.7-109.67 48.1-150.66 86.4-48.69 45.6-56.48 85.3-53.28 101.9 11.39 58.9 92.57 97.3 125.06 125.7-1.6.9-3.1 1.7-4.5 2.5-16.29 8.1-78.18 40.5-93.67 74.7-17.5 38.8 2.9 66.6 16.29 70.4 41.79 11.6 84.58-9.3 107.57-43.6s20.2-79.1 9.6-99.5c-.1-.3-.3-.5-.4-.8 4.2-2.5 8.5-5 12.8-7.5 8.29-4.9 16.39-9.4 23.49-13.3-4 10.8-6.9 23.8-8.4 42.6-1.8 22 7.3 50.5 19.1 61.7 5.2 4.9 11.49 5 15.39 5 13.8 0 20-11.4 26.89-25 8.5-16.6 16-35.9 16-35.9s-9.4 52.2 16.3 52.2c9.39 0 18.79-12.1 23-18.3v.1s.2-.4.7-1.2c1-1.5 1.5-2.4 1.5-2.4v-.3c3.8-6.5 12.1-21.4 24.59-46 16.2-31.8 31.69-71.5 31.69-71.5a201.24 201.24 0 0 0 6.2 25.8c2.8 9.5 8.7 19.9 13.4 30-3.8 5.2-6.1 8.2-6.1 8.2a.31.31 0 0 0 .1.2c-3 4-6.4 8.3-9.9 12.5-12.79 15.2-28 32.6-30 37.6-2.4 5.9-1.8 10.3 2.8 13.7 3.4 2.6 9.4 3 15.69 2.5 11.5-.8 19.6-3.6 23.5-5.4a82.2 82.2 0 0 0 20.19-10.6c12.5-9.2 20.1-22.4 19.4-39.8-.4-9.6-3.5-19.2-7.3-28.2 1.1-1.6 2.3-3.3 3.4-5C434.8 301.72 450.1 270 450.1 270a201.24 201.24 0 0 0 6.2 25.8c2.4 8.1 7.09 17 11.39 25.7-18.59 15.1-30.09 32.6-34.09 44.1-7.4 21.3-1.6 30.9 9.3 33.1 4.9 1 11.9-1.3 17.1-3.5a79.46 79.46 0 0 0 21.59-11.1c12.5-9.2 24.59-22.1 23.79-39.6-.3-7.9-2.5-15.8-5.4-23.4 15.7-6.6 36.09-10.2 62.09-7.2 55.68 6.5 66.58 41.3 64.48 55.8s-13.8 22.6-17.7 25-5.1 3.3-4.8 5.1c.5 2.6 2.3 2.5 5.6 1.9 4.6-.8 29.19-11.8 30.29-38.7 1.6-34-31.09-71.4-89-71.1zm-429.18 144.7c-18.39 20.1-44.19 27.7-55.28 21.3C54.61 451 59.31 421.42 82 400c13.8-13 31.59-25 43.39-32.4 2.7-1.6 6.6-4 11.4-6.9.8-.5 1.2-.7 1.2-.7.9-.6 1.9-1.1 2.9-1.7 8.29 30.4.3 57.2-19.1 78.3zm134.36-91.4c-6.4 15.7-19.89 55.7-28.09 53.6-7-1.8-11.3-32.3-1.4-62.3 5-15.1 15.6-33.1 21.9-40.1 10.09-11.3 21.19-14.9 23.79-10.4 3.5 5.9-12.2 49.4-16.2 59.2zm111 53c-2.7 1.4-5.2 2.3-6.4 1.6-.9-.5 1.1-2.4 1.1-2.4s13.9-14.9 19.4-21.7c3.2-4 6.9-8.7 10.89-13.9 0 .5.1 1 .1 1.6-.13 17.9-17.32 30-25.12 34.8zm85.58-19.5c-2-1.4-1.7-6.1 5-20.7 2.6-5.7 8.59-15.3 19-24.5a36.18 36.18 0 0 1 1.9 10.8c-.1 22.5-16.2 30.9-25.89 34.4z"},child:[]}]})(n)}function lk(n){return $t({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 360V24c0-13.3-10.7-24-24-24H96C43 0 0 43 0 96v320c0 53 43 96 96 96h328c13.3 0 24-10.7 24-24v-16c0-7.5-3.5-14.3-8.9-18.7-4.2-15.4-4.2-59.3 0-74.7 5.4-4.3 8.9-11.1 8.9-18.6zM128 134c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm0 64c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm253.4 250H96c-17.7 0-32-14.3-32-32 0-17.6 14.4-32 32-32h285.4c-1.9 17.1-1.9 46.9 0 64z"},child:[]}]})(n)}function ck(n){return $t({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 480H48c-26.51 0-48-21.49-48-48V80c0-26.51 21.49-48 48-48h352c26.51 0 48 21.49 48 48v352c0 26.51-21.49 48-48 48zm-204.686-98.059l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.248-16.379-6.249-22.628 0L184 302.745l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.25 16.379 6.25 22.628.001z"},child:[]}]})(n)}function uk(n){return $t({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 73.143v45.714C448 159.143 347.667 192 224 192S0 159.143 0 118.857V73.143C0 32.857 100.333 0 224 0s224 32.857 224 73.143zM448 176v102.857C448 319.143 347.667 352 224 352S0 319.143 0 278.857V176c48.125 33.143 136.208 48.572 224 48.572S399.874 209.143 448 176zm0 160v102.857C448 479.143 347.667 512 224 512S0 479.143 0 438.857V336c48.125 33.143 136.208 48.572 224 48.572S399.874 369.143 448 336z"},child:[]}]})(n)}function hk(n){return $t({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M96.06 454.35c.01 6.29 1.87 12.45 5.36 17.69l17.09 25.69a31.99 31.99 0 0 0 26.64 14.28h61.71a31.99 31.99 0 0 0 26.64-14.28l17.09-25.69a31.989 31.989 0 0 0 5.36-17.69l.04-38.35H96.01l.05 38.35zM0 176c0 44.37 16.45 84.85 43.56 115.78 16.52 18.85 42.36 58.23 52.21 91.45.04.26.07.52.11.78h160.24c.04-.26.07-.51.11-.78 9.85-33.22 35.69-72.6 52.21-91.45C335.55 260.85 352 220.37 352 176 352 78.61 272.91-.3 175.45 0 73.44.31 0 82.97 0 176zm176-80c-44.11 0-80 35.89-80 80 0 8.84-7.16 16-16 16s-16-7.16-16-16c0-61.76 50.24-112 112-112 8.84 0 16 7.16 16 16s-7.16 16-16 16z"},child:[]}]})(n)}function Mw(n){return $t({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M384 320H256c-17.67 0-32 14.33-32 32v128c0 17.67 14.33 32 32 32h128c17.67 0 32-14.33 32-32V352c0-17.67-14.33-32-32-32zM192 32c0-17.67-14.33-32-32-32H32C14.33 0 0 14.33 0 32v128c0 17.67 14.33 32 32 32h95.72l73.16 128.04C211.98 300.98 232.4 288 256 288h.28L192 175.51V128h224V64H192V32zM608 0H480c-17.67 0-32 14.33-32 32v128c0 17.67 14.33 32 32 32h128c17.67 0 32-14.33 32-32V32c0-17.67-14.33-32-32-32z"},child:[]}]})(n)}function fk(n){return $t({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M1.072.142A1.072 1.072 0 0 0 0 1.214v21.572a1.072 1.072 0 0 0 1.072 1.072h21.856A1.072 1.072 0 0 0 24 22.786V1.214A1.072 1.072 0 0 0 22.928.142zm9.736 1.818a.904.904 0 0 1 .828.539.784.784 0 0 1 1.274.493.639.639 0 0 1 .29-.06c.33.008.59.262.625.575a1.322 1.322 0 0 1 .624-.515 1.325 1.325 0 0 1 1.718.71 1.098 1.098 0 0 1 .306-.236 1.102 1.102 0 0 1 1.483.479 1.094 1.094 0 0 1 .12.47.994.994 0 0 1 1.322 1.214.904.904 0 0 1 .874 1.438.784.784 0 0 1 .176 1.356.639.639 0 0 1 .19.224.642.642 0 0 1-.011.613 1.326 1.326 0 0 1 .482.235 1.334 1.334 0 0 1 .258 1.842 1.098 1.098 0 0 1 .35.15 1.102 1.102 0 0 1 .337 1.516 1.094 1.094 0 0 1-.344.344.994.994 0 0 1 .228 1.318 1.006 1.006 0 0 1-.605.434.904.904 0 0 1-.803 1.482.814.814 0 0 0-.008-.04.784.784 0 0 1-1.075.873.639.639 0 0 1-.098.28.625.625 0 0 1-.43.288 1.33 1.33 0 0 1 .023.456 1.334 1.334 0 0 1-1.44 1.173 1.098 1.098 0 0 1 .054.377 1.102 1.102 0 0 1-1.128 1.072 1.098 1.098 0 0 1-.47-.12.994.994 0 0 1-1.696.583.904.904 0 0 1-1.685.075.784.784 0 0 1-1.274-.493.639.639 0 0 1-.29.064.64.64 0 0 1-.621-.58l.004-.007a1.326 1.326 0 0 1-.632.523 1.334 1.334 0 0 1-1.718-.706 1.098 1.098 0 0 1-.306.232 1.102 1.102 0 0 1-1.48-.478 1.094 1.094 0 0 1-.123-.471.994.994 0 0 1-1.318-1.21.904.904 0 0 1-.874-1.442.784.784 0 0 1-.176-1.356.639.639 0 0 1-.194-.224.642.642 0 0 1 .011-.61l.019.004a1.326 1.326 0 0 1-.497-.239 1.334 1.334 0 0 1-.262-1.845 1.098 1.098 0 0 1-.35-.146 1.102 1.102 0 0 1-.337-1.52 1.094 1.094 0 0 1 .347-.34A.994.994 0 0 1 2.88 9a.904.904 0 0 1 .803-1.48.784.784 0 0 1 1.083-.836.639.639 0 0 1 .098-.28.649.649 0 0 1 .433-.288 1.33 1.33 0 0 1-.026-.452A1.334 1.334 0 0 1 6.716 4.49a1.098 1.098 0 0 1-.06-.377 1.101 1.101 0 0 1 1.13-1.073 1.094 1.094 0 0 1 .47.115.994.994 0 0 1 1.696-.579.904.904 0 0 1 .857-.617zM3.683 7.519a.784.784 0 0 0 .008.041l-.004-.04a.904.904 0 0 0-.004-.001zM17.502 19.61a1.098 1.098 0 0 0-.002-.004h-.037a1.334 1.334 0 0 0 .039.004zM13.825 3.507a1.322 1.322 0 0 0-.008.012l.008-.011zm-2.369-.014l-.003.003a.9.9 0 0 1-.665.27.896.896 0 0 1-.583-.232.994.994 0 0 1-.986.732.99.99 0 0 1-.362-.075 1.098 1.098 0 0 1-1.061 1.046 1.326 1.326 0 0 1 .123.736 1.334 1.334 0 0 1-.725 1.035 1.1 1.1 0 0 1 .307.795 1.106 1.106 0 0 1-.232.65c.321.18.53.523.523.915a1.016 1.016 0 0 1-.07.337.915.915 0 0 1 .82.937.923.923 0 0 1-.01.138.74.74 0 0 1 .157-.01c.343.007.627.25.702.57a.661.661 0 0 1 .38-.111c.31.007.561.224.632.511a.418.418 0 0 1 .381-.015 1.352 1.352 0 0 1 .303-.63.418.418 0 0 1-.12-.143.422.422 0 0 1 .004-.392.665.665 0 0 1-.325-1.117.736.736 0 0 1-.359-.336.74.74 0 0 1 .385-1.023.747.747 0 0 0-.06.026.915.915 0 0 1-.201-.262.915.915 0 0 1 .623-1.315V6.53a1.02 1.02 0 0 1 .437-1.371 1.012 1.012 0 0 1 .553-.112 1.11 1.11 0 0 1 .598-1.054 1.12 1.12 0 0 1 .06-.026.642.642 0 0 1-.109-.21.784.784 0 0 1-.455.132.784.784 0 0 1-.662-.396zm4.573 1.512a1.326 1.326 0 0 1-.587.46 1.334 1.334 0 0 1-1.255-.142v-.011a1.11 1.11 0 0 1-.553.66 1.106 1.106 0 0 1-.683.113 1.02 1.02 0 0 1-.553.889 1.016 1.016 0 0 1-.329.105.918.918 0 0 1-.43 1.169.923.923 0 0 1-.127.056.74.74 0 0 1 .086.13.738.738 0 0 1-.168.89.661.661 0 0 1 .28.283.655.655 0 0 1-.149.796.418.418 0 0 1 .153.164c.019.034.03.068.038.101a1.356 1.356 0 0 1 .672-.015.422.422 0 0 1 .056-.142.422.422 0 0 1 .34-.194.665.665 0 0 1 .796-.848.736.736 0 0 1 .112-.478.733.733 0 0 1 1.016-.224.915.915 0 0 1 .127-.306.915.915 0 0 1 1.27-.28.915.915 0 0 1 .179.153 1.02 1.02 0 0 1 1.408-.314 1.012 1.012 0 0 1 .374.422c.355-.24.833-.261 1.214-.015a1.11 1.11 0 0 1 .209.172.642.642 0 0 1 .082-.108.784.784 0 0 1-.332-.337.784.784 0 0 1 .03-.77.9.9 0 0 1-.553-.455.896.896 0 0 1-.075-.624.994.994 0 0 1-1.117-.511.994.994 0 0 1-.104-.359 1.098 1.098 0 0 1-1.427-.43zM5.249 7.37a.784.784 0 0 1-.124.46.784.784 0 0 1-.68.362c.06.235.026.49-.112.71a.896.896 0 0 1-.5.377c.31.325.373.829.12 1.225a.99.99 0 0 1-.255.269 1.098 1.098 0 0 1 .351 1.45 1.326 1.326 0 0 1 .691.276 1.334 1.334 0 0 1 .512 1.154c.28-.064.579-.019.84.15a1.106 1.106 0 0 1 .438.53 1.02 1.02 0 0 1 1.05.03 1.016 1.016 0 0 1 .257.231.914.914 0 0 1 1.225-.224.919.919 0 0 1 .112.086.74.74 0 0 1 .071-.142.74.74 0 0 1 .852-.306.661.661 0 0 1 .1-.381.664.664 0 0 1 .763-.273.418.418 0 0 1 .246-.373 1.36 1.36 0 0 1-.358-.523v-.008a.418.418 0 0 1-.25.075.422.422 0 0 1-.344-.19.665.665 0 0 1-1.132-.243.736.736 0 0 1-.47.149.733.733 0 0 1-.718-.755.915.915 0 0 1-.329.049.915.915 0 0 1-.855-1.177h-.004a1.016 1.016 0 0 1-.993-1.042 1.012 1.012 0 0 1 .168-.534 1.11 1.11 0 0 1-.64-1.035 1.11 1.11 0 0 1 .068-.358.65.65 0 0 1-.1-.019zm11.127 2.133a.913.913 0 0 1-1.225.224.926.926 0 0 1-.112-.082.74.74 0 0 1-.067.142.74.74 0 0 1-.852.302.661.661 0 0 1-.105.385.662.662 0 0 1-.762.277.418.418 0 0 1-.063.212.426.426 0 0 1-.075.086 1.356 1.356 0 0 1 .314.564.418.418 0 0 1 .187-.04.422.422 0 0 1 .343.194.665.665 0 0 1 1.136.242.736.736 0 0 1 .467-.153c.41.008.728.348.72.755a.74.74 0 0 1 0 .008v-.005a.915.915 0 0 1 .326-.052.915.915 0 0 1 .896.941.919.919 0 0 1-.037.236c.564.015 1.008.482.993 1.046a1.012 1.012 0 0 1-.168.534 1.11 1.11 0 0 1 .647 1.035 1.11 1.11 0 0 1-.075.362l.004-.007.1.018a.784.784 0 0 1 .124-.46.784.784 0 0 1 .68-.362.9.9 0 0 1 .112-.71.896.896 0 0 1 .504-.373.994.994 0 0 1-.123-1.225.99.99 0 0 1 .257-.269 1.098 1.098 0 0 1-.35-1.453 1.326 1.326 0 0 1-.696-.273h-.003a1.334 1.334 0 0 1-.512-1.158 1.082 1.082 0 0 1-.837-.145 1.106 1.106 0 0 1-.44-.535 1.02 1.02 0 0 1-1.05-.026 1.016 1.016 0 0 1-.258-.235zm-.094 3.116l-.007.066a.74.74 0 0 0 .007-.066zm-2.864-.259a1.36 1.36 0 0 1-.363.598.418.418 0 0 1 .194.187.422.422 0 0 1-.007.396.665.665 0 0 1 .329 1.113.736.736 0 0 1 .358.336.739.739 0 0 1-.32.994.915.915 0 0 1 .197.261.91.91 0 0 1-.396 1.233.919.919 0 0 1-.224.082v.004a1.02 1.02 0 0 1-.44 1.374 1.012 1.012 0 0 1-.55.109 1.11 1.11 0 0 1-.661 1.083.642.642 0 0 1 .112.21.026.026 0 0 1-.004 0v.003a.784.784 0 0 1 .456-.134.784.784 0 0 1 .661.392.9.9 0 0 1 .665-.27.896.896 0 0 1 .587.236.994.994 0 0 1 .982-.736.99.99 0 0 1 .362.079v.022a1.1 1.1 0 0 1 1.061-1.072 1.326 1.326 0 0 1-.123-.736c.056-.46.34-.837.725-1.035l.003.004a1.102 1.102 0 0 1-.31-.795 1.106 1.106 0 0 1 .232-.654 1.02 1.02 0 0 1-.452-1.251.915.915 0 0 1-.822-.934.923.923 0 0 1 .011-.142.74.74 0 0 1-.157.015.74.74 0 0 1-.698-.572.661.661 0 0 1-.385.112.667.667 0 0 1-.627-.512.418.418 0 0 1-.217.053.418.418 0 0 1-.18-.045zm-.964.93a1.36 1.36 0 0 1-.336.042c-.112 0-.22-.012-.322-.038a.418.418 0 0 1-.06.295.422.422 0 0 1-.343.195.665.665 0 0 1-.792.844.736.736 0 0 1-.112.478.74.74 0 0 1-1.02.224.915.915 0 0 1-.127.306.915.915 0 0 1-1.266.28.919.919 0 0 1-.183-.153v.004a1.02 1.02 0 0 1-1.408.31 1.012 1.012 0 0 1-.374-.418c-.355.239-.83.261-1.214.015a1.113 1.113 0 0 1-.21-.172.65.65 0 0 1-.081.105.784.784 0 0 1 .336.336.784.784 0 0 1-.034.77.89.89 0 0 1 .553.455.896.896 0 0 1 .075.624.994.994 0 0 1 1.12.515.99.99 0 0 1 .101.355 1.098 1.098 0 0 1 1.431.43 1.326 1.326 0 0 1 .587-.46c.43-.172.896-.104 1.255.142a1.106 1.106 0 0 1 .549-.65 1.106 1.106 0 0 1 .683-.108 1.02 1.02 0 0 1 .553-.893 1.02 1.02 0 0 1 .333-.104.916.916 0 0 1 .425-1.17.919.919 0 0 1 .131-.052.736.736 0 0 1-.09-.134.738.738 0 0 1 .169-.886.661.661 0 0 1-.28-.284.67.67 0 0 1 .149-.799.418.418 0 0 1-.15-.164.418.418 0 0 1-.048-.24z"},child:[]}]})(n)}function dk(n){return $t({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M23.546 10.93L13.067.452c-.604-.603-1.582-.603-2.188 0L8.708 2.627l2.76 2.76c.645-.215 1.379-.07 1.889.441.516.515.658 1.258.438 1.9l2.658 2.66c.645-.223 1.387-.078 1.9.435.721.72.721 1.884 0 2.604-.719.719-1.881.719-2.6 0-.539-.541-.674-1.337-.404-1.996L12.86 8.955v6.525c.176.086.342.203.488.348.713.721.713 1.883 0 2.6-.719.721-1.889.721-2.609 0-.719-.719-.719-1.879 0-2.598.182-.18.387-.316.605-.406V8.835c-.217-.091-.424-.222-.6-.401-.545-.545-.676-1.342-.396-2.009L7.636 3.7.45 10.881c-.6.605-.6 1.584 0 2.189l10.48 10.477c.604.604 1.582.604 2.186 0l10.43-10.43c.605-.603.605-1.582 0-2.187"},child:[]}]})(n)}function pk(n){return $t({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M0 0h24v24H0V0zm22.034 18.276c-.175-1.095-.888-2.015-3.003-2.873-.736-.345-1.554-.585-1.797-1.14-.091-.33-.105-.51-.046-.705.15-.646.915-.84 1.515-.66.39.12.75.42.976.9 1.034-.676 1.034-.676 1.755-1.125-.27-.42-.404-.601-.586-.78-.63-.705-1.469-1.065-2.834-1.034l-.705.089c-.676.165-1.32.525-1.71 1.005-1.14 1.291-.811 3.541.569 4.471 1.365 1.02 3.361 1.244 3.616 2.205.24 1.17-.87 1.545-1.966 1.41-.811-.18-1.26-.586-1.755-1.336l-1.83 1.051c.21.48.45.689.81 1.109 1.74 1.756 6.09 1.666 6.871-1.004.029-.09.24-.705.074-1.65l.046.067zm-8.983-7.245h-2.248c0 1.938-.009 3.864-.009 5.805 0 1.232.063 2.363-.138 2.711-.33.689-1.18.601-1.566.48-.396-.196-.597-.466-.83-.855-.063-.105-.11-.196-.127-.196l-1.825 1.125c.305.63.75 1.172 1.324 1.517.855.51 2.004.675 3.207.405.783-.226 1.458-.691 1.811-1.411.51-.93.402-2.07.397-3.346.012-2.054 0-4.109 0-6.179l.004-.056z"},child:[]}]})(n)}function mk(n){return $t({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M1.525 5.87c-2.126 3.054-1.862 7.026-.237 10.269.037.079.078.154.118.229.023.052.049.1.077.15.013.027.031.056.047.082.026.052.054.102.081.152l.157.266c.03.049.057.097.09.146.056.094.12.187.178.281.026.04.05.078.079.117a6.368 6.368 0 00.31.445c.078.107.156.211.24.315.027.038.058.076.086.115l.22.269c.028.03.055.067.084.099.098.118.202.233.306.35l.005.006a3.134 3.134 0 00.425.44c.08.083.16.165.245.245l.101.097c.111.105.223.209.34.309.002 0 .003.002.005.003l.057.05c.102.089.205.178.31.26l.125.105c.085.068.174.133.26.2l.137.105c.093.07.192.139.287.207.035.025.07.05.106.073l.03.023.28.185.12.08c.148.094.294.184.44.272.041.02.084.044.123.068.108.062.22.125.329.183.06.034.122.063.184.094.075.042.153.083.234.125a.324.324 0 01.056.023c.033.015.064.031.096.047.12.06.245.118.375.175.024.01.05.02.076.034.144.063.289.123.438.182.034.01.07.027.105.04.135.051.274.103.411.152l.05.018c.154.052.305.102.46.15.036.01.073.023.111.033.16.048.314.105.474.137 10.273 1.872 13.258-6.177 13.258-6.177-2.508 3.266-6.958 4.127-11.174 3.169-.156-.036-.312-.086-.47-.132a13.539 13.539 0 01-.567-.182l-.062-.024c-.136-.046-.267-.097-.4-.148a1.615 1.615 0 00-.11-.04c-.148-.06-.29-.121-.433-.184-.031-.01-.057-.024-.088-.036a23.44 23.44 0 01-.362-.17 1.485 1.485 0 01-.106-.052c-.094-.044-.188-.095-.28-.143a3.947 3.947 0 01-.187-.096c-.114-.06-.227-.125-.34-.187-.034-.024-.073-.044-.112-.066a15.922 15.922 0 01-.439-.27 2.107 2.107 0 01-.118-.078 6.01 6.01 0 01-.312-.207c-.035-.023-.067-.048-.103-.073a9.553 9.553 0 01-.295-.212c-.042-.034-.087-.066-.132-.1-.088-.07-.177-.135-.265-.208l-.118-.095a10.593 10.593 0 01-.335-.28.258.258 0 00-.037-.031l-.347-.316-.1-.094c-.082-.084-.166-.164-.25-.246l-.098-.1a9.081 9.081 0 01-.309-.323l-.015-.016c-.106-.116-.21-.235-.313-.355-.027-.03-.053-.064-.08-.097l-.227-.277a21.275 21.275 0 01-.34-.449C2.152 11.79 1.306 7.384 3.177 3.771m4.943-.473c-1.54 2.211-1.454 5.169-.254 7.508a9.111 9.111 0 00.678 1.133c.23.33.484.721.793.988.107.122.223.24.344.36l.09.09c.114.11.232.217.35.325l.016.013a9.867 9.867 0 00.414.342c.034.023.063.05.096.073.14.108.282.212.428.316l.015.009c.062.045.128.086.198.13.028.018.06.042.09.06.106.068.21.132.318.197.017.007.032.016.048.023.09.055.188.108.282.157.033.02.065.035.1.054.066.033.132.068.197.102l.032.014c.135.067.273.129.408.19.034.014.063.025.092.039.111.048.224.094.336.137.05.017.097.037.144.052.102.038.21.073.31.108l.14.045c.147.045.295.104.449.13C22.164 17.206 24 11.098 24 11.098c-1.653 2.38-4.852 3.513-8.261 2.628a8.04 8.04 0 01-.449-.13c-.048-.014-.09-.029-.136-.043-.104-.036-.211-.07-.312-.109l-.144-.054c-.113-.045-.227-.087-.336-.135-.034-.015-.065-.025-.091-.04-.14-.063-.281-.125-.418-.192l-.206-.107-.119-.06a5.673 5.673 0 01-.265-.15.62.62 0 01-.062-.035c-.106-.066-.217-.13-.318-.198-.034-.019-.065-.042-.097-.062l-.208-.136c-.144-.1-.285-.208-.428-.313-.032-.029-.063-.053-.094-.079-1.499-1.178-2.681-2.79-3.242-4.613-.59-1.897-.46-4.023.56-5.75m4.292-.147c-.909 1.334-.996 2.99-.37 4.46.665 1.563 2.024 2.79 3.608 3.37.065.025.128.046.196.07l.088.027c.092.03.185.063.28.084 4.381.845 5.567-2.25 5.886-2.704-1.043 1.498-2.792 1.857-4.938 1.335a4.85 4.85 0 01-.516-.16 6.352 6.352 0 01-.618-.254 6.53 6.53 0 01-1.082-.66c-1.922-1.457-3.113-4.236-1.859-6.5"},child:[]}]})(n)}function gk(n){return $t({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M23.642 5.43a.364.364 0 01.014.1v5.149c0 .135-.073.26-.189.326l-4.323 2.49v4.934a.378.378 0 01-.188.326L9.93 23.949a.316.316 0 01-.066.027c-.008.002-.016.008-.024.01a.348.348 0 01-.192 0c-.011-.002-.02-.008-.03-.012-.02-.008-.042-.014-.062-.025L.533 18.755a.376.376 0 01-.189-.326V2.974c0-.033.005-.066.014-.098.003-.012.01-.02.014-.032a.369.369 0 01.023-.058c.004-.013.015-.022.023-.033l.033-.045c.012-.01.025-.018.037-.027.014-.012.027-.024.041-.034H.53L5.043.05a.375.375 0 01.375 0L9.93 2.647h.002c.015.01.027.021.04.033l.038.027c.013.014.02.03.033.045.008.011.02.021.025.033.01.02.017.038.024.058.003.011.01.021.013.032.01.031.014.064.014.098v9.652l3.76-2.164V5.527c0-.033.004-.066.013-.098.003-.01.01-.02.013-.032a.487.487 0 01.024-.059c.007-.012.018-.02.025-.033.012-.015.021-.03.033-.043.012-.012.025-.02.037-.028.014-.01.026-.023.041-.032h.001l4.513-2.598a.375.375 0 01.375 0l4.513 2.598c.016.01.027.021.042.031.012.01.025.018.036.028.013.014.022.03.034.044.008.012.019.021.024.033.011.02.018.04.024.06.006.01.012.021.015.032zm-.74 5.032V6.179l-1.578.908-2.182 1.256v4.283zm-4.51 7.75v-4.287l-2.147 1.225-6.126 3.498v4.325zM1.093 3.624v14.588l8.273 4.761v-4.325l-4.322-2.445-.002-.003H5.04c-.014-.01-.025-.021-.04-.031-.011-.01-.024-.018-.035-.027l-.001-.002c-.013-.012-.021-.025-.031-.04-.01-.011-.021-.022-.028-.036h-.002c-.008-.014-.013-.031-.02-.047-.006-.016-.014-.027-.018-.043a.49.49 0 01-.008-.057c-.002-.014-.006-.027-.006-.041V5.789l-2.18-1.257zM5.23.81L1.47 2.974l3.76 2.164 3.758-2.164zm1.956 13.505l2.182-1.256V3.624l-1.58.91-2.182 1.255v9.435zm11.581-10.95l-3.76 2.163 3.76 2.163 3.759-2.164zm-.376 4.978L16.21 7.087 14.63 6.18v4.283l2.182 1.256 1.58.908zm-8.65 9.654l5.514-3.148 2.756-1.572-3.757-2.163-4.323 2.489-3.941 2.27z"},child:[]}]})(n)}function vk(n){return $t({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M16.405 5.501c-.115 0-.193.014-.274.033v.013h.014c.054.104.146.18.214.273.054.107.1.214.154.32l.014-.015c.094-.066.14-.172.14-.333-.04-.047-.046-.094-.08-.14-.04-.067-.126-.1-.18-.153zM5.77 18.695h-.927a50.854 50.854 0 00-.27-4.41h-.008l-1.41 4.41H2.45l-1.4-4.41h-.01a72.892 72.892 0 00-.195 4.41H0c.055-1.966.192-3.81.41-5.53h1.15l1.335 4.064h.008l1.347-4.064h1.095c.242 2.015.384 3.86.428 5.53zm4.017-4.08c-.378 2.045-.876 3.533-1.492 4.46-.482.716-1.01 1.073-1.583 1.073-.153 0-.34-.046-.566-.138v-.494c.11.017.24.026.386.026.268 0 .483-.075.647-.222.197-.18.295-.382.295-.605 0-.155-.077-.47-.23-.944L6.23 14.615h.91l.727 2.36c.164.536.233.91.205 1.123.4-1.064.678-2.227.835-3.483zm12.325 4.08h-2.63v-5.53h.885v4.85h1.745zm-3.32.135l-1.016-.5c.09-.076.177-.158.255-.25.433-.506.648-1.258.648-2.253 0-1.83-.718-2.746-2.155-2.746-.704 0-1.254.232-1.65.697-.43.508-.646 1.256-.646 2.245 0 .972.19 1.686.574 2.14.35.41.877.615 1.583.615.264 0 .506-.033.725-.098l1.325.772.36-.622zM15.5 17.588c-.225-.36-.337-.94-.337-1.736 0-1.393.424-2.09 1.27-2.09.443 0 .77.167.977.5.224.362.336.936.336 1.723 0 1.404-.424 2.108-1.27 2.108-.445 0-.77-.167-.978-.5zm-1.658-.425c0 .47-.172.856-.516 1.156-.344.3-.803.45-1.384.45-.543 0-1.064-.172-1.573-.515l.237-.476c.438.22.833.328 1.19.328.332 0 .593-.073.783-.22a.754.754 0 00.3-.615c0-.33-.23-.61-.648-.845-.388-.213-1.163-.657-1.163-.657-.422-.307-.632-.636-.632-1.177 0-.45.157-.81.47-1.085.315-.278.72-.415 1.22-.415.512 0 .98.136 1.4.41l-.213.476a2.726 2.726 0 00-1.064-.23c-.283 0-.502.068-.654.206a.685.685 0 00-.248.524c0 .328.234.61.666.85.393.215 1.187.67 1.187.67.433.305.648.63.648 1.168zm9.382-5.852c-.535-.014-.95.04-1.297.188-.1.04-.26.04-.274.167.055.053.063.14.11.214.08.134.218.313.346.407.14.11.28.216.427.31.26.16.555.255.81.416.145.094.293.213.44.313.073.05.12.14.214.172v-.02c-.046-.06-.06-.147-.105-.214-.067-.067-.134-.127-.2-.193a3.223 3.223 0 00-.695-.675c-.214-.146-.682-.35-.77-.595l-.013-.014c.146-.013.32-.066.46-.106.227-.06.435-.047.67-.106.106-.027.213-.06.32-.094v-.06c-.12-.12-.21-.283-.334-.395a8.867 8.867 0 00-1.104-.823c-.21-.134-.476-.22-.697-.334-.08-.04-.214-.06-.26-.127-.12-.146-.19-.34-.275-.514a17.69 17.69 0 01-.547-1.163c-.12-.262-.193-.523-.34-.763-.69-1.137-1.437-1.826-2.586-2.5-.247-.14-.543-.2-.856-.274-.167-.008-.334-.02-.5-.027-.11-.047-.216-.174-.31-.235-.38-.24-1.364-.76-1.644-.072-.18.434.267.862.422 1.082.115.153.26.328.34.5.047.116.06.235.107.356.106.294.207.622.347.897.073.14.153.287.247.413.054.073.146.107.167.227-.094.136-.1.334-.154.5-.24.757-.146 1.693.194 2.25.107.166.362.534.703.393.3-.12.234-.5.32-.835.02-.08.007-.133.048-.187v.015c.094.188.188.367.274.555.206.328.566.668.867.895.16.12.287.328.487.402v-.02h-.015c-.043-.058-.1-.086-.154-.133a3.445 3.445 0 01-.35-.4 8.76 8.76 0 01-.747-1.218c-.11-.21-.202-.436-.29-.643-.04-.08-.04-.2-.107-.24-.1.146-.247.273-.32.453-.127.288-.14.642-.188 1.01-.027.007-.014 0-.027.014-.214-.052-.287-.274-.367-.46-.2-.475-.233-1.238-.06-1.785.047-.14.247-.582.167-.716-.042-.127-.174-.2-.247-.303a2.478 2.478 0 01-.24-.427c-.16-.374-.24-.788-.414-1.162-.08-.173-.22-.354-.334-.513-.127-.18-.267-.307-.368-.52-.033-.073-.08-.194-.027-.274.014-.054.042-.075.094-.09.088-.072.335.022.422.062.247.1.455.194.662.334.094.066.195.193.315.226h.14c.214.047.455.014.655.073.355.114.675.28.962.46a5.953 5.953 0 012.085 2.286c.08.154.115.295.188.455.14.33.313.663.455.982.14.315.275.636.476.897.1.14.502.213.682.286.133.06.34.115.46.188.23.14.454.3.67.454.11.076.443.243.463.378z"},child:[]}]})(n)}function yk(n){return $t({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M23.5594 14.7228a.5269.5269 0 0 0-.0563-.1191c-.139-.2632-.4768-.3418-1.0074-.2321-1.6533.3411-2.2935.1312-2.5256-.0191 1.342-2.0482 2.445-4.522 3.0411-6.8297.2714-1.0507.7982-3.5237.1222-4.7316a1.5641 1.5641 0 0 0-.1509-.235C21.6931.9086 19.8007.0248 17.5099.0005c-1.4947-.0158-2.7705.3461-3.1161.4794a9.449 9.449 0 0 0-.5159-.0816 8.044 8.044 0 0 0-1.3114-.1278c-1.1822-.0184-2.2038.2642-3.0498.8406-.8573-.3211-4.7888-1.645-7.2219.0788C.9359 2.1526.3086 3.8733.4302 6.3043c.0409.818.5069 3.334 1.2423 5.7436.4598 1.5065.9387 2.7019 1.4334 3.582.553.9942 1.1259 1.5933 1.7143 1.7895.4474.1491 1.1327.1441 1.8581-.7279.8012-.9635 1.5903-1.8258 1.9446-2.2069.4351.2355.9064.3625 1.39.3772a.0569.0569 0 0 0 .0004.0041 11.0312 11.0312 0 0 0-.2472.3054c-.3389.4302-.4094.5197-1.5002.7443-.3102.064-1.1344.2339-1.1464.8115-.0025.1224.0329.2309.0919.3268.2269.4231.9216.6097 1.015.6331 1.3345.3335 2.5044.092 3.3714-.6787-.017 2.231.0775 4.4174.3454 5.0874.2212.5529.7618 1.9045 2.4692 1.9043.2505 0 .5263-.0291.8296-.0941 1.7819-.3821 2.5557-1.1696 2.855-2.9059.1503-.8707.4016-2.8753.5388-4.1012.0169-.0703.0357-.1207.057-.1362.0007-.0005.0697-.0471.4272.0307a.3673.3673 0 0 0 .0443.0068l.2539.0223.0149.001c.8468.0384 1.9114-.1426 2.5312-.4308.6438-.2988 1.8057-1.0323 1.5951-1.6698zM2.371 11.8765c-.7435-2.4358-1.1779-4.8851-1.2123-5.5719-.1086-2.1714.4171-3.6829 1.5623-4.4927 1.8367-1.2986 4.8398-.5408 6.108-.13-.0032.0032-.0066.0061-.0098.0094-2.0238 2.044-1.9758 5.536-1.9708 5.7495-.0002.0823.0066.1989.0162.3593.0348.5873.0996 1.6804-.0735 2.9184-.1609 1.1504.1937 2.2764.9728 3.0892.0806.0841.1648.1631.2518.2374-.3468.3714-1.1004 1.1926-1.9025 2.1576-.5677.6825-.9597.5517-1.0886.5087-.3919-.1307-.813-.5871-1.2381-1.3223-.4796-.839-.9635-2.0317-1.4155-3.5126zm6.0072 5.0871c-.1711-.0428-.3271-.1132-.4322-.1772.0889-.0394.2374-.0902.4833-.1409 1.2833-.2641 1.4815-.4506 1.9143-1.0002.0992-.126.2116-.2687.3673-.4426a.3549.3549 0 0 0 .0737-.1298c.1708-.1513.2724-.1099.4369-.0417.156.0646.3078.26.3695.4752.0291.1016.0619.2945-.0452.4444-.9043 1.2658-2.2216 1.2494-3.1676 1.0128zm2.094-3.988-.0525.141c-.133.3566-.2567.6881-.3334 1.003-.6674-.0021-1.3168-.2872-1.8105-.8024-.6279-.6551-.9131-1.5664-.7825-2.5004.1828-1.3079.1153-2.4468.079-3.0586-.005-.0857-.0095-.1607-.0122-.2199.2957-.2621 1.6659-.9962 2.6429-.7724.4459.1022.7176.4057.8305.928.5846 2.7038.0774 3.8307-.3302 4.7363-.084.1866-.1633.3629-.2311.5454zm7.3637 4.5725c-.0169.1768-.0358.376-.0618.5959l-.146.4383a.3547.3547 0 0 0-.0182.1077c-.0059.4747-.054.6489-.115.8693-.0634.2292-.1353.4891-.1794 1.0575-.11 1.4143-.8782 2.2267-2.4172 2.5565-1.5155.3251-1.7843-.4968-2.0212-1.2217a6.5824 6.5824 0 0 0-.0769-.2266c-.2154-.5858-.1911-1.4119-.1574-2.5551.0165-.5612-.0249-1.9013-.3302-2.6462.0044-.2932.0106-.5909.019-.8918a.3529.3529 0 0 0-.0153-.1126 1.4927 1.4927 0 0 0-.0439-.208c-.1226-.4283-.4213-.7866-.7797-.9351-.1424-.059-.4038-.1672-.7178-.0869.067-.276.1831-.5875.309-.9249l.0529-.142c.0595-.16.134-.3257.213-.5012.4265-.9476 1.0106-2.2453.3766-5.1772-.2374-1.0981-1.0304-1.6343-2.2324-1.5098-.7207.0746-1.3799.3654-1.7088.5321a5.6716 5.6716 0 0 0-.1958.1041c.0918-1.1064.4386-3.1741 1.7357-4.4823a4.0306 4.0306 0 0 1 .3033-.276.3532.3532 0 0 0 .1447-.0644c.7524-.5706 1.6945-.8506 2.802-.8325.4091.0067.8017.0339 1.1742.081 1.939.3544 3.2439 1.4468 4.0359 2.3827.8143.9623 1.2552 1.9315 1.4312 2.4543-1.3232-.1346-2.2234.1268-2.6797.779-.9926 1.4189.543 4.1729 1.2811 5.4964.1353.2426.2522.4522.2889.5413.2403.5825.5515.9713.7787 1.2552.0696.087.1372.1714.1885.245-.4008.1155-1.1208.3825-1.0552 1.717-.0123.1563-.0423.4469-.0834.8148-.0461.2077-.0702.4603-.0994.7662zm.8905-1.6211c-.0405-.8316.2691-.9185.5967-1.0105a2.8566 2.8566 0 0 0 .135-.0406 1.202 1.202 0 0 0 .1342.103c.5703.3765 1.5823.4213 3.0068.1344-.2016.1769-.5189.3994-.9533.6011-.4098.1903-1.0957.333-1.7473.3636-.7197.0336-1.0859-.0807-1.1721-.151zm.5695-9.2712c-.0059.3508-.0542.6692-.1054 1.0017-.055.3576-.112.7274-.1264 1.1762-.0142.4368.0404.8909.0932 1.3301.1066.887.216 1.8003-.2075 2.7014a3.5272 3.5272 0 0 1-.1876-.3856c-.0527-.1276-.1669-.3326-.3251-.6162-.6156-1.1041-2.0574-3.6896-1.3193-4.7446.3795-.5427 1.3408-.5661 2.1781-.463zm.2284 7.0137a12.3762 12.3762 0 0 0-.0853-.1074l-.0355-.0444c.7262-1.1995.5842-2.3862.4578-3.4385-.0519-.4318-.1009-.8396-.0885-1.2226.0129-.4061.0666-.7543.1185-1.0911.0639-.415.1288-.8443.1109-1.3505.0134-.0531.0188-.1158.0118-.1902-.0457-.4855-.5999-1.938-1.7294-3.253-.6076-.7073-1.4896-1.4972-2.6889-2.0395.5251-.1066 1.2328-.2035 2.0244-.1859 2.0515.0456 3.6746.8135 4.8242 2.2824a.908.908 0 0 1 .0667.1002c.7231 1.3556-.2762 6.2751-2.9867 10.5405zm-8.8166-6.1162c-.025.1794-.3089.4225-.6211.4225a.5821.5821 0 0 1-.0809-.0056c-.1873-.026-.3765-.144-.5059-.3156-.0458-.0605-.1203-.178-.1055-.2844.0055-.0401.0261-.0985.0925-.1488.1182-.0894.3518-.1226.6096-.0867.3163.0441.6426.1938.6113.4186zm7.9305-.4114c.0111.0792-.049.201-.1531.3102-.0683.0717-.212.1961-.4079.2232a.5456.5456 0 0 1-.075.0052c-.2935 0-.5414-.2344-.5607-.3717-.024-.1765.2641-.3106.5611-.352.297-.0414.6111.0088.6356.1851z"},child:[]}]})(n)}function xk(n){return $t({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M14.23 12.004a2.236 2.236 0 0 1-2.235 2.236 2.236 2.236 0 0 1-2.236-2.236 2.236 2.236 0 0 1 2.235-2.236 2.236 2.236 0 0 1 2.236 2.236zm2.648-10.69c-1.346 0-3.107.96-4.888 2.622-1.78-1.653-3.542-2.602-4.887-2.602-.41 0-.783.093-1.106.278-1.375.793-1.683 3.264-.973 6.365C1.98 8.917 0 10.42 0 12.004c0 1.59 1.99 3.097 5.043 4.03-.704 3.113-.39 5.588.988 6.38.32.187.69.275 1.102.275 1.345 0 3.107-.96 4.888-2.624 1.78 1.654 3.542 2.603 4.887 2.603.41 0 .783-.09 1.106-.275 1.374-.792 1.683-3.263.973-6.365C22.02 15.096 24 13.59 24 12.004c0-1.59-1.99-3.097-5.043-4.032.704-3.11.39-5.587-.988-6.38-.318-.184-.688-.277-1.092-.278zm-.005 1.09v.006c.225 0 .406.044.558.127.666.382.955 1.835.73 3.704-.054.46-.142.945-.25 1.44-.96-.236-2.006-.417-3.107-.534-.66-.905-1.345-1.727-2.035-2.447 1.592-1.48 3.087-2.292 4.105-2.295zm-9.77.02c1.012 0 2.514.808 4.11 2.28-.686.72-1.37 1.537-2.02 2.442-1.107.117-2.154.298-3.113.538-.112-.49-.195-.964-.254-1.42-.23-1.868.054-3.32.714-3.707.19-.09.4-.127.563-.132zm4.882 3.05c.455.468.91.992 1.36 1.564-.44-.02-.89-.034-1.345-.034-.46 0-.915.01-1.36.034.44-.572.895-1.096 1.345-1.565zM12 8.1c.74 0 1.477.034 2.202.093.406.582.802 1.203 1.183 1.86.372.64.71 1.29 1.018 1.946-.308.655-.646 1.31-1.013 1.95-.38.66-.773 1.288-1.18 1.87-.728.063-1.466.098-2.21.098-.74 0-1.477-.035-2.202-.093-.406-.582-.802-1.204-1.183-1.86-.372-.64-.71-1.29-1.018-1.946.303-.657.646-1.313 1.013-1.954.38-.66.773-1.286 1.18-1.868.728-.064 1.466-.098 2.21-.098zm-3.635.254c-.24.377-.48.763-.704 1.16-.225.39-.435.782-.635 1.174-.265-.656-.49-1.31-.676-1.947.64-.15 1.315-.283 2.015-.386zm7.26 0c.695.103 1.365.23 2.006.387-.18.632-.405 1.282-.66 1.933-.2-.39-.41-.783-.64-1.174-.225-.392-.465-.774-.705-1.146zm3.063.675c.484.15.944.317 1.375.498 1.732.74 2.852 1.708 2.852 2.476-.005.768-1.125 1.74-2.857 2.475-.42.18-.88.342-1.355.493-.28-.958-.646-1.956-1.1-2.98.45-1.017.81-2.01 1.085-2.964zm-13.395.004c.278.96.645 1.957 1.1 2.98-.45 1.017-.812 2.01-1.086 2.964-.484-.15-.944-.318-1.37-.5-1.732-.737-2.852-1.706-2.852-2.474 0-.768 1.12-1.742 2.852-2.476.42-.18.88-.342 1.356-.494zm11.678 4.28c.265.657.49 1.312.676 1.948-.64.157-1.316.29-2.016.39.24-.375.48-.762.705-1.158.225-.39.435-.788.636-1.18zm-9.945.02c.2.392.41.783.64 1.175.23.39.465.772.705 1.143-.695-.102-1.365-.23-2.006-.386.18-.63.406-1.282.66-1.933zM17.92 16.32c.112.493.2.968.254 1.423.23 1.868-.054 3.32-.714 3.708-.147.09-.338.128-.563.128-1.012 0-2.514-.807-4.11-2.28.686-.72 1.37-1.536 2.02-2.44 1.107-.118 2.154-.3 3.113-.54zm-11.83.01c.96.234 2.006.415 3.107.532.66.905 1.345 1.727 2.035 2.446-1.595 1.483-3.092 2.295-4.11 2.295-.22-.005-.406-.05-.553-.132-.666-.38-.955-1.834-.73-3.703.054-.46.142-.944.25-1.438zm4.56.64c.44.02.89.034 1.345.034.46 0 .915-.01 1.36-.034-.44.572-.895 1.095-1.345 1.565-.455-.47-.91-.993-1.36-1.565z"},child:[]}]})(n)}function _k(n){return $t({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12.001,4.8c-3.2,0-5.2,1.6-6,4.8c1.2-1.6,2.6-2.2,4.2-1.8c0.913,0.228,1.565,0.89,2.288,1.624 C13.666,10.618,15.027,12,18.001,12c3.2,0,5.2-1.6,6-4.8c-1.2,1.6-2.6,2.2-4.2,1.8c-0.913-0.228-1.565-0.89-2.288-1.624 C16.337,6.182,14.976,4.8,12.001,4.8z M6.001,12c-3.2,0-5.2,1.6-6,4.8c1.2-1.6,2.6-2.2,4.2-1.8c0.913,0.228,1.565,0.89,2.288,1.624 c1.177,1.194,2.538,2.576,5.512,2.576c3.2,0,5.2-1.6,6-4.8c-1.2,1.6-2.6,2.2-4.2,1.8c-0.913-0.228-1.565-0.89-2.288-1.624 C10.337,13.382,8.976,12,6.001,12z"},child:[]}]})(n)}function ww(n){return $t({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 3v18l4 -2.5v-13z"},child:[]},{tag:"path",attr:{d:"M9.165 13.903l-4.165 3.597l-2 -1l4.333 -4.5m1.735 -1.802l6.932 -7.198v5l-4.795 4.141"},child:[]},{tag:"path",attr:{d:"M16 16.5l-11 -10l-2 1l13 13.5"},child:[]}]})(n)}function Sk(n){return $t({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M4 11a1 1 0 1 1 2 0v1a1 1 0 1 1-2 0zm6-4a1 1 0 1 1 2 0v5a1 1 0 1 1-2 0zM7 9a1 1 0 0 1 2 0v3a1 1 0 1 1-2 0z"},child:[]},{tag:"path",attr:{d:"M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1z"},child:[]},{tag:"path",attr:{d:"M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0z"},child:[]}]})(n)}function Mk(n){return $t({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M165.906 18.688C15.593 59.28-42.187 198.55 92.72 245.375h-1.095c.635.086 1.274.186 1.906.28 8.985 3.077 18.83 5.733 29.532 7.94C173.36 273.35 209.74 321.22 212.69 368c-33.514 23.096-59.47 62.844-59.47 62.844L179.5 469.53 138.28 493h81.97c-40.425-40.435-11.76-85.906 36.125-85.906 48.54 0 73.945 48.112 36.156 85.906h81.126l-40.375-23.47 26.283-38.686s-26.376-40.4-60.282-63.406c3.204-46.602 39.5-94.167 89.595-113.844 10.706-2.207 20.546-4.86 29.53-7.938.633-.095 1.273-.195 1.908-.28h-1.125c134.927-46.82 77.163-186.094-73.157-226.69-40.722 39.37 6.54 101.683 43.626 56.877 36.9 69.08 8.603 127.587-72.28 83.406-11.88 24.492-34.213 41.374-60.688 41.374-26.703 0-49.168-17.167-60.97-42-81.774 45.38-110.512-13.372-73.437-82.78 37.09 44.805 84.35-17.508 43.626-56.876zm90.79 35.92c-27.388 0-51.33 27.556-51.33 63.61 0 36.056 23.942 62.995 51.33 62.995 27.387 0 51.327-26.94 51.327-62.994 0-36.058-23.94-63.61-51.328-63.61z"},child:[]}]})(n)}function Bv(n){return $t({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zm6.93 6h-2.95a15.65 15.65 0 0 0-1.38-3.56A8.03 8.03 0 0 1 18.92 8zM12 4.04c.83 1.2 1.48 2.53 1.91 3.96h-3.82c.43-1.43 1.08-2.76 1.91-3.96zM4.26 14C4.1 13.36 4 12.69 4 12s.1-1.36.26-2h3.38c-.08.66-.14 1.32-.14 2 0 .68.06 1.34.14 2H4.26zm.82 2h2.95c.32 1.25.78 2.45 1.38 3.56A7.987 7.987 0 0 1 5.08 16zm2.95-8H5.08a7.987 7.987 0 0 1 4.33-3.56A15.65 15.65 0 0 0 8.03 8zM12 19.96c-.83-1.2-1.48-2.53-1.91-3.96h3.82c-.43 1.43-1.08 2.76-1.91 3.96zM14.34 14H9.66c-.09-.66-.16-1.32-.16-2 0-.68.07-1.35.16-2h4.68c.09.65.16 1.32.16 2 0 .68-.07 1.34-.16 2zm.25 5.56c.6-1.11 1.06-2.31 1.38-3.56h2.95a8.03 8.03 0 0 1-4.33 3.56zM16.36 14c.08-.66.14-1.32.14-2 0-.68-.06-1.34-.14-2h3.38c.16.64.26 1.31.26 2s-.1 1.36-.26 2h-3.38z"},child:[]}]})(n)}const wk=()=>{const n={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},e={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{duration:.5}}},t=[{name:"HTML5",category:"frontend",color:"#e34f26",icon:N.jsx(nk,{className:"w-4 h-4"})},{name:"CSS3",category:"frontend",color:"#1572b6",icon:N.jsx(ek,{className:"w-4 h-4"})},{name:"Tailwind CSS",category:"frontend",color:"#06b6d4",icon:N.jsx(_k,{className:"w-4 h-4"})},{name:"JavaScript (ES6+)",category:"frontend",color:"#f7df1e",icon:N.jsx(ik,{className:"w-4 h-4"})},{name:"ReactJS",category:"frontend",color:"#61dafb",icon:N.jsx(ok,{className:"w-4 h-4"})},{name:"SASS",category:"frontend",color:"#cc6699",icon:N.jsx(ak,{className:"w-4 h-4"})},{name:"jQuery",category:"frontend",color:"#0769ad",icon:N.jsx(mk,{className:"w-4 h-4"})},{name:"PHP",category:"backend",color:"#777bb4",icon:N.jsx(sk,{className:"w-4 h-4"})},{name:"Laravel",category:"backend",color:"#ff2d20",icon:N.jsx(rk,{className:"w-4 h-4"})},{name:"MySQL",category:"backend",color:"#4479a1",icon:N.jsx(vk,{className:"w-4 h-4"})},{name:"Blade",category:"backend",color:"#f55247",icon:N.jsx(gk,{className:"w-4 h-4"})},{name:"PostgreSQL",category:"backend",color:"#336791",icon:N.jsx(yk,{className:"w-4 h-4"})},{name:"Git & GitHub",category:"outils",color:"#f05032",icon:N.jsx(tk,{className:"w-4 h-4"})},{name:"Chrome DevTools",category:"outils",color:"#ffc107",icon:N.jsx(QU,{className:"w-4 h-4"})},{name:"Diagrammes de cas d'utilisation",category:"uml",color:"#a259fa",icon:N.jsx(ww,{className:"w-4 h-4"})},{name:"Diagrammes de classes",category:"uml",color:"#a259fa",icon:N.jsx(ww,{className:"w-4 h-4"})},{name:"Diagrammes de ERD",category:"uml",color:"#a259fa",icon:N.jsx(uk,{className:"w-4 h-4"})},{name:"Agile",category:"methodo",color:"#27ae60",icon:N.jsx(Mw,{className:"w-4 h-4"})},{name:"Scrum",category:"methodo",color:"#6f42c1",icon:N.jsx(Sk,{className:"w-4 h-4"})}],i=[{id:"frontend",name:"Frontend"},{id:"backend",name:"Backend"},{id:"outils",name:"Outils & Environnements"},{id:"uml",name:"Conception UML"},{id:"methodo",name:"Mthodologies de travail"}];return N.jsxs(N.Fragment,{children:[N.jsxs(yt.div,{initial:"hidden",animate:"visible",exit:{opacity:0},variants:n,className:"py-12",children:[N.jsx(yt.h1,{variants:e,className:"section-title",children:" propos de moi"}),N.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[N.jsxs(yt.div,{variants:e,children:[N.jsx("div",{className:"relative w-80 h-80 mx-auto mb-4 overflow-hidden",children:N.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-br from-primary/30 to-accent/30 p-[3px] z-10",children:N.jsx("div",{className:"absolute inset-0 rounded-full bg-card p-[2px] z-10",children:N.jsx("div",{className:"w-full h-full rounded-full overflow-hidden",children:N.jsx("img",{src:"/images/profile_.jpeg",alt:"Photo de profil",className:"w-full h-full object-cover object-top"})})})})}),N.jsxs("div",{className:"max-w-3xl mx-auto bg-card/80 backdrop-blur-lg rounded-2xl shadow-2xl px-6 py-4 md:px-8 md:py-6 border border-border/40 animate-in fade-in-50 duration-700",children:[N.jsx("h2",{className:"text-3xl font-extrabold mb-4 text-primary section-title hover:text-accent transition-colors duration-300",children:"Prsentation"}),N.jsx("div",{className:"space-y-6 text-foreground/90 leading-relaxed",children:N.jsxs("p",{className:"text-base md:text-lg",children:["Dveloppeur full-stack passionn par linnovation, jaccompagne les entreprises dans la cration de solutions web robustes et intuitives. Matrisant ",N.jsx("b",{children:"PHP"})," et"," ",N.jsx("b",{children:"JavaScript"}),", jutilise les frameworks ",N.jsx("b",{children:"Laravel"})," et"," ",N.jsx("b",{children:"ReactJS"})," pour concevoir des applications performantes, volutives et orientes utilisateur. Mon objectif : transformer des ides en expriences digitales impactantes, en combinant rigueur technique, crativit et esprit dquipe."]})})]})]}),N.jsxs(yt.div,{variants:e,children:[N.jsx("h2",{className:"text-2xl font-bold mb-4 text-foreground",children:"Mes comptences"}),N.jsx("div",{className:"space-y-6",children:i.map(r=>N.jsxs("div",{children:[N.jsx("h3",{className:"text-lg font-semibold mb-2 text-primary",children:r.name}),N.jsx("div",{className:"flex flex-wrap",children:t.filter(s=>s.category===r.id).map((s,o)=>N.jsxs(yt.span,{className:"skill-badge flex items-center gap-1 px-3 py-1 rounded-full font-medium text-xs mb-2 mr-2 shadow-sm border",style:{background:s.color+"22",color:s.color,borderColor:s.color},whileHover:{scale:1.05},whileTap:{scale:.95},children:[s.icon,N.jsx("span",{children:s.name})]},o))})]},r.id))})]})]})]}),N.jsxs(yt.div,{initial:"hidden",animate:"visible",variants:n,className:"my-8",children:[N.jsx(yt.h2,{variants:e,className:"text-3xl font-bold mb-6 text-center text-accent border-b border-border/30 pb-2 max-w-4xl mx-auto",children:"Informations personnelles"}),N.jsx(yt.div,{variants:e,className:"max-w-5xl mx-auto rounded-2xl shadow-xl p-0 sm:p-8 border border-border/40 animate-in fade-in-50 duration-700",children:N.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-12 gap-y-10",children:[N.jsxs("div",{className:"bg-background/50 rounded-xl p-5 shadow-lg shadow-primary/10 border border-border/20 hover:border-primary/20 transition-all duration-300 hover:shadow-primary/20",children:[N.jsxs("h3",{className:"text-xl font-semibold mb-4 text-accent flex items-center gap-2",children:[N.jsxs("svg",{className:"w-5 h-5 text-primary",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:[N.jsx("path",{d:"M22 10v6M2 10l10-5 10 5-10 5z"}),N.jsx("path",{d:"M6 12v5c0 2 2 3 6 3s6-1 6-3v-5"})]}),"Parcours acadmique"]}),N.jsxs("ul",{className:"text-foreground/80 space-y-3",children:[N.jsxs("li",{className:"flex items-start gap-2",children:[N.jsx("span",{className:"bg-primary/10 text-primary font-bold px-2 py-1 rounded text-xs mt-0.5",children:"2024"}),N.jsx("span",{children:"YouCode Safi : Dveloppeur Full Stack"})]}),N.jsxs("li",{className:"flex items-start gap-2",children:[N.jsx("span",{className:"bg-primary/10 text-primary font-bold px-2 py-1 rounded text-xs mt-0.5",children:"2021"}),N.jsx("span",{children:"Acharif Al Idrissi : BAC Pro en maintenance industrielle"})]})]})]}),N.jsxs("div",{className:"bg-background/50 rounded-xl p-5 shadow-lg shadow-primary/10 border border-border/20 hover:border-primary/20 transition-all duration-300 hover:shadow-primary/20",children:[N.jsxs("h3",{className:"text-xl font-semibold mb-4 text-accent flex items-center gap-2",children:[N.jsx("svg",{className:"w-5 h-5 text-primary",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:N.jsx("path",{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"})}),"Centres d'intrt"]}),N.jsxs("ul",{className:"text-foreground/80 space-y-3",children:[N.jsxs("li",{className:"flex items-center gap-3",children:[N.jsx(Mk,{className:"text-primary w-5 h-5"}),N.jsx("span",{children:"Sport & fitness"})]}),N.jsxs("li",{className:"flex items-center gap-3",children:[N.jsx(ck,{className:"text-primary w-5 h-5"}),N.jsx("span",{children:"Suivi d'habitudes pour la discipline et la productivit"})]}),N.jsxs("li",{className:"flex items-center gap-3",children:[N.jsx(lk,{className:"text-primary w-5 h-5"}),N.jsx("span",{children:"Lecture sur le dveloppement personnel"})]}),N.jsxs("li",{className:"flex items-center gap-3",children:[N.jsx(hk,{className:"text-primary w-5 h-5"}),N.jsx("span",{children:"Rsolution de problmes"})]})]})]}),N.jsxs("div",{className:"bg-background/50 rounded-xl p-5 shadow-lg shadow-primary/10 border border-border/20 hover:border-primary/20 transition-all duration-300 hover:shadow-primary/20",children:[N.jsxs("h3",{className:"text-xl font-semibold mb-4 text-accent flex items-center gap-2",children:[N.jsx("svg",{className:"w-5 h-5 text-primary",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:N.jsx("path",{d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9"})}),"Langues"]}),N.jsxs("ul",{className:"text-foreground/80 space-y-3",children:[N.jsxs("li",{className:"flex items-center gap-3",children:[N.jsx(Bv,{className:"text-primary w-5 h-5"}),N.jsx("div",{className:"flex-1",children:N.jsxs("div",{className:"flex justify-between items-center",children:[N.jsxs("span",{children:[N.jsx("b",{children:"Arabe"})," (natif)"]}),N.jsx("div",{className:"w-24 bg-border/30 h-2 rounded-full overflow-hidden",children:N.jsx("div",{className:"bg-primary h-full w-full"})})]})})]}),N.jsxs("li",{className:"flex items-center gap-3",children:[N.jsx(Bv,{className:"text-primary w-5 h-5"}),N.jsx("div",{className:"flex-1",children:N.jsxs("div",{className:"flex justify-between items-center",children:[N.jsxs("span",{children:[N.jsx("b",{children:"Franais"})," (A2)"]}),N.jsx("div",{className:"w-24 bg-border/30 h-2 rounded-full overflow-hidden",children:N.jsx("div",{className:"bg-primary h-full w-2/5"})})]})})]}),N.jsxs("li",{className:"flex items-center gap-3",children:[N.jsx(Bv,{className:"text-primary w-5 h-5"}),N.jsx("div",{className:"flex-1",children:N.jsxs("div",{className:"flex justify-between items-center",children:[N.jsxs("span",{children:[N.jsx("b",{children:"Anglais"})," (A2)"]}),N.jsx("div",{className:"w-24 bg-border/30 h-2 rounded-full overflow-hidden",children:N.jsx("div",{className:"bg-primary h-full w-2/5"})})]})})]})]})]}),N.jsxs("div",{className:"bg-background/50 rounded-xl p-5 shadow-lg shadow-primary/10 border border-border/20 hover:border-primary/20 transition-all duration-300 hover:shadow-primary/20",children:[N.jsxs("h3",{className:"text-xl font-semibold mb-4 text-accent flex items-center gap-2",children:[N.jsx("svg",{className:"w-5 h-5 text-primary",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:N.jsx("path",{d:"M12 15l-2 5l9-9l-9-9l2 5l-9 1l9 1"})}),"Certifications"]}),N.jsxs("ul",{className:"text-foreground/80 space-y-3",children:[N.jsxs("li",{className:"flex items-center gap-3",children:[N.jsx(pk,{className:"text-primary w-5 h-5"}),N.jsx("span",{children:"JavaScript Algorithms and Data Structures"})]}),N.jsxs("li",{className:"flex items-center gap-3",children:[N.jsx(dk,{className:"text-primary w-5 h-5"}),N.jsx("span",{children:"Git and GitHub"})]}),N.jsxs("li",{className:"flex items-center gap-3",children:[N.jsx(Mw,{className:"text-primary w-5 h-5"}),N.jsx("span",{children:"Agile Scrum Foundation"})]}),N.jsxs("li",{className:"flex items-center gap-3",children:[N.jsx(fk,{className:"text-primary w-5 h-5"}),N.jsx("span",{children:"CodinGame Certification  JavaScript"})]}),N.jsxs("li",{className:"flex items-center gap-3",children:[N.jsx(xk,{className:"text-primary w-5 h-5"}),N.jsx("span",{children:"ReactJS Core Concepts"})]})]})]}),N.jsx("div",{className:"w-full col-span-full flex flex-col gap-4 sm:flex-row items-center",children:N.jsxs("ul",{className:"w-full text-foreground/90 text-base justify-center flex flex-col items-center gap-4 sm:flex-row",children:[N.jsxs("li",{className:"flex items-center gap-2",children:[N.jsx("svg",{className:"w-5 h-5 text-primary",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:N.jsx("path",{d:"M22 16.92V19a2 2 0 0 1-2.18 2A19.72 19.72 0 0 1 3 5.18 2 2 0 0 1 5 3h2.09a2 2 0 0 1 2 1.72c.13 1.05.37 2.06.72 3a2 2 0 0 1-.45 2.11l-.27.27a16 16 0 0 0 7.07 7.07l.27-.27a2 2 0 0 1 2.11-.45c.94.35 1.95.59 3 .72A2 2 0 0 1 22 16.92z"})}),N.jsx("span",{children:"+212 713-061858"})]}),N.jsxs("li",{className:"flex items-center gap-2",children:[N.jsxs("svg",{className:"w-5 h-5 text-primary",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:[N.jsx("path",{d:"M4 4h16v16H4z",fill:"none"}),N.jsx("path",{d:"M22 6l-10 7L2 6"})]}),N.jsx("span",{children:N.jsx("a",{href:"mailto:contact@akraou.dev",className:"underline hover:text-accent transition-colors",children:"contact@akraou.dev"})})]}),N.jsxs("li",{className:"flex items-center gap-2",children:[N.jsxs("svg",{className:"w-5 h-5 text-primary",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:[N.jsx("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7z"}),N.jsx("circle",{cx:"12",cy:"9",r:"3"})]}),N.jsx("span",{children:"Maroc / Safi"})]})]})})]})})]})]})},Ek=()=>{const[n,e]=G.useState("all"),t={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},i={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{duration:.5}}},r=[{id:1,title:"E-commerce Platform",description:"Une plateforme e-commerce complte avec panier, paiement et gestion des commandes.",image:"https://via.placeholder.com/600x400?text=E-commerce",technologies:["React","Node.js","MongoDB","Stripe"],category:"fullstack",github:"https://github.com",demo:"https://example.com"},{id:2,title:"Portfolio Photographe",description:"Site portfolio pour un photographe professionnel avec galerie et systme de rservation.",image:"https://via.placeholder.com/600x400?text=Portfolio",technologies:["Vue.js","Firebase","TailwindCSS"],category:"frontend",github:"https://github.com",demo:"https://example.com"},{id:3,title:"API de Gestion de Tches",description:"API RESTful pour une application de gestion de tches avec authentification JWT.",image:"https://via.placeholder.com/600x400?text=API",technologies:["Node.js","Express","PostgreSQL","JWT"],category:"backend",github:"https://github.com"},{id:4,title:"Application Mto",description:"Application mto avec golocalisation et prvisions sur 7 jours.",image:"https://via.placeholder.com/600x400?text=Weather+App",technologies:["React","OpenWeather API","Styled Components"],category:"frontend",github:"https://github.com",demo:"https://example.com"},{id:5,title:"Systme de Gestion de Contenu",description:"CMS personnalis avec diteur WYSIWYG et gestion des utilisateurs.",image:"https://via.placeholder.com/600x400?text=CMS",technologies:["React","Node.js","MySQL","Redux"],category:"fullstack",github:"https://github.com",demo:"https://example.com"},{id:6,title:"Microservice d'Authentification",description:"Service d'authentification avec OAuth2 et gestion des rles.",image:"https://via.placeholder.com/600x400?text=Auth+Service",technologies:["Node.js","Express","MongoDB","OAuth2"],category:"backend",github:"https://github.com"}],s=[{id:"all",name:"Tous"},{id:"frontend",name:"Frontend"},{id:"backend",name:"Backend"},{id:"fullstack",name:"Fullstack"}],o=n==="all"?r:r.filter(a=>a.category===n);return N.jsxs(yt.div,{initial:"hidden",animate:"visible",exit:{opacity:0},variants:t,className:"py-12",children:[N.jsx(yt.h1,{variants:i,className:"section-title",children:"Mes Projets"}),N.jsx(yt.div,{variants:i,className:"flex flex-wrap justify-center gap-4 mb-12",children:s.map(a=>N.jsx("button",{onClick:()=>e(a.id),className:`px-6 py-2 rounded-full transition-all duration-300 ${n===a.id?"bg-primary text-white":"bg-secondary text-foreground/80 hover:bg-secondary/80"}`,children:a.name},a.id))}),N.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:N.jsx(qy,{mode:"wait",children:o.map(a=>N.jsxs(yt.div,{variants:i,layout:!0,initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.5},whileHover:{y:-10},className:"card overflow-hidden",children:[N.jsx("div",{className:"relative h-48 mb-4 overflow-hidden rounded-lg",children:N.jsx("img",{src:a.image||"/placeholder.svg",alt:a.title,className:"w-full h-full object-cover transition-transform duration-500 hover:scale-110"})}),N.jsx("h3",{className:"text-xl font-bold mb-2",children:a.title}),N.jsx("p",{className:"text-slate-600 dark:text-slate-300 mb-4 line-clamp-2",children:a.description}),N.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:a.technologies.map((l,h)=>N.jsx("span",{className:"px-2 py-1 bg-secondary/70 text-foreground/80 rounded text-xs",children:l},h))}),N.jsxs("div",{className:"flex gap-4 mt-auto",children:[N.jsxs("a",{href:a.github,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-foreground/80 hover:text-primary transition-colors",children:[N.jsx(I3,{className:"w-4 h-4"}),N.jsx("span",{children:"Code"})]}),a.demo&&N.jsxs("a",{href:a.demo,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-foreground/80 hover:text-primary transition-colors",children:[N.jsx(mb,{className:"w-4 h-4"}),N.jsx("span",{children:"Demo"})]})]})]},a.id))})})]})},Tk=()=>{const[n,e]=G.useState(!1),[t,i]=G.useState({submitted:!1,success:!1,message:""}),r={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},s={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{duration:.5}}};return N.jsxs(yt.div,{initial:"hidden",animate:"visible",exit:{opacity:0},variants:r,className:"py-12",children:[N.jsx(yt.h1,{variants:s,className:"section-title",children:"Me Contacter"}),N.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[N.jsxs(yt.div,{variants:s,children:[N.jsx("h2",{className:"text-2xl font-bold mb-4 text-slate-800 dark:text-white",children:"Discutons de votre projet"}),N.jsx("p",{className:"text-slate-600 dark:text-slate-300 mb-6",children:"Vous avez un projet en tte ou une question ? N'hsitez pas  me contacter en utilisant le formulaire ci-contre. Je vous rpondrai dans les plus brefs dlais."}),N.jsxs("div",{className:"space-y-4",children:[N.jsxs("div",{className:"flex items-start gap-4",children:[N.jsx("div",{className:"bg-primary/10 p-3 rounded-full text-primary",children:N.jsx(vw,{className:"w-5 h-5"})}),N.jsxs("div",{children:[N.jsx("h3",{className:"font-semibold",children:"Email"}),N.jsx("p",{className:"text-slate-600 dark:text-slate-300",children:N.jsx("a",{href:"mailto:contact@akraou.dev",className:"hover:text-primary transition-colors duration-300",children:"contact@akraou.dev"})})]})]}),N.jsxs("div",{className:"flex items-start gap-4",children:[N.jsx("div",{className:"bg-primary/10 p-3 rounded-full text-primary",children:N.jsx(zv,{className:"w-5 h-5"})}),N.jsxs("div",{children:[N.jsx("h3",{className:"font-semibold",children:"Disponibilit"}),N.jsx("p",{className:"text-slate-600 dark:text-slate-300",children:"Disponible pour des projets freelance et ouvert aux nouvelles opportunits professionnelles"})]})]}),N.jsxs("div",{className:"flex items-start gap-4",children:[N.jsx("div",{className:"bg-primary/10 p-3 rounded-full text-primary",children:N.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:N.jsx("path",{d:"M22 16.92V19a2 2 0 0 1-2.18 2A19.72 19.72 0 0 1 3 5.18 2 2 0 0 1 5 3h2.09a2 2 0 0 1 2 1.72c.13 1.05.37 2.06.72 3a2 2 0 0 1-.45 2.11l-.27.27a16 16 0 0 0 7.07 7.07l.27-.27a2 2 0 0 1 2.11-.45c.94.35 1.95.59 3 .72A2 2 0 0 1 22 16.92z"})})}),N.jsxs("div",{children:[N.jsx("h3",{className:"font-semibold",children:"Tlphone"}),N.jsx("p",{className:"text-slate-600 dark:text-slate-300",children:N.jsx("a",{href:"tel:+212713061858",className:"hover:text-primary transition-colors duration-300",children:"+212 713-061858"})})]})]})]})]}),N.jsx(yt.div,{variants:s,children:n?N.jsxs(yt.div,{initial:{opacity:0},animate:{opacity:1},className:"p-8 text-center bg-green-100 dark:bg-green-900/30 rounded-lg",children:[N.jsx(zv,{className:"w-12 h-12 mx-auto mb-4 text-green-600 dark:text-green-400"}),N.jsx("h3",{className:"text-xl font-bold text-green-800 dark:text-green-300 mb-2",children:"Message envoy !"}),N.jsx("p",{className:"text-green-700 dark:text-green-400",children:"Merci pour votre message. Je vous rpondrai ds que possible."})]}):N.jsxs("form",{action:"https://formspree.io/f/mnndyzny",method:"POST",className:"space-y-6",children:[t.submitted&&N.jsx(yt.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:`p-4 rounded-lg ${t.success===null?"bg-slate-100 dark:bg-slate-800":t.success?"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300":"bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-300"}`,children:N.jsxs("p",{className:"flex items-center gap-2",children:[t.success===null?N.jsx("span",{className:"animate-pulse",children:""}):t.success?N.jsx(zv,{className:"w-5 h-5"}):N.jsx(CU,{className:"w-5 h-5"}),t.message]})}),N.jsxs("div",{children:[N.jsx("label",{htmlFor:"name",className:"block mb-2 font-medium text-slate-700 dark:text-slate-200",children:"Nom"}),N.jsx("input",{type:"text",id:"name",name:"name",className:"w-full px-4 py-3 rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-colors",placeholder:"Votre nom",required:!0})]}),N.jsxs("div",{children:[N.jsx("label",{htmlFor:"email",className:"block mb-2 font-medium text-slate-700 dark:text-slate-200",children:"Email"}),N.jsx("input",{type:"email",id:"email",name:"email",className:"w-full px-4 py-3 rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-colors",placeholder:"votre@akraou.dev",required:!0})]}),N.jsxs("div",{children:[N.jsx("label",{htmlFor:"message",className:"block mb-2 font-medium text-slate-700 dark:text-slate-200",children:"Message"}),N.jsx("textarea",{id:"message",name:"message",rows:5,className:"w-full px-4 py-3 rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-colors",placeholder:"Votre message...",required:!0})]}),N.jsxs(yt.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",className:"w-full bg-primary hover:bg-primary/90 text-white font-medium py-3 px-4 rounded-lg transition-colors duration-300 flex items-center justify-center gap-2",children:[N.jsx(vw,{className:"w-5 h-5"}),"Envoyer"]})]})})]})]})},Mb=({className:n})=>N.jsx("svg",{className:`${n} fill-foreground transition-colors duration-300`,xmlns:"http://www.w3.org/2000/svg",width:"32px",height:"32px",viewBox:"0 0 32 32",children:N.jsx("path",{d:"M1.016 16.266l-0.109-0.052c-0.24-0.135-0.427-0.333-0.557-0.589-0.188-0.344-0.271-0.667-0.271-1l0.026-0.172c0-0.266 0.068-0.505 0.188-0.734l0.109-0.198c0.052-0.109 0.13-0.203 0.198-0.292 0.083-0.094 0.094-0.214 0.068-0.323l-0.068-0.214c-0.078-0.266-0.13-0.531-0.13-0.797l-0.042-0.161c0-0.297 0.078-0.589 0.266-0.802l0.135-0.172c0.094-0.135 0.24-0.214 0.401-0.266 0.13-0.042 0.224-0.177 0.24-0.333l0.026-0.453c0-0.359 0.172-0.693 0.438-0.938l0.323-0.24c0.063-0.063 0.13-0.13 0.182-0.24 0.068-0.078 0.083-0.188 0.068-0.266-0.026-0.13 0-0.172 0.068-0.188 0.214 0.083 0.349 0.057 0.443-0.052l0.172-0.224 0.479-0.536c0.135-0.13 0.188-0.375 0.104-0.557l-0.156-0.349c-0.026-0.078 0-0.172 0.068-0.198 0.172 0 0.292 0.063 0.344 0.172l0.052 0.094c0.083 0.161 0.271 0.24 0.401 0.172 0.292-0.104 0.536-0.13 0.76-0.13h0.427c0.292 0 0.531-0.203 0.589-0.51 0.052-0.37 0.182-0.667 0.37-0.865 0.203-0.229 0.427-0.401 0.693-0.536 0.349-0.182 0.563-0.453 0.63-0.797 0.094-0.427 0.318-0.734 0.625-0.932l1.016-0.573 0.292-0.177c0.172-0.104 0.333-0.24 0.469-0.401l0.266-0.318c0.13-0.135 0.266-0.224 0.427-0.266 0.13-0.042 0.318-0.068 0.479-0.052l0.531 0.036c0.266 0 0.479 0.068 0.693 0.161l0.135 0.068c0.135 0.052 0.266 0.026 0.333-0.068l0.12-0.068 0.573-0.599c0.135-0.135 0.292-0.188 0.469-0.161 0.172 0.026 0.344 0.094 0.505 0.177 0.24 0.13 0.438 0.182 0.667 0.182h0.135c0.292 0 0.583 0.042 0.88 0.109l0.198 0.052c0.198 0.052 0.401-0.026 0.531-0.188 0.042-0.068 0.135-0.078 0.188-0.026 0.042 0.026 0.052 0.052 0.068 0.094 0.026 0.266 0.188 0.469 0.401 0.531l0.214 0.068c0.224 0.068 0.427 0.214 0.557 0.401 0.135 0.198 0.297 0.401 0.479 0.531l0.135 0.135c0.135 0.135 0.318 0.188 0.505 0.172h0.786c0.323 0 0.63 0.057 0.938 0.188 0.292 0.135 0.599 0.161 0.875 0.052 0.297-0.089 0.604-0.13 0.911-0.089l0.573 0.089c0.266 0.031 0.531 0.161 0.693 0.365l0.068 0.063c0.13 0.135 0.266 0.307 0.396 0.495 0.083 0.172 0.271 0.266 0.453 0.266h0.828c0.203 0 0.401 0.042 0.563 0.135 0.172 0.13 0.318 0.266 0.453 0.401l0.13 0.172c0.161 0.188 0.24 0.438 0.229 0.708 0 0.214 0.161 0.396 0.37 0.396l0.271 0.031c0.188 0 0.344 0.13 0.438 0.302l0.135 0.271 0.344 0.771c0.057 0.135 0.068 0.266 0.057 0.375 0 0.13 0.036 0.24 0.13 0.292l0.135 0.094c0.172 0.135 0.266 0.333 0.24 0.563l-0.094 0.625-0.026 0.266c-0.026 0.135 0.036 0.307 0.161 0.401 0.198 0.13 0.292 0.307 0.302 0.505v0.266c0 0.135-0.026 0.297-0.13 0.401-0.083 0.109-0.135 0.24-0.135 0.401l0.042 0.307c0 0.214 0.13 0.401 0.266 0.531 0.188 0.135 0.292 0.349 0.323 0.563 0.052 0.333 0.063 0.599 0.063 0.865v0.307c0 0.109 0 0.214 0.042 0.318 0.026 0.094 0.094 0.188 0.172 0.245l0.266 0.198c0.271 0.172 0.458 0.401 0.563 0.708 0.135 0.292 0.172 0.599 0.172 0.906v0.104c0 0.24-0.026 0.495-0.104 0.719-0.068 0.245-0.052 0.469 0.036 0.667 0.109 0.188 0.177 0.401 0.203 0.63 0.052 0.266 0.026 0.531-0.068 0.745l-0.026 0.094c-0.068 0.161-0.172 0.307-0.307 0.427-0.135 0.135-0.266 0.214-0.344 0.307-0.083 0.078-0.135 0.214-0.094 0.333l0.036 0.188c0.068 0.266 0.068 0.531 0 0.771v0.109c-0.052 0.198-0.13 0.37-0.214 0.531-0.094 0.172-0.224 0.307-0.396 0.401l-0.203 0.13c-0.094 0.057-0.161 0.177-0.161 0.297 0 0.13-0.052 0.266-0.13 0.344l-0.203 0.271c-0.13 0.172-0.302 0.318-0.49 0.396-0.188 0.135-0.349 0.271-0.469 0.401-0.135 0.161-0.24 0.349-0.292 0.536-0.052 0.24-0.24 0.37-0.443 0.37h-0.719c-0.188 0-0.359 0.135-0.438 0.297-0.094 0.208-0.188 0.359-0.307 0.49-0.135 0.135-0.214 0.297-0.271 0.479-0.026 0.161-0.156 0.271-0.292 0.214-0.172-0.078-0.344 0-0.427 0.135-0.156 0.266-0.318 0.469-0.49 0.641l-0.094 0.078c-0.177 0.135-0.401 0.24-0.604 0.24-0.24 0-0.359 0.109-0.396 0.266-0.042 0.135-0.068 0.307-0.083 0.458-0.026 0.156-0.078 0.302-0.13 0.438l-0.068 0.078c-0.135 0.203-0.24 0.401-0.375 0.573l-0.052 0.083c-0.172 0.224-0.401 0.401-0.667 0.464-0.323 0.109-0.599 0.135-0.88 0.135h-0.188c-0.13 0-0.266 0.078-0.359 0.214l-0.078 0.135-0.083 0.156-0.172 0.297c-0.135 0.24-0.333 0.396-0.599 0.479-0.266 0.068-0.573 0.094-0.854 0.078l-0.214-0.026c-0.188 0-0.359-0.052-0.531-0.135-0.135-0.052-0.323 0-0.401 0.135-0.135 0.188-0.297 0.292-0.469 0.349l-0.401 0.13c-0.266 0.068-0.557 0.068-0.839 0l-0.214-0.068c-0.13 0-0.266-0.063-0.375-0.13-0.13-0.068-0.266-0.094-0.396-0.083l-0.177 0.031c-0.266 0.026-0.505 0-0.745-0.068l-0.359-0.083c-0.161-0.052-0.307-0.156-0.401-0.307-0.068-0.13-0.214-0.24-0.401-0.266h-0.427c-0.266-0.036-0.505-0.13-0.667-0.333l-0.531-0.505-0.188-0.161-0.292-0.214-0.172-0.13c-0.203-0.135-0.443-0.24-0.698-0.266l-0.797-0.135c-0.083 0-0.135-0.026-0.214-0.042l-0.307-0.068c-0.135-0.026-0.266-0.13-0.359-0.266-0.078-0.13-0.229-0.188-0.359-0.13-0.266 0.104-0.479 0.13-0.693 0.172h-0.188c-0.349 0.026-0.667-0.026-0.99-0.172-0.318-0.135-0.531-0.333-0.729-0.589-0.161-0.229-0.401-0.401-0.698-0.453l-0.37-0.078c-0.266-0.057-0.536-0.161-0.776-0.323-0.266-0.188-0.401-0.359-0.505-0.573-0.104-0.198-0.172-0.427-0.188-0.667v-0.104c-0.026-0.271-0.214-0.51-0.464-0.573-0.307-0.094-0.536-0.229-0.734-0.401-0.188-0.177-0.297-0.427-0.297-0.693l0.031-0.589c0-0.229-0.068-0.427-0.229-0.573-0.161-0.161-0.266-0.359-0.266-0.573l-0.042-0.479c-0.026-0.349-0.094-0.693-0.172-1.042-0.078-0.307 0.042-0.615 0.292-0.76l0.094-0.068c0.135-0.094 0.188-0.266 0.109-0.427l-0.109-0.13c-0.13-0.135-0.266-0.229-0.401-0.266-0.104-0.031-0.13-0.135-0.13-0.203l0.13-0.161c0.083-0.094 0.068-0.24 0-0.318-0.104-0.109-0.156-0.24-0.172-0.375l-0.026-0.932c0-0.188 0.026-0.375 0.078-0.557 0.057-0.161 0-0.349-0.156-0.427zM14.214 14.505c0.094-0.094 0.078-0.266 0-0.333-0.135-0.104-0.229-0.224-0.307-0.359l-0.135-0.214c-0.089-0.172-0.208-0.318-0.344-0.453l-0.026-0.026c-0.135-0.104-0.229-0.24-0.307-0.401-0.068-0.13-0.068-0.266 0-0.401l0.078-0.13c0.083-0.135 0.135-0.323 0.135-0.479v-0.057c0-0.13-0.052-0.266-0.135-0.396-0.052-0.109-0.104-0.24-0.13-0.375v-0.078c-0.042-0.161 0-0.333 0.104-0.469 0.109-0.172 0.188-0.333 0.229-0.531v-0.031c0.052-0.13 0.026-0.302-0.057-0.438-0.078-0.135-0.104-0.266-0.052-0.427l0.094-0.266c0.078-0.24 0.203-0.453 0.359-0.641l0.188-0.198 0.135-0.161 0.078-0.078c0.078-0.083 0.094-0.214 0.026-0.323-0.068-0.135-0.104-0.266-0.078-0.401l0.026-0.188c0.042-0.266 0.135-0.531 0.307-0.745l0.052-0.052c0.198-0.266 0.453-0.443 0.745-0.536l0.365-0.13c0.156-0.052 0.266-0.229 0.266-0.401 0-0.214 0.068-0.401 0.187-0.573l0.063-0.068c0.135-0.224 0.297-0.453 0.401-0.693l0.094-0.172c0.026-0.042 0.042-0.094 0.042-0.135 0-0.224-0.135-0.427-0.349-0.438l-0.583-0.042c-0.333-0.026-0.667 0-0.99 0l-1.13 0.135c-0.177 0-0.307 0.13-0.323 0.318 0 0.188-0.135 0.349-0.292 0.401l-0.479 0.13-0.135 0.042-0.401 0.135c-0.292 0.094-0.531 0.307-0.667 0.599l-0.104 0.172c-0.135 0.297-0.359 0.536-0.641 0.708-0.266 0.172-0.401 0.453-0.427 0.771v0.135c-0.026 0.266-0.109 0.531-0.266 0.719l-0.068 0.109c-0.109 0.13-0.135 0.307-0.068 0.453 0.068 0.156 0.109 0.333 0.094 0.505v0.708c0 0.188-0.135 0.344-0.266 0.396-0.188 0.068-0.307 0.214-0.359 0.401l-0.068 0.266c-0.052 0.271 0.042 0.536 0.266 0.698 0.214 0.156 0.349 0.396 0.401 0.693v0.24c0.042 0.266 0.188 0.531 0.427 0.667 0.24 0.161 0.427 0.401 0.531 0.667l0.068 0.214c0.109 0.292 0.349 0.464 0.615 0.49h0.078c0.24 0 0.453 0.135 0.589 0.349 0.13 0.214 0.344 0.359 0.583 0.401l0.375 0.104c0.229 0.068 0.443 0.188 0.615 0.359l0.026 0.031c0.135 0.104 0.349 0.089 0.469-0.057l0.094-0.104zM15.734 13.281c0.13 0.078 0.266 0.036 0.318-0.083l0.042-0.063c0.094-0.188 0.214-0.375 0.344-0.536l0.271-0.401c0.036 0 0.052-0.026 0.063-0.052l0.323-0.427c0.135-0.13 0.292-0.224 0.479-0.224 0.172 0 0.323-0.094 0.401-0.266 0.052-0.188 0.13-0.365 0.292-0.51l0.068-0.078c0.135-0.135 0.266-0.203 0.401-0.266 0.172-0.026 0.333-0.057 0.495-0.057h0.396c0.161 0 0.297-0.063 0.375-0.198s0.198-0.224 0.333-0.292l0.135-0.057c0.214-0.089 0.453-0.156 0.693-0.182l0.266-0.026c0.161 0 0.333 0 0.495 0.089 0.13 0.094 0.307 0.083 0.438-0.026l0.094-0.052c0.198-0.135 0.427-0.24 0.667-0.266h0.026c0.266-0.052 0.505-0.052 0.776-0.042h0.13c0.266 0.042 0.495 0.135 0.667 0.333l0.042 0.052c0.135 0.135 0.344 0.245 0.531 0.245h0.229c0.068 0 0.13-0.031 0.172-0.094 0.042-0.042 0.109-0.083 0.172-0.083h0.135c0.188 0 0.359 0.052 0.531 0.109l0.229 0.094c0.214 0.063 0.438 0.13 0.667 0.156h0.161c0.104 0 0.172-0.063 0.172-0.156 0-0.135-0.026-0.271-0.094-0.375l-0.094-0.214c-0.104-0.172-0.188-0.359-0.266-0.531l-0.026-0.068c-0.068-0.135-0.068-0.266 0-0.401v-0.068c0.026-0.104-0.026-0.224-0.135-0.266h-0.104c-0.214-0.068-0.401-0.188-0.536-0.359l-0.13-0.135c-0.135-0.13-0.214-0.333-0.271-0.531-0.063-0.172-0.208-0.307-0.396-0.307h-0.563c-0.198-0.026-0.375-0.135-0.495-0.292l-0.052-0.068c-0.094-0.135-0.172-0.292-0.224-0.453-0.068-0.135-0.214-0.214-0.349-0.172l-0.161 0.052c-0.266 0.094-0.531 0.13-0.797 0.104l-0.214-0.026c-0.229 0-0.443-0.094-0.615-0.224l-0.135-0.094c-0.104-0.083-0.208-0.135-0.333-0.188-0.13-0.052-0.24-0.026-0.318 0.068l-0.068 0.078c-0.13 0.135-0.318 0.24-0.505 0.266l-0.719 0.042c-0.135 0-0.266 0.068-0.359 0.161-0.109 0.094-0.229 0.156-0.365 0.182h-0.026c-0.13 0-0.266 0.094-0.396 0.188v0.026c-0.135 0.135-0.307 0.203-0.484 0.203l-0.052 0.026c-0.161 0-0.318 0-0.479 0.042h-0.161c-0.224 0.036-0.401 0.224-0.453 0.464l-0.052 0.307c-0.042 0.214-0.135 0.401-0.266 0.573-0.135 0.161-0.297 0.266-0.495 0.266h-0.224c-0.135 0.031-0.271 0.177-0.245 0.333 0.031 0.229 0 0.427-0.036 0.63l-0.052 0.224c-0.057 0.203-0.188 0.359-0.365 0.427l-0.078 0.042h-0.026c-0.078 0.052-0.135 0.172-0.068 0.266 0.083 0.135 0.109 0.266 0.094 0.401l-0.042 0.427c0 0.156-0.063 0.307-0.13 0.438-0.083 0.135-0.083 0.266-0.026 0.401l0.13 0.292c0.068 0.135 0.083 0.271 0.042 0.427-0.042 0.135-0.068 0.266-0.052 0.401 0 0.135 0.078 0.266 0.188 0.323zM26.266 22.922c0.135 0.13 0.333 0.182 0.495 0.078l0.266-0.172c0.135-0.094 0.24-0.229 0.292-0.401v-0.026l0.135-0.401 0.078-0.135 0.057-0.13 0.052-0.094c0.052-0.109 0.13-0.188 0.266-0.229l0.052-0.026c0.109-0.026 0.177-0.13 0.177-0.24 0-0.13 0.063-0.24 0.13-0.333l0.109-0.094 0.266-0.344v-0.026c0.078-0.109 0.13-0.229 0.161-0.365 0.026-0.13 0-0.266-0.057-0.396l-0.026-0.057c-0.052-0.13-0.078-0.224-0.094-0.344l-0.036-0.375-0.042-0.401c0-0.13 0.052-0.266 0.135-0.396 0.089-0.109 0.156-0.245 0.214-0.375v-0.052l0.026-0.026c0.026-0.135-0.042-0.271-0.161-0.271-0.135-0.063-0.266-0.172-0.307-0.333l-0.042-0.078c-0.063-0.24-0.104-0.479-0.104-0.719l0.026-0.667v-0.042c0-0.224-0.188-0.401-0.401-0.401h-0.026c-0.266 0-0.479-0.078-0.667-0.266l-0.104-0.135-0.271-0.302-0.344-0.401c-0.135-0.188-0.266-0.349-0.443-0.51-0.13-0.13-0.333-0.266-0.531-0.292l-0.266-0.042c-0.135-0.026-0.307-0.089-0.453-0.182-0.109-0.083-0.266-0.057-0.375 0.052l-0.172 0.188-0.083 0.052c-0.094 0.026-0.182-0.026-0.224-0.135-0.052-0.156-0.052-0.344 0.026-0.505v-0.078c0-0.094-0.078-0.161-0.161-0.135h-0.214c-0.24 0-0.479-0.026-0.703-0.13l-0.135-0.057c-0.135-0.068-0.292-0.104-0.438-0.104-0.135 0-0.271 0.026-0.401 0.104l-0.052 0.042c-0.161 0.104-0.349 0.161-0.536 0.172h-0.438c-0.203 0-0.401 0.068-0.536 0.177-0.172 0.104-0.359 0.172-0.557 0.208l-0.359 0.057c-0.161 0.036-0.333 0.104-0.484 0.224-0.13 0.135-0.318 0.214-0.49 0.266l-0.068 0.031c-0.214 0.063-0.401 0.198-0.531 0.396l-0.161 0.161c-0.094 0.135-0.094 0.292 0 0.427 0.078 0.135 0.24 0.172 0.401 0.135l0.198-0.083c0.104-0.036 0.229 0 0.318 0.052 0.083 0.068 0.203 0.109 0.323 0.094l0.333-0.036c0.188 0 0.375 0 0.557 0.052 0.203 0.068 0.375 0.135 0.536 0.266 0.161 0.135 0.333 0.188 0.531 0.214 0.203 0.026 0.401 0.068 0.589 0.135l0.13 0.026c0.135 0.042 0.245 0.13 0.323 0.266 0.068 0.109 0.13 0.266 0.13 0.401v0.042c0 0.156 0.135 0.266 0.271 0.266h0.078c0.214 0 0.443 0.026 0.667 0.094l0.094 0.036c0.135 0.057 0.266 0.135 0.359 0.271 0.109 0.13 0.172 0.266 0.214 0.396l0.042 0.188c0.036 0.203 0.052 0.401 0.052 0.615v0.068c0 0.13 0.094 0.266 0.24 0.318 0.135 0.026 0.292 0.083 0.443 0.161l0.063 0.026c0.177 0.104 0.349 0.24 0.479 0.401l0.068 0.094c0.177 0.198 0.266 0.453 0.266 0.703v0.094c0 0.203-0.036 0.401-0.104 0.589-0.052 0.161 0 0.349 0.172 0.401l0.094 0.068c0.203 0.078 0.375 0.224 0.505 0.396 0.135 0.203 0.188 0.427 0.188 0.667v0.401c-0.026 0.135-0.063 0.24-0.13 0.333s-0.068 0.229 0 0.323l0.078 0.13zM17.734 16.094h-0.026c-0.057 0-0.083 0.068-0.068 0.135l0.052 0.266c0.052 0.214 0.078 0.427 0.109 0.641 0.026 0.214 0.13 0.396 0.292 0.531h0.052c0.203 0.161 0.323 0.401 0.333 0.641v0.667c-0.026 0.13 0 0.266 0.083 0.375l0.063 0.063c0.135 0.161 0.188 0.349 0.203 0.536l0.036 0.734c0 0.172-0.104 0.318-0.266 0.344l-0.13 0.026c-0.094 0-0.135 0.109-0.135 0.203 0 0.104 0.042 0.224 0.078 0.333v0.026c0.042 0.13 0.057 0.266 0.042 0.401l-0.052 0.359c-0.052 0.266-0.135 0.505-0.266 0.745l-0.094 0.161c-0.068 0.13-0.161 0.214-0.271 0.266-0.13 0.052-0.224 0.161-0.266 0.292l-0.104 0.479c-0.068 0.271-0.188 0.536-0.349 0.802h-0.026c-0.161 0.214-0.359 0.401-0.599 0.531l-0.161 0.109-0.401 0.198c-0.13 0.057-0.214 0.177-0.24 0.323l-0.063 0.438c-0.042 0.266-0.135 0.495-0.323 0.667l-0.172 0.203-0.203 0.198-0.198 0.214c-0.161 0.188-0.401 0.266-0.667 0.229l-0.479-0.094-0.443-0.057h-0.12c-0.052 0.057-0.063 0.135-0.026 0.214 0.094 0.161 0.24 0.271 0.401 0.271l0.292 0.052c0.135 0 0.297 0.068 0.427 0.13 0.135 0.094 0.266 0.161 0.427 0.203h0.026c0.177 0.068 0.359 0.078 0.536 0.068l0.198-0.031c0.229-0.026 0.443 0 0.625 0.083l0.161 0.052c0.068 0.026 0.172 0 0.24-0.068 0.083-0.078 0.161-0.13 0.266-0.172l0.109-0.026c0.172-0.052 0.344-0.083 0.531-0.083h0.109c0.156 0 0.307 0.031 0.438 0.109l0.052 0.026c0.094 0.042 0.203 0 0.271-0.078 0.036-0.094 0.13-0.188 0.224-0.266l0.333-0.229 0.214-0.135 0.109-0.063c0.13-0.094 0.318-0.135 0.479-0.135l0.479-0.042c0.188-0.026 0.349-0.156 0.401-0.344 0.052-0.203 0.13-0.401 0.266-0.573 0.135-0.177 0.266-0.323 0.401-0.453 0.172-0.135 0.344-0.203 0.531-0.214h0.109c0.214-0.042 0.37-0.24 0.359-0.453v-0.896c0.026-0.13 0.078-0.307 0.156-0.438l0.271-0.401 0.104-0.135c0.083-0.068 0.135-0.156 0.229-0.266l0.13-0.172c0.083-0.135 0.083-0.307-0.026-0.427-0.13-0.135-0.198-0.323-0.224-0.505v-0.057c-0.026-0.214-0.026-0.438 0.036-0.667v-0.063c0.068-0.177 0.161-0.349 0.271-0.51 0.104-0.13 0.089-0.318-0.042-0.427l-0.229-0.198c-0.188-0.161-0.292-0.401-0.318-0.641l-0.026-0.266c0-0.083 0-0.172-0.026-0.266l-0.026-0.203c-0.031-0.224-0.161-0.401-0.349-0.531l-0.094-0.026c-0.135-0.083-0.266-0.203-0.375-0.359-0.104-0.135-0.156-0.323-0.198-0.51l-0.042-0.224c0-0.083-0.052-0.135-0.13-0.172l-0.641-0.203c-0.135-0.026-0.266-0.13-0.359-0.224h-0.026c-0.083-0.109-0.214-0.109-0.297-0.031l-0.13 0.135c-0.026 0.042-0.057 0.052-0.094 0.042-0.083 0-0.135-0.068-0.109-0.135 0.026-0.214-0.052-0.427-0.224-0.557l-0.177-0.135-0.396-0.266c-0.109-0.042-0.271 0-0.323 0.13l-0.052 0.083c0 0.026-0.042 0.036-0.052 0.052-0.057 0-0.135 0-0.135-0.068l-0.042-0.068c-0.036-0.078-0.13-0.13-0.214-0.156zM16.135 17.427l-0.068-0.068c-0.068-0.052-0.135-0.042-0.203 0.026-0.094 0.161-0.172 0.333-0.214 0.51v0.026c-0.036 0.172-0.198 0.292-0.359 0.266h-0.156c-0.188 0-0.333 0.161-0.333 0.344 0 0.24-0.083 0.484-0.229 0.667l-0.078 0.083c-0.135 0.172-0.333 0.292-0.536 0.359l-0.104 0.026c-0.135 0.042-0.24 0.135-0.266 0.292 0 0.135-0.083 0.271-0.188 0.375l-0.135 0.104c-0.161 0.177-0.401 0.271-0.641 0.297l-0.667 0.068c-0.214 0-0.396 0.13-0.531 0.333-0.135 0.198-0.333 0.333-0.531 0.359l-0.297 0.026c-0.214 0.026-0.438 0.026-0.667-0.026l-0.13-0.026-0.365-0.094c-0.13-0.042-0.24 0-0.318 0.094l-0.135 0.172c-0.172 0.198-0.422 0.292-0.667 0.266l-0.865-0.104c-0.135 0-0.24-0.068-0.359-0.135-0.135-0.078-0.229-0.172-0.323-0.266l-0.333-0.401c-0.036-0.026-0.104-0.042-0.172-0.026l-0.188 0.078-0.745 0.188c-0.135 0.042-0.307 0-0.438-0.078-0.135-0.109-0.297-0.135-0.458-0.135h-0.172c-0.161 0.042-0.266 0.214-0.214 0.375l0.052 0.266c0.042 0.135 0.031 0.292-0.036 0.427s-0.052 0.266 0.036 0.401l0.083 0.104c0.104 0.161 0.266 0.297 0.401 0.427 0.13 0.135 0.266 0.266 0.37 0.443l0.203 0.359c0.104 0.188 0.266 0.292 0.479 0.292 0.198 0 0.401 0.068 0.557 0.198l0.401 0.375c0.109 0.094 0.266 0.109 0.375 0.026l0.068-0.026c0.078 0 0.13 0.052 0.13 0.135v0.068c0 0.172 0.135 0.333 0.307 0.396l0.599 0.135c0.214 0.068 0.427 0.135 0.63 0.266h0.104c0.109 0 0.203-0.094 0.188-0.214v-0.464c0-0.135 0.052-0.271 0.161-0.323l0.068-0.026c0.063 0.026 0.13 0.078 0.104 0.135v0.224c0 0.172 0.052 0.333 0.172 0.453 0.135 0.135 0.307 0.161 0.453 0.109 0.161-0.068 0.323-0.083 0.495-0.068l0.495 0.026c0.24 0.026 0.464 0 0.667-0.094 0.24-0.078 0.438-0.188 0.625-0.333l0.078-0.052 0.401-0.359c0.135-0.135 0.307-0.203 0.469-0.203h0.531c0.266-0.026 0.51-0.266 0.536-0.531l0.052-0.266c0-0.177 0.078-0.333 0.198-0.469 0.135-0.135 0.266-0.214 0.401-0.266l0.161-0.068c0.224-0.094 0.401-0.292 0.479-0.531l0.078-0.323c0.068-0.266 0.203-0.531 0.401-0.703l0.026-0.031c0.161-0.13 0.188-0.396 0.083-0.583l-0.042-0.094c-0.094-0.135-0.109-0.333-0.042-0.505 0.068-0.188 0.135-0.349 0.24-0.51l0.135-0.188c0.052-0.104 0.052-0.266-0.026-0.359-0.083-0.104-0.135-0.24-0.135-0.37l-0.026-0.188v-0.453c0.026-0.135 0-0.307-0.042-0.443l-0.052-0.156zM14.229 16.411v-0.036c0-0.135-0.083-0.214-0.188-0.214h-0.349c-0.13 0.026-0.266 0.026-0.375 0h-0.599c-0.307 0-0.599-0.057-0.891-0.135l-0.323-0.078-0.266-0.083-0.599-0.198c-0.323-0.094-0.563-0.307-0.708-0.599l-0.068-0.135c-0.094-0.198-0.292-0.307-0.49-0.266-0.229 0-0.453 0-0.667-0.104l-0.161-0.068c-0.307-0.135-0.531-0.401-0.531-0.76l-0.057-0.359c-0.036-0.188-0.156-0.359-0.318-0.427-0.188-0.083-0.359-0.188-0.536-0.307l-0.063-0.042c-0.203-0.161-0.375-0.37-0.469-0.625l-0.026-0.078c-0.068-0.214-0.078-0.443-0.026-0.667l0.026-0.083c0.052-0.172 0.068-0.344 0.068-0.531 0-0.161-0.068-0.323-0.188-0.443l-0.188-0.172c-0.214-0.172-0.344-0.427-0.359-0.708-0.026-0.292-0.026-0.573 0.026-0.854v-0.078c0-0.161-0.135-0.266-0.266-0.266h-0.042c-0.172 0-0.318 0.104-0.401 0.266-0.063 0.188-0.172 0.333-0.292 0.479l-0.052 0.068-0.401 0.401c-0.135 0.13-0.214 0.333-0.24 0.531-0.026 0.203-0.078 0.401-0.161 0.589l-0.026 0.068c-0.068 0.156-0.172 0.307-0.307 0.401-0.13 0.104-0.224 0.266-0.224 0.422l-0.026 0.615c0 0.266-0.042 0.536-0.135 0.802l-0.026 0.104c-0.068 0.177 0 0.359 0.161 0.443l0.557 0.24 0.052 0.026c0.042 0 0.057 0.026 0.068 0.068 0.042 0.052 0 0.13-0.042 0.13l-0.13 0.068c-0.078 0.026-0.135 0.109-0.161 0.203l-0.026 0.13v0.026l-0.135 0.75c-0.026 0.104-0.026 0.224-0.026 0.344 0 0.109 0.068 0.203 0.161 0.24l0.292 0.135c0.135 0.078 0.297 0.172 0.401 0.266l0.135 0.109c0.036 0.052 0.104 0.104 0.156 0.13l0.057 0.052c0.094 0.083 0.156 0.188 0.188 0.307l0.13 0.599c0 0.161 0.135 0.297 0.266 0.333l0.214 0.068c0 0 0.042 0 0.068 0.026l0.266 0.083c0.214 0.068 0.401 0.188 0.563 0.344 0.161 0.135 0.318 0.307 0.453 0.495l0.052 0.052c0.109 0.135 0.266 0.203 0.427 0.161s0.333-0.052 0.505-0.052h0.203c0.13 0 0.307 0.036 0.453 0.13 0.13 0.083 0.307 0.135 0.464 0.203h0.042c0.161 0.068 0.333 0.036 0.469-0.052 0.13-0.109 0.307-0.161 0.479-0.161l0.625 0.036c0.135 0 0.266-0.026 0.333-0.13h0.026l0.229-0.214 0.068-0.068c0.104-0.13 0.266-0.188 0.422-0.198h0.604c0.156 0 0.307-0.135 0.37-0.266 0.068-0.135 0.203-0.245 0.359-0.271l0.271-0.052c0.104 0 0.198-0.094 0.24-0.214 0.036-0.13 0.104-0.24 0.198-0.318l0.214-0.214c0.135-0.135 0.203-0.266 0.229-0.427z"})}),Ak=()=>{const n=new Date().getFullYear(),e=[{icon:N.jsx(I3,{className:"w-5 h-5"}),url:"https://github.com/ayoub-akraou",label:"GitHub"},{icon:N.jsx(gb,{className:"w-5 h-5"}),url:"https://www.linkedin.com/in/ayoub-akraou/",label:"LinkedIn"},{icon:N.jsx(Mb,{className:"w-5 h-5"}),url:"https://www.codewars.com/users/ayoub-akraou",label:"Codewars"},{icon:N.jsx(vb,{className:"w-5 h-5"}),url:"mailto:contact@akraou.dev",label:"Email"}],t=[{label:"Accueil",url:"/"},{label:" propos",url:"/about"},{label:"Projets",url:"/projects"},{label:"Contact",url:"/contact"}];return N.jsxs("footer",{className:"relative py-8 mt-12 overflow-hidden",children:[N.jsx("div",{className:"absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-primary/50 to-transparent"}),N.jsx("div",{className:"absolute inset-0 -z-10 bg-secondary/20 dark:bg-secondary/5 backdrop-blur-sm"}),N.jsxs("div",{className:"container mx-auto max-w-5xl px-4",children:[N.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-8",children:[N.jsxs(yt.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5},viewport:{once:!0},className:"flex flex-col items-center md:items-start",children:[N.jsx("div",{className:"mb-3",children:N.jsxs("svg",{viewBox:"0 0 370 80.8264972591293",height:"28",width:"120",children:[N.jsxs("g",{featurekey:"Df7oLJ-0",transform:"matrix(0.9849443194885655,0,0,0.9849443194885655,-9.322498134249848,-3.909244103617623)",fill:"#10b981",children:[N.jsx("polygon",{points:"38.182,57.753 20.18,47.91 20.18,42.455 38.182,32.652 38.182,39.074 25.625,45.113 38.182,51.379 "}),N.jsx("polygon",{points:"39.848,62.08 46.351,27.918 50.136,27.918 43.56,62.08 "}),N.jsx("polygon",{points:"51.8,57.78 51.8,51.4 64.372,45.181 51.8,39.028 51.8,32.696 69.82,42.5 69.82,47.91 "}),N.jsx("path",{d:"M44.999,86.031L9.465,65.517V24.484L44.999,3.969l35.536,20.516v41.029L44.999,86.031L44.999,86.031z M13.07,63.434  l31.929,18.434L76.93,63.434V26.566L44.999,8.131L13.07,26.565V63.434L13.07,63.434z"})]}),N.jsx("g",{featurekey:"Ua4uQk-0",transform:"matrix(1.9959821652428904,0,0,1.9959821652428904,89.77518810758221,16.02008917378555)",fill:"#10b981",children:N.jsx("path",{d:"M14.78 18.86 q0.14 0.32 -0.07 0.65 t-0.57 0.33 l-13.32 0 q-0.18 0 -0.34 -0.09 t-0.24 -0.23 q-0.22 -0.32 -0.06 -0.66 l0.62 -1.46 q0.08 -0.2 0.26 -0.32 t0.38 -0.12 l9.32 0 l-3.28 -7.84 l-2.68 6.4 q-0.08 0.2 -0.25 0.31 t-0.39 0.11 l-1.68 0 q-0.38 0 -0.6 -0.32 q-0.08 -0.14 -0.1 -0.32 t0.04 -0.34 l4.06 -9.52 q0.08 -0.2 0.25 -0.32 t0.39 -0.12 l1.92 0 q0.22 0 0.39 0.12 t0.25 0.32 z M29.259999999999998 18.7 q0.12 0.14 0.14 0.34 t-0.07 0.38 t-0.26 0.28 t-0.37 0.1 l-1.9 0 q-0.18 0 -0.33 -0.08 t-0.25 -0.22 l-4.78 -6.88 l-1.96 1.84 l0 4.64 q0 0.28 -0.21 0.49 t-0.49 0.21 l-1.52 0 q-0.28 0 -0.49 -0.21 t-0.21 -0.49 l0 -5.56 q0 -0.32 0.22 -0.5 l8.36 -7.84 q0.2 -0.2 0.48 -0.2 l2.16 0 q0.2 0 0.38 0.12 t0.26 0.32 t0.04 0.41 t-0.2 0.37 l-4.68 4.4 z M17.259999999999998 10.1 q-0.28 0 -0.49 -0.2 t-0.21 -0.5 l0 -3.7 q0 -0.28 0.21 -0.49 t0.49 -0.21 l1.52 0 q0.28 0 0.49 0.21 t0.21 0.49 l0 3.7 q0 0.3 -0.21 0.5 t-0.49 0.2 l-1.52 0 z M40.4 14.1 l3.02 4.62 q0.22 0.36 0.02 0.72 q-0.08 0.16 -0.25 0.26 t-0.35 0.1 l-1.82 0 q-0.18 0 -0.34 -0.09 t-0.24 -0.23 l-3.04 -4.82 l-3.56 0 l0 4.44 q0 0.28 -0.21 0.49 t-0.49 0.21 l-1.52 0 q-0.28 0 -0.49 -0.21 t-0.21 -0.49 l0 -6.58 q0 -0.28 0.21 -0.49 t0.49 -0.21 l6.16 0 q1.76 0 2.34 -1 q0.2 -0.32 0.2 -0.92 q0 -0.94 -0.62 -1.48 q-0.64 -0.58 -1.84 -0.58 l-6.24 0 q-0.28 0 -0.49 -0.21 t-0.21 -0.49 l0 -1.44 q0 -0.28 0.21 -0.49 t0.49 -0.21 l6.42 0 q2.34 0 3.74 1.32 q1.46 1.32 1.46 3.58 q0 1.46 -0.64 2.49 t-1.86 1.57 z M59 18.86 q0.14 0.32 -0.07 0.65 t-0.57 0.33 l-13.32 0 q-0.18 0 -0.34 -0.09 t-0.24 -0.23 q-0.22 -0.32 -0.06 -0.66 l0.62 -1.46 q0.08 -0.2 0.26 -0.32 t0.38 -0.12 l9.32 0 l-3.28 -7.84 l-2.68 6.4 q-0.08 0.2 -0.25 0.31 t-0.39 0.11 l-1.68 0 q-0.38 0 -0.6 -0.32 q-0.08 -0.14 -0.1 -0.32 t0.04 -0.34 l4.06 -9.52 q0.08 -0.2 0.25 -0.32 t0.39 -0.12 l1.92 0 q0.22 0 0.39 0.12 t0.25 0.32 z M66.58 5.16 q0.24 0.2 0.24 0.54 l0 1.5 q0 0.26 -0.15 0.45 t-0.41 0.25 q-1.28 0.26 -2.18 1.22 q-1.22 1.28 -1.22 3.33 t1.22 3.35 q0.9 0.94 2.18 1.2 q0.26 0.06 0.41 0.25 t0.15 0.45 l0 1.5 q0 0.32 -0.24 0.54 q-0.22 0.16 -0.46 0.16 l-0.12 0 q-2.32 -0.38 -3.98 -2.1 q-2.08 -2.14 -2.08 -5.33 t2.08 -5.37 q1.62 -1.68 3.98 -2.08 q0.32 -0.06 0.58 0.14 z M72.86 7.1 q2.08 2.18 2.08 5.37 t-2.08 5.33 q-1.66 1.72 -3.98 2.1 l-0.12 0 q-0.24 0 -0.46 -0.16 q-0.24 -0.22 -0.24 -0.54 l0 -1.5 q0 -0.26 0.15 -0.45 t0.41 -0.25 q1.28 -0.26 2.18 -1.2 q1.22 -1.3 1.22 -3.35 t-1.22 -3.33 q-0.9 -0.96 -2.18 -1.22 q-0.26 -0.06 -0.41 -0.25 t-0.15 -0.45 l0 -1.5 q0 -0.34 0.25 -0.54 t0.57 -0.14 q2.36 0.4 3.98 2.08 z M82.5 17.06 q0.24 0.08 0.38 0.27 t0.14 0.43 l0 1.54 q0 0.32 -0.26 0.54 q-0.2 0.16 -0.44 0.16 q-0.1 0 -0.14 -0.02 q-1.86 -0.36 -3.2 -1.72 q-1.8 -1.84 -1.8 -4.84 l0 -7.7 q0 -0.3 0.21 -0.51 t0.49 -0.21 l1.54 0 q0.3 0 0.51 0.21 t0.21 0.51 l0 7.74 q0 1.9 1.08 2.9 q0.56 0.52 1.28 0.7 z M89.4 5 q0.3 0 0.51 0.21 t0.21 0.51 l0 7.7 q0 3 -1.8 4.84 q-1.34 1.36 -3.2 1.72 q-0.04 0.02 -0.14 0.02 q-0.24 0 -0.44 -0.16 q-0.26 -0.2 -0.26 -0.56 l0 -1.54 q0 -0.22 0.14 -0.41 t0.38 -0.27 q0.76 -0.22 1.28 -0.7 q1.08 -0.96 1.08 -2.9 l0 -7.74 q0 -0.3 0.21 -0.51 t0.51 -0.21 l1.52 0 z M95.1 16.28 q0.28 0 0.49 0.2 t0.21 0.5 l0 2.08 q0 0.28 -0.21 0.49 t-0.49 0.21 l-1.82 0 q-0.3 0 -0.5 -0.21 t-0.2 -0.49 l0 -2.08 q0 -0.3 0.2 -0.5 t0.5 -0.2 l1.82 0 z M107.36 5.52 q1.22 0.46 2.2 1.48 q2.1 2.12 2.1 5.41 t-2.1 5.43 q-0.98 1.02 -2.2 1.48 q-1.26 0.52 -2.58 0.52 l-5.66 0 q-0.28 0 -0.49 -0.21 t-0.21 -0.49 l0 -1.44 q0 -0.3 0.21 -0.51 t0.49 -0.21 l5.6 0 q1.78 0 2.89 -1.3 t1.11 -3.26 t-1.11 -3.26 t-2.89 -1.3 l-5.6 0 q-0.28 0 -0.49 -0.21 t-0.21 -0.51 l0 -1.44 q0 -0.28 0.21 -0.49 t0.49 -0.21 l5.66 0 q1.32 0 2.58 0.52 z M124.66 16.96 q0.3 0 0.5 0.21 t0.2 0.51 l0 1.46 q0 0.28 -0.2 0.49 t-0.5 0.21 l-9.88 0 q-0.28 0 -0.49 -0.21 t-0.21 -0.49 l0 -1.46 q0 -0.3 0.21 -0.51 t0.49 -0.21 l9.88 0 z M114.77999999999999 13.86 q-0.28 0 -0.49 -0.21 t-0.21 -0.49 l0 -1.5 q0 -0.28 0.21 -0.49 t0.49 -0.21 l8.98 0 q0.3 0 0.51 0.21 t0.21 0.49 l0 1.5 q0 0.28 -0.21 0.49 t-0.51 0.21 l-8.98 0 z M124.66 5 q0.3 0 0.5 0.21 t0.2 0.49 l0 1.46 q0 0.3 -0.2 0.51 t-0.5 0.21 l-9.88 0 q-0.28 0 -0.49 -0.21 t-0.21 -0.51 l0 -1.46 q0 -0.28 0.21 -0.49 t0.49 -0.21 l9.88 0 z M140.26 5.32 q0.22 0.3 0.08 0.66 l-5.48 13.54 q-0.08 0.2 -0.26 0.32 t-0.4 0.12 l-1.76 0 q-0.22 0 -0.4 -0.12 t-0.26 -0.32 l-5.48 -13.54 q-0.16 -0.34 0.06 -0.66 t0.58 -0.32 l6.68 0 q0.28 0 0.49 0.21 t0.21 0.51 l0 1.46 q0 0.3 -0.21 0.51 t-0.49 0.21 l-3.36 0 l3.06 7.7 l4.02 -10.16 q0.08 -0.2 0.26 -0.32 t0.4 -0.12 l1.68 0 q0.18 0 0.34 0.09 t0.24 0.23 z"})})]})}),N.jsxs("p",{className:"text-sm text-foreground/70",children:[" ",n," Tous droits rservs."]}),N.jsxs("p",{className:"text-xs text-foreground/50 mt-1 flex items-center gap-1",children:[N.jsx("span",{children:"Made with"}),N.jsx(yt.span,{className:"inline-block text-red-500",animate:{scale:[1,1.1,1]},transition:{repeat:1/0,duration:2,repeatType:"loop"},children:N.jsx(LU,{className:"w-3 h-3 fill-current"})})]})]}),N.jsxs(yt.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:.1},viewport:{once:!0},className:"flex flex-col items-center md:items-start",children:[N.jsx("h3",{className:"font-medium text-foreground mb-4 text-sm uppercase tracking-wider",children:"Navigation"}),N.jsx("ul",{className:"space-y-2",children:t.map((i,r)=>N.jsx("li",{children:N.jsxs("a",{href:i.url,className:"text-foreground/70 hover:text-primary transition-colors duration-200 text-sm flex items-center gap-1 group",children:[N.jsx("span",{children:i.label}),N.jsx(mb,{className:"w-3 h-3 opacity-0 -translate-x-2 group-hover:opacity-100 group-hover:translate-x-0 transition-all duration-200"})]})},r))})]}),N.jsxs(yt.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:.2},viewport:{once:!0},className:"flex flex-col items-center md:items-start",children:[N.jsx("h3",{className:"font-medium text-foreground mb-4 text-sm uppercase tracking-wider",children:"Rseaux"}),N.jsx("div",{className:"grid grid-cols-2 gap-3",children:e.map((i,r)=>N.jsxs("a",{href:i.url,target:"_blank",rel:"noopener noreferrer","aria-label":i.label,className:"flex items-center gap-2 text-foreground/70 hover:text-primary transition-colors duration-200 text-sm group",children:[N.jsx("span",{className:"p-1.5 rounded-md bg-secondary/50 border border-border/30 group-hover:border-primary/30 transition-colors duration-200",children:i.icon}),N.jsx("span",{children:i.label})]},r))})]})]}),N.jsx("div",{className:"pt-4 border-t border-border/20",children:N.jsx("p",{className:"text-xs text-center text-foreground/50",children:"Conu et dvelopp avec React, Tailwind CSS et Framer Motion."})})]})]})},bk=({loading:n=!0,timeout:e=3e3})=>{const[t,i]=G.useState(!0),r=n&&t;return G.useEffect(()=>{if(r){const s=setTimeout(()=>{i(!1)},e);return()=>clearTimeout(s)}},[r,e]),null};/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const c1="176",Ua={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},ka={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},wb=0,Zy=1,Eb=2,Ck=3,Tb=0,u1=1,ph=2,kr=3,Zs=0,wi=1,as=2,Hs=0,Za=1,Ky=2,$y=3,Jy=4,Ab=5,bo=100,bb=101,Cb=102,Pb=103,Rb=104,Ib=200,Lb=201,Nb=202,Db=203,qp=204,Yp=205,Ub=206,kb=207,Ob=208,Fb=209,zb=210,Bb=211,Vb=212,Hb=213,Gb=214,Zp=0,Kp=1,$p=2,rl=3,Jp=4,Qp=5,em=6,tm=7,_f=0,Wb=1,jb=2,fs=0,Xb=1,qb=2,Yb=3,L3=4,Zb=5,Kb=6,$b=7,Qy="attached",Jb="detached",h1=300,Ks=301,Zo=302,Xh=303,qh=304,Qc=306,Yh=1e3,Mr=1001,Zh=1002,Yn=1003,N3=1004,Pk=1004,vc=1005,Rk=1005,Dn=1006,mh=1007,Ik=1007,ls=1008,Lk=1008,br=1009,D3=1010,U3=1011,zc=1012,f1=1013,$s=1014,zi=1015,eu=1016,d1=1017,p1=1018,Bc=1020,k3=35902,O3=1021,F3=1022,ui=1023,Vc=1026,Hc=1027,m1=1028,Sf=1029,z3=1030,g1=1031,Nk=1032,v1=1033,gh=33776,vh=33777,yh=33778,xh=33779,nm=35840,im=35841,rm=35842,sm=35843,om=36196,am=37492,lm=37496,cm=37808,um=37809,hm=37810,fm=37811,dm=37812,pm=37813,mm=37814,gm=37815,vm=37816,ym=37817,xm=37818,_m=37819,Sm=37820,Mm=37821,_h=36492,wm=36494,Em=36495,B3=36283,Tm=36284,Am=36285,bm=36286,Qb=2200,e8=2201,t8=2202,Kh=2300,Cm=2301,rp=2302,Wa=2400,ja=2401,$h=2402,y1=2500,V3=2501,Dk=0,Uk=1,kk=2,n8=3200,i8=3201,Ok=3202,Fk=3203,na=0,r8=1,Ns="",Ui="srgb",sl="srgb-linear",Jh="linear",qt="srgb",zk=0,Oa=7680,Bk=7681,Vk=7682,Hk=7683,Gk=34055,Wk=34056,jk=5386,Xk=512,qk=513,Yk=514,Zk=515,Kk=516,$k=517,Jk=518,ex=519,s8=512,o8=513,a8=514,H3=515,l8=516,c8=517,u8=518,h8=519,Qh=35044,Qk=35048,eO=35040,tO=35045,nO=35049,iO=35041,rO=35046,sO=35050,oO=35042,aO="100",tx="300 es",wr=2e3,ef=2001,lO={COMPUTE:"compute",RENDER:"render"},cO={PERSPECTIVE:"perspective",LINEAR:"linear",FLAT:"flat"},uO={NORMAL:"normal",CENTROID:"centroid",SAMPLE:"sample",FLAT_FIRST:"flat first",FLAT_EITHER:"flat either"};let ms=class{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){const i=this._listeners;return i===void 0?!1:i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){const i=this._listeners;if(i===void 0)return;const r=i[e];if(r!==void 0){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}dispatchEvent(e){const t=this._listeners;if(t===void 0)return;const i=t[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let s=0,o=r.length;s<o;s++)r[s].call(this,e);e.target=null}}};const si=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let Ew=1234567;const Ka=Math.PI/180,Gc=180/Math.PI;function nr(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(si[n&255]+si[n>>8&255]+si[n>>16&255]+si[n>>24&255]+"-"+si[e&255]+si[e>>8&255]+"-"+si[e>>16&15|64]+si[e>>24&255]+"-"+si[t&63|128]+si[t>>8&255]+"-"+si[t>>16&255]+si[t>>24&255]+si[i&255]+si[i>>8&255]+si[i>>16&255]+si[i>>24&255]).toLowerCase()}function xt(n,e,t){return Math.max(e,Math.min(t,n))}function G3(n,e){return(n%e+e)%e}function hO(n,e,t,i,r){return i+(n-e)*(r-i)/(t-e)}function fO(n,e,t){return n!==e?(t-n)/(e-n):0}function Sh(n,e,t){return(1-t)*n+t*e}function dO(n,e,t,i){return Sh(n,e,1-Math.exp(-t*i))}function pO(n,e=1){return e-Math.abs(G3(n,e*2)-e)}function mO(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function gO(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function vO(n,e){return n+Math.floor(Math.random()*(e-n+1))}function yO(n,e){return n+Math.random()*(e-n)}function xO(n){return n*(.5-Math.random())}function _O(n){n!==void 0&&(Ew=n);let e=Ew+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function SO(n){return n*Ka}function MO(n){return n*Gc}function wO(n){return(n&n-1)===0&&n!==0}function EO(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function TO(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function AO(n,e,t,i,r){const s=Math.cos,o=Math.sin,a=s(t/2),l=o(t/2),h=s((e+i)/2),f=o((e+i)/2),d=s((e-i)/2),p=o((e-i)/2),m=s((i-e)/2),y=o((i-e)/2);switch(r){case"XYX":n.set(a*f,l*d,l*p,a*h);break;case"YZY":n.set(l*p,a*f,l*d,a*h);break;case"ZXZ":n.set(l*d,l*p,a*f,a*h);break;case"XZX":n.set(a*f,l*y,l*m,a*h);break;case"YXY":n.set(l*m,a*f,l*y,a*h);break;case"ZYZ":n.set(l*y,l*m,a*f,a*h);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function Si(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function Et(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return Math.round(n*4294967295);case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int32Array:return Math.round(n*2147483647);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}const bO={DEG2RAD:Ka,RAD2DEG:Gc,generateUUID:nr,clamp:xt,euclideanModulo:G3,mapLinear:hO,inverseLerp:fO,lerp:Sh,damp:dO,pingpong:pO,smoothstep:mO,smootherstep:gO,randInt:vO,randFloat:yO,randFloatSpread:xO,seededRandom:_O,degToRad:SO,radToDeg:MO,isPowerOfTwo:wO,ceilPowerOfTwo:EO,floorPowerOfTwo:TO,setQuaternionFromProperEuler:AO,normalize:Et,denormalize:Si};class ge{constructor(e=0,t=0){ge.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,i=this.y,r=e.elements;return this.x=r[0]*t+r[3]*i+r[6],this.y=r[1]*t+r[4]*i+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=xt(this.x,e.x,t.x),this.y=xt(this.y,e.y,t.y),this}clampScalar(e,t){return this.x=xt(this.x,e,t),this.y=xt(this.y,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(xt(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(xt(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y;return t*t+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const i=Math.cos(t),r=Math.sin(t),s=this.x-e.x,o=this.y-e.y;return this.x=s*i-o*r+e.x,this.y=s*r+o*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Mt{constructor(e,t,i,r,s,o,a,l,h){Mt.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,i,r,s,o,a,l,h)}set(e,t,i,r,s,o,a,l,h){const f=this.elements;return f[0]=e,f[1]=r,f[2]=a,f[3]=t,f[4]=s,f[5]=l,f[6]=i,f[7]=o,f[8]=h,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],this}extractBasis(e,t,i){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,o=i[0],a=i[3],l=i[6],h=i[1],f=i[4],d=i[7],p=i[2],m=i[5],y=i[8],w=r[0],S=r[3],g=r[6],x=r[1],M=r[4],E=r[7],C=r[2],P=r[5],I=r[8];return s[0]=o*w+a*x+l*C,s[3]=o*S+a*M+l*P,s[6]=o*g+a*E+l*I,s[1]=h*w+f*x+d*C,s[4]=h*S+f*M+d*P,s[7]=h*g+f*E+d*I,s[2]=p*w+m*x+y*C,s[5]=p*S+m*M+y*P,s[8]=p*g+m*E+y*I,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],h=e[7],f=e[8];return t*o*f-t*a*h-i*s*f+i*a*l+r*s*h-r*o*l}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],h=e[7],f=e[8],d=f*o-a*h,p=a*l-f*s,m=h*s-o*l,y=t*d+i*p+r*m;if(y===0)return this.set(0,0,0,0,0,0,0,0,0);const w=1/y;return e[0]=d*w,e[1]=(r*h-f*i)*w,e[2]=(a*i-r*o)*w,e[3]=p*w,e[4]=(f*t-r*l)*w,e[5]=(r*s-a*t)*w,e[6]=m*w,e[7]=(i*l-h*t)*w,e[8]=(o*t-i*s)*w,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,i,r,s,o,a){const l=Math.cos(s),h=Math.sin(s);return this.set(i*l,i*h,-i*(l*o+h*a)+o+e,-r*h,r*l,-r*(-h*o+l*a)+a+t,0,0,1),this}scale(e,t){return this.premultiply(Vv.makeScale(e,t)),this}rotate(e){return this.premultiply(Vv.makeRotation(-e)),this}translate(e,t){return this.premultiply(Vv.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,i,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<9;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<9;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const Vv=new Mt;function f8(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const CO={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function yc(n,e){return new CO[n](e)}function tf(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function d8(){const n=tf("canvas");return n.style.display="block",n}const Tw={};function sp(n){n in Tw||(Tw[n]=!0,console.warn(n))}function PO(n,e,t){return new Promise(function(i,r){function s(){switch(n.clientWaitSync(e,n.SYNC_FLUSH_COMMANDS_BIT,0)){case n.WAIT_FAILED:r();break;case n.TIMEOUT_EXPIRED:setTimeout(s,t);break;default:i()}}setTimeout(s,t)})}function RO(n){const e=n.elements;e[2]=.5*e[2]+.5*e[3],e[6]=.5*e[6]+.5*e[7],e[10]=.5*e[10]+.5*e[11],e[14]=.5*e[14]+.5*e[15]}function IO(n){const e=n.elements;e[11]===-1?(e[10]=-e[10]-1,e[14]=-e[14]):(e[10]=-e[10],e[14]=-e[14]+1)}const Aw=new Mt().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),bw=new Mt().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function LO(){const n={enabled:!0,workingColorSpace:sl,spaces:{},convert:function(r,s,o){return this.enabled===!1||s===o||!s||!o||(this.spaces[s].transfer===qt&&(r.r=Gs(r.r),r.g=Gs(r.g),r.b=Gs(r.b)),this.spaces[s].primaries!==this.spaces[o].primaries&&(r.applyMatrix3(this.spaces[s].toXYZ),r.applyMatrix3(this.spaces[o].fromXYZ)),this.spaces[o].transfer===qt&&(r.r=Cc(r.r),r.g=Cc(r.g),r.b=Cc(r.b))),r},fromWorkingColorSpace:function(r,s){return this.convert(r,this.workingColorSpace,s)},toWorkingColorSpace:function(r,s){return this.convert(r,s,this.workingColorSpace)},getPrimaries:function(r){return this.spaces[r].primaries},getTransfer:function(r){return r===Ns?Jh:this.spaces[r].transfer},getLuminanceCoefficients:function(r,s=this.workingColorSpace){return r.fromArray(this.spaces[s].luminanceCoefficients)},define:function(r){Object.assign(this.spaces,r)},_getMatrix:function(r,s,o){return r.copy(this.spaces[s].toXYZ).multiply(this.spaces[o].fromXYZ)},_getDrawingBufferColorSpace:function(r){return this.spaces[r].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(r=this.workingColorSpace){return this.spaces[r].workingColorSpaceConfig.unpackColorSpace}},e=[.64,.33,.3,.6,.15,.06],t=[.2126,.7152,.0722],i=[.3127,.329];return n.define({[sl]:{primaries:e,whitePoint:i,transfer:Jh,toXYZ:Aw,fromXYZ:bw,luminanceCoefficients:t,workingColorSpaceConfig:{unpackColorSpace:Ui},outputColorSpaceConfig:{drawingBufferColorSpace:Ui}},[Ui]:{primaries:e,whitePoint:i,transfer:qt,toXYZ:Aw,fromXYZ:bw,luminanceCoefficients:t,outputColorSpaceConfig:{drawingBufferColorSpace:Ui}}}),n}const Ft=LO();function Gs(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function Cc(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}let Nl;class p8{static getDataURL(e,t="image/png"){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let i;if(e instanceof HTMLCanvasElement)i=e;else{Nl===void 0&&(Nl=tf("canvas")),Nl.width=e.width,Nl.height=e.height;const r=Nl.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),i=Nl}return i.toDataURL(t)}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=tf("canvas");t.width=e.width,t.height=e.height;const i=t.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const r=i.getImageData(0,0,e.width,e.height),s=r.data;for(let o=0;o<s.length;o++)s[o]=Gs(s[o]/255)*255;return i.putImageData(r,0,0),t}else if(e.data){const t=e.data.slice(0);for(let i=0;i<t.length;i++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[i]=Math.floor(Gs(t[i]/255)*255):t[i]=Gs(t[i]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let NO=0;class Io{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:NO++}),this.uuid=nr(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const i={uuid:this.uuid,url:""},r=this.data;if(r!==null){let s;if(Array.isArray(r)){s=[];for(let o=0,a=r.length;o<a;o++)r[o].isDataTexture?s.push(Hv(r[o].image)):s.push(Hv(r[o]))}else s=Hv(r);i.url=s}return t||(e.images[this.uuid]=i),i}}function Hv(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?p8.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let DO=0;class yn extends ms{constructor(e=yn.DEFAULT_IMAGE,t=yn.DEFAULT_MAPPING,i=Mr,r=Mr,s=Dn,o=ls,a=ui,l=br,h=yn.DEFAULT_ANISOTROPY,f=Ns){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:DO++}),this.uuid=nr(),this.name="",this.source=new Io(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=i,this.wrapT=r,this.magFilter=s,this.minFilter=o,this.anisotropy=h,this.format=a,this.internalFormat=null,this.type=l,this.offset=new ge(0,0),this.repeat=new ge(1,1),this.center=new ge(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Mt,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=f,this.userData={},this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isTextureArray=!1,this.pmremVersion=0}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.isTextureArray=e.isTextureArray,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),t||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==h1)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Yh:e.x=e.x-Math.floor(e.x);break;case Mr:e.x=e.x<0?0:1;break;case Zh:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Yh:e.y=e.y-Math.floor(e.y);break;case Mr:e.y=e.y<0?0:1;break;case Zh:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}yn.DEFAULT_IMAGE=null;yn.DEFAULT_MAPPING=h1;yn.DEFAULT_ANISOTROPY=1;class Bt{constructor(e=0,t=0,i=0,r=1){Bt.prototype.isVector4=!0,this.x=e,this.y=t,this.z=i,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,i,r){return this.x=e,this.y=t,this.z=i,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=this.w,o=e.elements;return this.x=o[0]*t+o[4]*i+o[8]*r+o[12]*s,this.y=o[1]*t+o[5]*i+o[9]*r+o[13]*s,this.z=o[2]*t+o[6]*i+o[10]*r+o[14]*s,this.w=o[3]*t+o[7]*i+o[11]*r+o[15]*s,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,i,r,s;const l=e.elements,h=l[0],f=l[4],d=l[8],p=l[1],m=l[5],y=l[9],w=l[2],S=l[6],g=l[10];if(Math.abs(f-p)<.01&&Math.abs(d-w)<.01&&Math.abs(y-S)<.01){if(Math.abs(f+p)<.1&&Math.abs(d+w)<.1&&Math.abs(y+S)<.1&&Math.abs(h+m+g-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const M=(h+1)/2,E=(m+1)/2,C=(g+1)/2,P=(f+p)/4,I=(d+w)/4,L=(y+S)/4;return M>E&&M>C?M<.01?(i=0,r=.707106781,s=.707106781):(i=Math.sqrt(M),r=P/i,s=I/i):E>C?E<.01?(i=.707106781,r=0,s=.707106781):(r=Math.sqrt(E),i=P/r,s=L/r):C<.01?(i=.707106781,r=.707106781,s=0):(s=Math.sqrt(C),i=I/s,r=L/s),this.set(i,r,s,t),this}let x=Math.sqrt((S-y)*(S-y)+(d-w)*(d-w)+(p-f)*(p-f));return Math.abs(x)<.001&&(x=1),this.x=(S-y)/x,this.y=(d-w)/x,this.z=(p-f)/x,this.w=Math.acos((h+m+g-1)/2),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=xt(this.x,e.x,t.x),this.y=xt(this.y,e.y,t.y),this.z=xt(this.z,e.z,t.z),this.w=xt(this.w,e.w,t.w),this}clampScalar(e,t){return this.x=xt(this.x,e,t),this.y=xt(this.y,e,t),this.z=xt(this.z,e,t),this.w=xt(this.w,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(xt(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this.w=e.w+(t.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class x1 extends ms{constructor(e=1,t=1,i={}){super(),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=i.depth?i.depth:1,this.scissor=new Bt(0,0,e,t),this.scissorTest=!1,this.viewport=new Bt(0,0,e,t);const r={width:e,height:t,depth:this.depth};i=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Dn,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,multiview:!1},i);const s=new yn(r,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.colorSpace);s.flipY=!1,s.generateMipmaps=i.generateMipmaps,s.internalFormat=i.internalFormat,this.textures=[];const o=i.count;for(let a=0;a<o;a++)this.textures[a]=s.clone(),this.textures[a].isRenderTargetTexture=!0,this.textures[a].renderTarget=this;this.depthBuffer=i.depthBuffer,this.stencilBuffer=i.stencilBuffer,this.resolveDepthBuffer=i.resolveDepthBuffer,this.resolveStencilBuffer=i.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=i.depthTexture,this.samples=i.samples,this.multiview=i.multiview}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,t,i=1){if(this.width!==e||this.height!==t||this.depth!==i){this.width=e,this.height=t,this.depth=i;for(let r=0,s=this.textures.length;r<s;r++)this.textures[r].image.width=e,this.textures[r].image.height=t,this.textures[r].image.depth=i;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let t=0,i=e.textures.length;t<i;t++){this.textures[t]=e.textures[t].clone(),this.textures[t].isRenderTargetTexture=!0,this.textures[t].renderTarget=this;const r=Object.assign({},e.textures[t].image);this.textures[t].source=new Io(r)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class ps extends x1{constructor(e=1,t=1,i={}){super(e,t,i),this.isWebGLRenderTarget=!0}}class Mf extends yn{constructor(e=null,t=1,i=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=Yn,this.minFilter=Yn,this.wrapR=Mr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class UO extends ps{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isWebGLArrayRenderTarget=!0,this.depth=i,this.texture=new Mf(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class _1 extends yn{constructor(e=null,t=1,i=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=Yn,this.minFilter=Yn,this.wrapR=Mr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class kO extends ps{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isWebGL3DRenderTarget=!0,this.depth=i,this.texture=new _1(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class hi{constructor(e=0,t=0,i=0,r=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=i,this._w=r}static slerpFlat(e,t,i,r,s,o,a){let l=i[r+0],h=i[r+1],f=i[r+2],d=i[r+3];const p=s[o+0],m=s[o+1],y=s[o+2],w=s[o+3];if(a===0){e[t+0]=l,e[t+1]=h,e[t+2]=f,e[t+3]=d;return}if(a===1){e[t+0]=p,e[t+1]=m,e[t+2]=y,e[t+3]=w;return}if(d!==w||l!==p||h!==m||f!==y){let S=1-a;const g=l*p+h*m+f*y+d*w,x=g>=0?1:-1,M=1-g*g;if(M>Number.EPSILON){const C=Math.sqrt(M),P=Math.atan2(C,g*x);S=Math.sin(S*P)/C,a=Math.sin(a*P)/C}const E=a*x;if(l=l*S+p*E,h=h*S+m*E,f=f*S+y*E,d=d*S+w*E,S===1-a){const C=1/Math.sqrt(l*l+h*h+f*f+d*d);l*=C,h*=C,f*=C,d*=C}}e[t]=l,e[t+1]=h,e[t+2]=f,e[t+3]=d}static multiplyQuaternionsFlat(e,t,i,r,s,o){const a=i[r],l=i[r+1],h=i[r+2],f=i[r+3],d=s[o],p=s[o+1],m=s[o+2],y=s[o+3];return e[t]=a*y+f*d+l*m-h*p,e[t+1]=l*y+f*p+h*d-a*m,e[t+2]=h*y+f*m+a*p-l*d,e[t+3]=f*y-a*d-l*p-h*m,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,i,r){return this._x=e,this._y=t,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const i=e._x,r=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,h=a(i/2),f=a(r/2),d=a(s/2),p=l(i/2),m=l(r/2),y=l(s/2);switch(o){case"XYZ":this._x=p*f*d+h*m*y,this._y=h*m*d-p*f*y,this._z=h*f*y+p*m*d,this._w=h*f*d-p*m*y;break;case"YXZ":this._x=p*f*d+h*m*y,this._y=h*m*d-p*f*y,this._z=h*f*y-p*m*d,this._w=h*f*d+p*m*y;break;case"ZXY":this._x=p*f*d-h*m*y,this._y=h*m*d+p*f*y,this._z=h*f*y+p*m*d,this._w=h*f*d-p*m*y;break;case"ZYX":this._x=p*f*d-h*m*y,this._y=h*m*d+p*f*y,this._z=h*f*y-p*m*d,this._w=h*f*d+p*m*y;break;case"YZX":this._x=p*f*d+h*m*y,this._y=h*m*d+p*f*y,this._z=h*f*y-p*m*d,this._w=h*f*d-p*m*y;break;case"XZY":this._x=p*f*d-h*m*y,this._y=h*m*d-p*f*y,this._z=h*f*y+p*m*d,this._w=h*f*d+p*m*y;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const i=t/2,r=Math.sin(i);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,i=t[0],r=t[4],s=t[8],o=t[1],a=t[5],l=t[9],h=t[2],f=t[6],d=t[10],p=i+a+d;if(p>0){const m=.5/Math.sqrt(p+1);this._w=.25/m,this._x=(f-l)*m,this._y=(s-h)*m,this._z=(o-r)*m}else if(i>a&&i>d){const m=2*Math.sqrt(1+i-a-d);this._w=(f-l)/m,this._x=.25*m,this._y=(r+o)/m,this._z=(s+h)/m}else if(a>d){const m=2*Math.sqrt(1+a-i-d);this._w=(s-h)/m,this._x=(r+o)/m,this._y=.25*m,this._z=(l+f)/m}else{const m=2*Math.sqrt(1+d-i-a);this._w=(o-r)/m,this._x=(s+h)/m,this._y=(l+f)/m,this._z=.25*m}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let i=e.dot(t)+1;return i<Number.EPSILON?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(xt(this.dot(e),-1,1)))}rotateTowards(e,t){const i=this.angleTo(e);if(i===0)return this;const r=Math.min(1,t/i);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const i=e._x,r=e._y,s=e._z,o=e._w,a=t._x,l=t._y,h=t._z,f=t._w;return this._x=i*f+o*a+r*h-s*l,this._y=r*f+o*l+s*a-i*h,this._z=s*f+o*h+i*l-r*a,this._w=o*f-i*a-r*l-s*h,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const i=this._x,r=this._y,s=this._z,o=this._w;let a=o*e._w+i*e._x+r*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=i,this._y=r,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const m=1-t;return this._w=m*o+t*this._w,this._x=m*i+t*this._x,this._y=m*r+t*this._y,this._z=m*s+t*this._z,this.normalize(),this}const h=Math.sqrt(l),f=Math.atan2(h,a),d=Math.sin((1-t)*f)/h,p=Math.sin(t*f)/h;return this._w=o*d+this._w*p,this._x=i*d+this._x*p,this._y=r*d+this._y*p,this._z=s*d+this._z*p,this._onChangeCallback(),this}slerpQuaternions(e,t,i){return this.copy(e).slerp(t,i)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),i=Math.random(),r=Math.sqrt(1-i),s=Math.sqrt(i);return this.set(r*Math.sin(e),r*Math.cos(e),s*Math.sin(t),s*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class B{constructor(e=0,t=0,i=0){B.prototype.isVector3=!0,this.x=e,this.y=t,this.z=i}set(e,t,i){return i===void 0&&(i=this.z),this.x=e,this.y=t,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(Cw.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(Cw.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[3]*i+s[6]*r,this.y=s[1]*t+s[4]*i+s[7]*r,this.z=s[2]*t+s[5]*i+s[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=e.elements,o=1/(s[3]*t+s[7]*i+s[11]*r+s[15]);return this.x=(s[0]*t+s[4]*i+s[8]*r+s[12])*o,this.y=(s[1]*t+s[5]*i+s[9]*r+s[13])*o,this.z=(s[2]*t+s[6]*i+s[10]*r+s[14])*o,this}applyQuaternion(e){const t=this.x,i=this.y,r=this.z,s=e.x,o=e.y,a=e.z,l=e.w,h=2*(o*r-a*i),f=2*(a*t-s*r),d=2*(s*i-o*t);return this.x=t+l*h+o*d-a*f,this.y=i+l*f+a*h-s*d,this.z=r+l*d+s*f-o*h,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[4]*i+s[8]*r,this.y=s[1]*t+s[5]*i+s[9]*r,this.z=s[2]*t+s[6]*i+s[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=xt(this.x,e.x,t.x),this.y=xt(this.y,e.y,t.y),this.z=xt(this.z,e.z,t.z),this}clampScalar(e,t){return this.x=xt(this.x,e,t),this.y=xt(this.y,e,t),this.z=xt(this.z,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(xt(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const i=e.x,r=e.y,s=e.z,o=t.x,a=t.y,l=t.z;return this.x=r*l-s*a,this.y=s*o-i*l,this.z=i*a-r*o,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const i=e.dot(this)/t;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return Gv.copy(this).projectOnVector(e),this.sub(Gv)}reflect(e){return this.sub(Gv.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(xt(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return t*t+i*i+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,i){const r=Math.sin(t)*e;return this.x=r*Math.sin(i),this.y=Math.cos(t)*e,this.z=r*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,i){return this.x=e*Math.sin(t),this.y=i,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=i,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=Math.random()*2-1,i=Math.sqrt(1-t*t);return this.x=i*Math.cos(e),this.y=t,this.z=i*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const Gv=new B,Cw=new hi;class fi{constructor(e=new B(1/0,1/0,1/0),t=new B(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t+=3)this.expandByPoint(Lr.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,i=e.count;t<i;t++)this.expandByPoint(Lr.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=Lr.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const i=e.geometry;if(i!==void 0){const s=i.getAttribute("position");if(t===!0&&s!==void 0&&e.isInstancedMesh!==!0)for(let o=0,a=s.count;o<a;o++)e.isMesh===!0?e.getVertexPosition(o,Lr):Lr.fromBufferAttribute(s,o),Lr.applyMatrix4(e.matrixWorld),this.expandByPoint(Lr);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),Kd.copy(e.boundingBox)):(i.boundingBox===null&&i.computeBoundingBox(),Kd.copy(i.boundingBox)),Kd.applyMatrix4(e.matrixWorld),this.union(Kd)}const r=e.children;for(let s=0,o=r.length;s<o;s++)this.expandByObject(r[s],t);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,Lr),Lr.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,i;return e.normal.x>0?(t=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),t<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Lu),$d.subVectors(this.max,Lu),Dl.subVectors(e.a,Lu),Ul.subVectors(e.b,Lu),kl.subVectors(e.c,Lu),fo.subVectors(Ul,Dl),po.subVectors(kl,Ul),va.subVectors(Dl,kl);let t=[0,-fo.z,fo.y,0,-po.z,po.y,0,-va.z,va.y,fo.z,0,-fo.x,po.z,0,-po.x,va.z,0,-va.x,-fo.y,fo.x,0,-po.y,po.x,0,-va.y,va.x,0];return!Wv(t,Dl,Ul,kl,$d)||(t=[1,0,0,0,1,0,0,0,1],!Wv(t,Dl,Ul,kl,$d))?!1:(Jd.crossVectors(fo,po),t=[Jd.x,Jd.y,Jd.z],Wv(t,Dl,Ul,kl,$d))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Lr).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Lr).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Es[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Es[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Es[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Es[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Es[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Es[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Es[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Es[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Es),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Es=[new B,new B,new B,new B,new B,new B,new B,new B],Lr=new B,Kd=new fi,Dl=new B,Ul=new B,kl=new B,fo=new B,po=new B,va=new B,Lu=new B,$d=new B,Jd=new B,ya=new B;function Wv(n,e,t,i,r){for(let s=0,o=n.length-3;s<=o;s+=3){ya.fromArray(n,s);const a=r.x*Math.abs(ya.x)+r.y*Math.abs(ya.y)+r.z*Math.abs(ya.z),l=e.dot(ya),h=t.dot(ya),f=i.dot(ya);if(Math.max(-Math.max(l,h,f),Math.min(l,h,f))>a)return!1}return!0}const OO=new fi,Nu=new B,jv=new B;class Zn{constructor(e=new B,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const i=this.center;t!==void 0?i.copy(t):OO.setFromPoints(e).getCenter(i);let r=0;for(let s=0,o=e.length;s<o;s++)r=Math.max(r,i.distanceToSquared(e[s]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const i=this.center.distanceToSquared(e);return t.copy(e),i>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Nu.subVectors(e,this.center);const t=Nu.lengthSq();if(t>this.radius*this.radius){const i=Math.sqrt(t),r=(i-this.radius)*.5;this.center.addScaledVector(Nu,r/i),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(jv.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Nu.copy(e.center).add(jv)),this.expandByPoint(Nu.copy(e.center).sub(jv))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Ts=new B,Xv=new B,Qd=new B,mo=new B,qv=new B,e0=new B,Yv=new B;class dl{constructor(e=new B,t=new B(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Ts)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const i=t.dot(this.direction);return i<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Ts.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Ts.copy(this.origin).addScaledVector(this.direction,t),Ts.distanceToSquared(e))}distanceSqToSegment(e,t,i,r){Xv.copy(e).add(t).multiplyScalar(.5),Qd.copy(t).sub(e).normalize(),mo.copy(this.origin).sub(Xv);const s=e.distanceTo(t)*.5,o=-this.direction.dot(Qd),a=mo.dot(this.direction),l=-mo.dot(Qd),h=mo.lengthSq(),f=Math.abs(1-o*o);let d,p,m,y;if(f>0)if(d=o*l-a,p=o*a-l,y=s*f,d>=0)if(p>=-y)if(p<=y){const w=1/f;d*=w,p*=w,m=d*(d+o*p+2*a)+p*(o*d+p+2*l)+h}else p=s,d=Math.max(0,-(o*p+a)),m=-d*d+p*(p+2*l)+h;else p=-s,d=Math.max(0,-(o*p+a)),m=-d*d+p*(p+2*l)+h;else p<=-y?(d=Math.max(0,-(-o*s+a)),p=d>0?-s:Math.min(Math.max(-s,-l),s),m=-d*d+p*(p+2*l)+h):p<=y?(d=0,p=Math.min(Math.max(-s,-l),s),m=p*(p+2*l)+h):(d=Math.max(0,-(o*s+a)),p=d>0?s:Math.min(Math.max(-s,-l),s),m=-d*d+p*(p+2*l)+h);else p=o>0?-s:s,d=Math.max(0,-(o*p+a)),m=-d*d+p*(p+2*l)+h;return i&&i.copy(this.origin).addScaledVector(this.direction,d),r&&r.copy(Xv).addScaledVector(Qd,p),m}intersectSphere(e,t){Ts.subVectors(e.center,this.origin);const i=Ts.dot(this.direction),r=Ts.dot(Ts)-i*i,s=e.radius*e.radius;if(r>s)return null;const o=Math.sqrt(s-r),a=i-o,l=i+o;return l<0?null:a<0?this.at(l,t):this.at(a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/t;return i>=0?i:null}intersectPlane(e,t){const i=this.distanceToPlane(e);return i===null?null:this.at(i,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let i,r,s,o,a,l;const h=1/this.direction.x,f=1/this.direction.y,d=1/this.direction.z,p=this.origin;return h>=0?(i=(e.min.x-p.x)*h,r=(e.max.x-p.x)*h):(i=(e.max.x-p.x)*h,r=(e.min.x-p.x)*h),f>=0?(s=(e.min.y-p.y)*f,o=(e.max.y-p.y)*f):(s=(e.max.y-p.y)*f,o=(e.min.y-p.y)*f),i>o||s>r||((s>i||isNaN(i))&&(i=s),(o<r||isNaN(r))&&(r=o),d>=0?(a=(e.min.z-p.z)*d,l=(e.max.z-p.z)*d):(a=(e.max.z-p.z)*d,l=(e.min.z-p.z)*d),i>l||a>r)||((a>i||i!==i)&&(i=a),(l<r||r!==r)&&(r=l),r<0)?null:this.at(i>=0?i:r,t)}intersectsBox(e){return this.intersectBox(e,Ts)!==null}intersectTriangle(e,t,i,r,s){qv.subVectors(t,e),e0.subVectors(i,e),Yv.crossVectors(qv,e0);let o=this.direction.dot(Yv),a;if(o>0){if(r)return null;a=1}else if(o<0)a=-1,o=-o;else return null;mo.subVectors(this.origin,e);const l=a*this.direction.dot(e0.crossVectors(mo,e0));if(l<0)return null;const h=a*this.direction.dot(qv.cross(mo));if(h<0||l+h>o)return null;const f=-a*mo.dot(Yv);return f<0?null:this.at(f/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class gt{constructor(e,t,i,r,s,o,a,l,h,f,d,p,m,y,w,S){gt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,i,r,s,o,a,l,h,f,d,p,m,y,w,S)}set(e,t,i,r,s,o,a,l,h,f,d,p,m,y,w,S){const g=this.elements;return g[0]=e,g[4]=t,g[8]=i,g[12]=r,g[1]=s,g[5]=o,g[9]=a,g[13]=l,g[2]=h,g[6]=f,g[10]=d,g[14]=p,g[3]=m,g[7]=y,g[11]=w,g[15]=S,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new gt().fromArray(this.elements)}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],this}copyPosition(e){const t=this.elements,i=e.elements;return t[12]=i[12],t[13]=i[13],t[14]=i[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,i){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,t,i){return this.set(e.x,t.x,i.x,0,e.y,t.y,i.y,0,e.z,t.z,i.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,i=e.elements,r=1/Ol.setFromMatrixColumn(e,0).length(),s=1/Ol.setFromMatrixColumn(e,1).length(),o=1/Ol.setFromMatrixColumn(e,2).length();return t[0]=i[0]*r,t[1]=i[1]*r,t[2]=i[2]*r,t[3]=0,t[4]=i[4]*s,t[5]=i[5]*s,t[6]=i[6]*s,t[7]=0,t[8]=i[8]*o,t[9]=i[9]*o,t[10]=i[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,i=e.x,r=e.y,s=e.z,o=Math.cos(i),a=Math.sin(i),l=Math.cos(r),h=Math.sin(r),f=Math.cos(s),d=Math.sin(s);if(e.order==="XYZ"){const p=o*f,m=o*d,y=a*f,w=a*d;t[0]=l*f,t[4]=-l*d,t[8]=h,t[1]=m+y*h,t[5]=p-w*h,t[9]=-a*l,t[2]=w-p*h,t[6]=y+m*h,t[10]=o*l}else if(e.order==="YXZ"){const p=l*f,m=l*d,y=h*f,w=h*d;t[0]=p+w*a,t[4]=y*a-m,t[8]=o*h,t[1]=o*d,t[5]=o*f,t[9]=-a,t[2]=m*a-y,t[6]=w+p*a,t[10]=o*l}else if(e.order==="ZXY"){const p=l*f,m=l*d,y=h*f,w=h*d;t[0]=p-w*a,t[4]=-o*d,t[8]=y+m*a,t[1]=m+y*a,t[5]=o*f,t[9]=w-p*a,t[2]=-o*h,t[6]=a,t[10]=o*l}else if(e.order==="ZYX"){const p=o*f,m=o*d,y=a*f,w=a*d;t[0]=l*f,t[4]=y*h-m,t[8]=p*h+w,t[1]=l*d,t[5]=w*h+p,t[9]=m*h-y,t[2]=-h,t[6]=a*l,t[10]=o*l}else if(e.order==="YZX"){const p=o*l,m=o*h,y=a*l,w=a*h;t[0]=l*f,t[4]=w-p*d,t[8]=y*d+m,t[1]=d,t[5]=o*f,t[9]=-a*f,t[2]=-h*f,t[6]=m*d+y,t[10]=p-w*d}else if(e.order==="XZY"){const p=o*l,m=o*h,y=a*l,w=a*h;t[0]=l*f,t[4]=-d,t[8]=h*f,t[1]=p*d+w,t[5]=o*f,t[9]=m*d-y,t[2]=y*d-m,t[6]=a*f,t[10]=w*d+p}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(FO,e,zO)}lookAt(e,t,i){const r=this.elements;return Ki.subVectors(e,t),Ki.lengthSq()===0&&(Ki.z=1),Ki.normalize(),go.crossVectors(i,Ki),go.lengthSq()===0&&(Math.abs(i.z)===1?Ki.x+=1e-4:Ki.z+=1e-4,Ki.normalize(),go.crossVectors(i,Ki)),go.normalize(),t0.crossVectors(Ki,go),r[0]=go.x,r[4]=t0.x,r[8]=Ki.x,r[1]=go.y,r[5]=t0.y,r[9]=Ki.y,r[2]=go.z,r[6]=t0.z,r[10]=Ki.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,o=i[0],a=i[4],l=i[8],h=i[12],f=i[1],d=i[5],p=i[9],m=i[13],y=i[2],w=i[6],S=i[10],g=i[14],x=i[3],M=i[7],E=i[11],C=i[15],P=r[0],I=r[4],L=r[8],R=r[12],A=r[1],k=r[5],X=r[9],q=r[13],ne=r[2],se=r[6],te=r[10],le=r[14],U=r[3],W=r[7],H=r[11],Z=r[15];return s[0]=o*P+a*A+l*ne+h*U,s[4]=o*I+a*k+l*se+h*W,s[8]=o*L+a*X+l*te+h*H,s[12]=o*R+a*q+l*le+h*Z,s[1]=f*P+d*A+p*ne+m*U,s[5]=f*I+d*k+p*se+m*W,s[9]=f*L+d*X+p*te+m*H,s[13]=f*R+d*q+p*le+m*Z,s[2]=y*P+w*A+S*ne+g*U,s[6]=y*I+w*k+S*se+g*W,s[10]=y*L+w*X+S*te+g*H,s[14]=y*R+w*q+S*le+g*Z,s[3]=x*P+M*A+E*ne+C*U,s[7]=x*I+M*k+E*se+C*W,s[11]=x*L+M*X+E*te+C*H,s[15]=x*R+M*q+E*le+C*Z,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[4],r=e[8],s=e[12],o=e[1],a=e[5],l=e[9],h=e[13],f=e[2],d=e[6],p=e[10],m=e[14],y=e[3],w=e[7],S=e[11],g=e[15];return y*(+s*l*d-r*h*d-s*a*p+i*h*p+r*a*m-i*l*m)+w*(+t*l*m-t*h*p+s*o*p-r*o*m+r*h*f-s*l*f)+S*(+t*h*d-t*a*m-s*o*d+i*o*m+s*a*f-i*h*f)+g*(-r*a*f-t*l*d+t*a*p+r*o*d-i*o*p+i*l*f)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,i){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=i),this}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],h=e[7],f=e[8],d=e[9],p=e[10],m=e[11],y=e[12],w=e[13],S=e[14],g=e[15],x=d*S*h-w*p*h+w*l*m-a*S*m-d*l*g+a*p*g,M=y*p*h-f*S*h-y*l*m+o*S*m+f*l*g-o*p*g,E=f*w*h-y*d*h+y*a*m-o*w*m-f*a*g+o*d*g,C=y*d*l-f*w*l-y*a*p+o*w*p+f*a*S-o*d*S,P=t*x+i*M+r*E+s*C;if(P===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const I=1/P;return e[0]=x*I,e[1]=(w*p*s-d*S*s-w*r*m+i*S*m+d*r*g-i*p*g)*I,e[2]=(a*S*s-w*l*s+w*r*h-i*S*h-a*r*g+i*l*g)*I,e[3]=(d*l*s-a*p*s-d*r*h+i*p*h+a*r*m-i*l*m)*I,e[4]=M*I,e[5]=(f*S*s-y*p*s+y*r*m-t*S*m-f*r*g+t*p*g)*I,e[6]=(y*l*s-o*S*s-y*r*h+t*S*h+o*r*g-t*l*g)*I,e[7]=(o*p*s-f*l*s+f*r*h-t*p*h-o*r*m+t*l*m)*I,e[8]=E*I,e[9]=(y*d*s-f*w*s-y*i*m+t*w*m+f*i*g-t*d*g)*I,e[10]=(o*w*s-y*a*s+y*i*h-t*w*h-o*i*g+t*a*g)*I,e[11]=(f*a*s-o*d*s-f*i*h+t*d*h+o*i*m-t*a*m)*I,e[12]=C*I,e[13]=(f*w*r-y*d*r+y*i*p-t*w*p-f*i*S+t*d*S)*I,e[14]=(y*a*r-o*w*r-y*i*l+t*w*l+o*i*S-t*a*S)*I,e[15]=(o*d*r-f*a*r+f*i*l-t*d*l-o*i*p+t*a*p)*I,this}scale(e){const t=this.elements,i=e.x,r=e.y,s=e.z;return t[0]*=i,t[4]*=r,t[8]*=s,t[1]*=i,t[5]*=r,t[9]*=s,t[2]*=i,t[6]*=r,t[10]*=s,t[3]*=i,t[7]*=r,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,i,r))}makeTranslation(e,t,i){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,i,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,t,-i,0,0,i,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,0,i,0,0,1,0,0,-i,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const i=Math.cos(t),r=Math.sin(t),s=1-i,o=e.x,a=e.y,l=e.z,h=s*o,f=s*a;return this.set(h*o+i,h*a-r*l,h*l+r*a,0,h*a+r*l,f*a+i,f*l-r*o,0,h*l-r*a,f*l+r*o,s*l*l+i,0,0,0,0,1),this}makeScale(e,t,i){return this.set(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,t,i,r,s,o){return this.set(1,i,s,0,e,1,o,0,t,r,1,0,0,0,0,1),this}compose(e,t,i){const r=this.elements,s=t._x,o=t._y,a=t._z,l=t._w,h=s+s,f=o+o,d=a+a,p=s*h,m=s*f,y=s*d,w=o*f,S=o*d,g=a*d,x=l*h,M=l*f,E=l*d,C=i.x,P=i.y,I=i.z;return r[0]=(1-(w+g))*C,r[1]=(m+E)*C,r[2]=(y-M)*C,r[3]=0,r[4]=(m-E)*P,r[5]=(1-(p+g))*P,r[6]=(S+x)*P,r[7]=0,r[8]=(y+M)*I,r[9]=(S-x)*I,r[10]=(1-(p+w))*I,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,i){const r=this.elements;let s=Ol.set(r[0],r[1],r[2]).length();const o=Ol.set(r[4],r[5],r[6]).length(),a=Ol.set(r[8],r[9],r[10]).length();this.determinant()<0&&(s=-s),e.x=r[12],e.y=r[13],e.z=r[14],Nr.copy(this);const h=1/s,f=1/o,d=1/a;return Nr.elements[0]*=h,Nr.elements[1]*=h,Nr.elements[2]*=h,Nr.elements[4]*=f,Nr.elements[5]*=f,Nr.elements[6]*=f,Nr.elements[8]*=d,Nr.elements[9]*=d,Nr.elements[10]*=d,t.setFromRotationMatrix(Nr),i.x=s,i.y=o,i.z=a,this}makePerspective(e,t,i,r,s,o,a=wr){const l=this.elements,h=2*s/(t-e),f=2*s/(i-r),d=(t+e)/(t-e),p=(i+r)/(i-r);let m,y;if(a===wr)m=-(o+s)/(o-s),y=-2*o*s/(o-s);else if(a===ef)m=-o/(o-s),y=-o*s/(o-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);return l[0]=h,l[4]=0,l[8]=d,l[12]=0,l[1]=0,l[5]=f,l[9]=p,l[13]=0,l[2]=0,l[6]=0,l[10]=m,l[14]=y,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,t,i,r,s,o,a=wr){const l=this.elements,h=1/(t-e),f=1/(i-r),d=1/(o-s),p=(t+e)*h,m=(i+r)*f;let y,w;if(a===wr)y=(o+s)*d,w=-2*d;else if(a===ef)y=s*d,w=-1*d;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);return l[0]=2*h,l[4]=0,l[8]=0,l[12]=-p,l[1]=0,l[5]=2*f,l[9]=0,l[13]=-m,l[2]=0,l[6]=0,l[10]=w,l[14]=-y,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<16;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<16;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e[t+9]=i[9],e[t+10]=i[10],e[t+11]=i[11],e[t+12]=i[12],e[t+13]=i[13],e[t+14]=i[14],e[t+15]=i[15],e}}const Ol=new B,Nr=new gt,FO=new B(0,0,0),zO=new B(1,1,1),go=new B,t0=new B,Ki=new B,Pw=new gt,Rw=new hi;class sr{constructor(e=0,t=0,i=0,r=sr.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=i,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,i,r=this._order){return this._x=e,this._y=t,this._z=i,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,i=!0){const r=e.elements,s=r[0],o=r[4],a=r[8],l=r[1],h=r[5],f=r[9],d=r[2],p=r[6],m=r[10];switch(t){case"XYZ":this._y=Math.asin(xt(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-f,m),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(p,h),this._z=0);break;case"YXZ":this._x=Math.asin(-xt(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(a,m),this._z=Math.atan2(l,h)):(this._y=Math.atan2(-d,s),this._z=0);break;case"ZXY":this._x=Math.asin(xt(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(-d,m),this._z=Math.atan2(-o,h)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-xt(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(p,m),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,h));break;case"YZX":this._z=Math.asin(xt(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-f,h),this._y=Math.atan2(-d,s)):(this._x=0,this._y=Math.atan2(a,m));break;case"XZY":this._z=Math.asin(-xt(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(p,h),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-f,m),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,i){return Pw.makeRotationFromQuaternion(e),this.setFromRotationMatrix(Pw,t,i)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return Rw.setFromEuler(this),this.setFromQuaternion(Rw,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}sr.DEFAULT_ORDER="XYZ";class $a{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let BO=0;const Iw=new B,Fl=new hi,As=new gt,n0=new B,Du=new B,VO=new B,HO=new hi,Lw=new B(1,0,0),Nw=new B(0,1,0),Dw=new B(0,0,1),Uw={type:"added"},GO={type:"removed"},zl={type:"childadded",child:null},Zv={type:"childremoved",child:null};class Ht extends ms{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:BO++}),this.uuid=nr(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Ht.DEFAULT_UP.clone();const e=new B,t=new sr,i=new hi,r=new B(1,1,1);function s(){i.setFromEuler(t,!1)}function o(){t.setFromQuaternion(i,void 0,!1)}t._onChange(s),i._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new gt},normalMatrix:{value:new Mt}}),this.matrix=new gt,this.matrixWorld=new gt,this.matrixAutoUpdate=Ht.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Ht.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new $a,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return Fl.setFromAxisAngle(e,t),this.quaternion.multiply(Fl),this}rotateOnWorldAxis(e,t){return Fl.setFromAxisAngle(e,t),this.quaternion.premultiply(Fl),this}rotateX(e){return this.rotateOnAxis(Lw,e)}rotateY(e){return this.rotateOnAxis(Nw,e)}rotateZ(e){return this.rotateOnAxis(Dw,e)}translateOnAxis(e,t){return Iw.copy(e).applyQuaternion(this.quaternion),this.position.add(Iw.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(Lw,e)}translateY(e){return this.translateOnAxis(Nw,e)}translateZ(e){return this.translateOnAxis(Dw,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(As.copy(this.matrixWorld).invert())}lookAt(e,t,i){e.isVector3?n0.copy(e):n0.set(e,t,i);const r=this.parent;this.updateWorldMatrix(!0,!1),Du.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?As.lookAt(Du,n0,this.up):As.lookAt(n0,Du,this.up),this.quaternion.setFromRotationMatrix(As),r&&(As.extractRotation(r.matrixWorld),Fl.setFromRotationMatrix(As),this.quaternion.premultiply(Fl.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(Uw),zl.child=e,this.dispatchEvent(zl),zl.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(GO),Zv.child=e,this.dispatchEvent(Zv),Zv.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),As.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),As.multiply(e.parent.matrixWorld)),e.applyMatrix4(As),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(Uw),zl.child=e,this.dispatchEvent(zl),zl.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let i=0,r=this.children.length;i<r;i++){const o=this.children[i].getObjectByProperty(e,t);if(o!==void 0)return o}}getObjectsByProperty(e,t,i=[]){this[e]===t&&i.push(this);const r=this.children;for(let s=0,o=r.length;s<o;s++)r[s].getObjectsByProperty(e,t,i);return i}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Du,e,VO),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Du,HO,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].updateMatrixWorld(e)}updateWorldMatrix(e,t){const i=this.parent;if(e===!0&&i!==null&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),t===!0){const r=this.children;for(let s=0,o=r.length;s<o;s++)r[s].updateWorldMatrix(!1,!0)}}toJSON(e){const t=e===void 0||typeof e=="string",i={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(r.type="BatchedMesh",r.perObjectFrustumCulled=this.perObjectFrustumCulled,r.sortObjects=this.sortObjects,r.drawRanges=this._drawRanges,r.reservedRanges=this._reservedRanges,r.geometryInfo=this._geometryInfo.map(a=>({...a,boundingBox:a.boundingBox?{min:a.boundingBox.min.toArray(),max:a.boundingBox.max.toArray()}:void 0,boundingSphere:a.boundingSphere?{radius:a.boundingSphere.radius,center:a.boundingSphere.center.toArray()}:void 0})),r.instanceInfo=this._instanceInfo.map(a=>({...a})),r.availableInstanceIds=this._availableInstanceIds.slice(),r.availableGeometryIds=this._availableGeometryIds.slice(),r.nextIndexStart=this._nextIndexStart,r.nextVertexStart=this._nextVertexStart,r.geometryCount=this._geometryCount,r.maxInstanceCount=this._maxInstanceCount,r.maxVertexCount=this._maxVertexCount,r.maxIndexCount=this._maxIndexCount,r.geometryInitialized=this._geometryInitialized,r.matricesTexture=this._matricesTexture.toJSON(e),r.indirectTexture=this._indirectTexture.toJSON(e),this._colorsTexture!==null&&(r.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(r.boundingSphere={center:this.boundingSphere.center.toArray(),radius:this.boundingSphere.radius}),this.boundingBox!==null&&(r.boundingBox={min:this.boundingBox.min.toArray(),max:this.boundingBox.max.toArray()}));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let h=0,f=l.length;h<f;h++){const d=l[h];s(e.shapes,d)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,h=this.material.length;l<h;l++)a.push(s(e.materials,this.material[l]));r.material=a}else r.material=s(e.materials,this.material);if(this.children.length>0){r.children=[];for(let a=0;a<this.children.length;a++)r.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];r.animations.push(s(e.animations,l))}}if(t){const a=o(e.geometries),l=o(e.materials),h=o(e.textures),f=o(e.images),d=o(e.shapes),p=o(e.skeletons),m=o(e.animations),y=o(e.nodes);a.length>0&&(i.geometries=a),l.length>0&&(i.materials=l),h.length>0&&(i.textures=h),f.length>0&&(i.images=f),d.length>0&&(i.shapes=d),p.length>0&&(i.skeletons=p),m.length>0&&(i.animations=m),y.length>0&&(i.nodes=y)}return i.object=r,i;function o(a){const l=[];for(const h in a){const f=a[h];delete f.metadata,l.push(f)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let i=0;i<e.children.length;i++){const r=e.children[i];this.add(r.clone())}return this}}Ht.DEFAULT_UP=new B(0,1,0);Ht.DEFAULT_MATRIX_AUTO_UPDATE=!0;Ht.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Dr=new B,bs=new B,Kv=new B,Cs=new B,Bl=new B,Vl=new B,kw=new B,$v=new B,Jv=new B,Qv=new B,e2=new Bt,t2=new Bt,n2=new Bt;class Oi{constructor(e=new B,t=new B,i=new B){this.a=e,this.b=t,this.c=i}static getNormal(e,t,i,r){r.subVectors(i,t),Dr.subVectors(e,t),r.cross(Dr);const s=r.lengthSq();return s>0?r.multiplyScalar(1/Math.sqrt(s)):r.set(0,0,0)}static getBarycoord(e,t,i,r,s){Dr.subVectors(r,t),bs.subVectors(i,t),Kv.subVectors(e,t);const o=Dr.dot(Dr),a=Dr.dot(bs),l=Dr.dot(Kv),h=bs.dot(bs),f=bs.dot(Kv),d=o*h-a*a;if(d===0)return s.set(0,0,0),null;const p=1/d,m=(h*l-a*f)*p,y=(o*f-a*l)*p;return s.set(1-m-y,y,m)}static containsPoint(e,t,i,r){return this.getBarycoord(e,t,i,r,Cs)===null?!1:Cs.x>=0&&Cs.y>=0&&Cs.x+Cs.y<=1}static getInterpolation(e,t,i,r,s,o,a,l){return this.getBarycoord(e,t,i,r,Cs)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(s,Cs.x),l.addScaledVector(o,Cs.y),l.addScaledVector(a,Cs.z),l)}static getInterpolatedAttribute(e,t,i,r,s,o){return e2.setScalar(0),t2.setScalar(0),n2.setScalar(0),e2.fromBufferAttribute(e,t),t2.fromBufferAttribute(e,i),n2.fromBufferAttribute(e,r),o.setScalar(0),o.addScaledVector(e2,s.x),o.addScaledVector(t2,s.y),o.addScaledVector(n2,s.z),o}static isFrontFacing(e,t,i,r){return Dr.subVectors(i,t),bs.subVectors(e,t),Dr.cross(bs).dot(r)<0}set(e,t,i){return this.a.copy(e),this.b.copy(t),this.c.copy(i),this}setFromPointsAndIndices(e,t,i,r){return this.a.copy(e[t]),this.b.copy(e[i]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,i,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Dr.subVectors(this.c,this.b),bs.subVectors(this.a,this.b),Dr.cross(bs).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Oi.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Oi.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,i,r,s){return Oi.getInterpolation(e,this.a,this.b,this.c,t,i,r,s)}containsPoint(e){return Oi.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Oi.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const i=this.a,r=this.b,s=this.c;let o,a;Bl.subVectors(r,i),Vl.subVectors(s,i),$v.subVectors(e,i);const l=Bl.dot($v),h=Vl.dot($v);if(l<=0&&h<=0)return t.copy(i);Jv.subVectors(e,r);const f=Bl.dot(Jv),d=Vl.dot(Jv);if(f>=0&&d<=f)return t.copy(r);const p=l*d-f*h;if(p<=0&&l>=0&&f<=0)return o=l/(l-f),t.copy(i).addScaledVector(Bl,o);Qv.subVectors(e,s);const m=Bl.dot(Qv),y=Vl.dot(Qv);if(y>=0&&m<=y)return t.copy(s);const w=m*h-l*y;if(w<=0&&h>=0&&y<=0)return a=h/(h-y),t.copy(i).addScaledVector(Vl,a);const S=f*y-m*d;if(S<=0&&d-f>=0&&m-y>=0)return kw.subVectors(s,r),a=(d-f)/(d-f+(m-y)),t.copy(r).addScaledVector(kw,a);const g=1/(S+w+p);return o=w*g,a=p*g,t.copy(i).addScaledVector(Bl,o).addScaledVector(Vl,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const m8={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},vo={h:0,s:0,l:0},i0={h:0,s:0,l:0};function i2(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}class ke{constructor(e,t,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,i)}set(e,t,i){if(t===void 0&&i===void 0){const r=e;r&&r.isColor?this.copy(r):typeof r=="number"?this.setHex(r):typeof r=="string"&&this.setStyle(r)}else this.setRGB(e,t,i);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=Ui){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Ft.toWorkingColorSpace(this,t),this}setRGB(e,t,i,r=Ft.workingColorSpace){return this.r=e,this.g=t,this.b=i,Ft.toWorkingColorSpace(this,r),this}setHSL(e,t,i,r=Ft.workingColorSpace){if(e=G3(e,1),t=xt(t,0,1),i=xt(i,0,1),t===0)this.r=this.g=this.b=i;else{const s=i<=.5?i*(1+t):i+t-i*t,o=2*i-s;this.r=i2(o,s,e+1/3),this.g=i2(o,s,e),this.b=i2(o,s,e-1/3)}return Ft.toWorkingColorSpace(this,r),this}setStyle(e,t=Ui){function i(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const o=r[1],a=r[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,t);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,t);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=r[1],o=s.length;if(o===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,t);if(o===6)return this.setHex(parseInt(s,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=Ui){const i=m8[e.toLowerCase()];return i!==void 0?this.setHex(i,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Gs(e.r),this.g=Gs(e.g),this.b=Gs(e.b),this}copyLinearToSRGB(e){return this.r=Cc(e.r),this.g=Cc(e.g),this.b=Cc(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Ui){return Ft.fromWorkingColorSpace(oi.copy(this),e),Math.round(xt(oi.r*255,0,255))*65536+Math.round(xt(oi.g*255,0,255))*256+Math.round(xt(oi.b*255,0,255))}getHexString(e=Ui){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=Ft.workingColorSpace){Ft.fromWorkingColorSpace(oi.copy(this),t);const i=oi.r,r=oi.g,s=oi.b,o=Math.max(i,r,s),a=Math.min(i,r,s);let l,h;const f=(a+o)/2;if(a===o)l=0,h=0;else{const d=o-a;switch(h=f<=.5?d/(o+a):d/(2-o-a),o){case i:l=(r-s)/d+(r<s?6:0);break;case r:l=(s-i)/d+2;break;case s:l=(i-r)/d+4;break}l/=6}return e.h=l,e.s=h,e.l=f,e}getRGB(e,t=Ft.workingColorSpace){return Ft.fromWorkingColorSpace(oi.copy(this),t),e.r=oi.r,e.g=oi.g,e.b=oi.b,e}getStyle(e=Ui){Ft.fromWorkingColorSpace(oi.copy(this),e);const t=oi.r,i=oi.g,r=oi.b;return e!==Ui?`color(${e} ${t.toFixed(3)} ${i.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(i*255)},${Math.round(r*255)})`}offsetHSL(e,t,i){return this.getHSL(vo),this.setHSL(vo.h+e,vo.s+t,vo.l+i)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,i){return this.r=e.r+(t.r-e.r)*i,this.g=e.g+(t.g-e.g)*i,this.b=e.b+(t.b-e.b)*i,this}lerpHSL(e,t){this.getHSL(vo),e.getHSL(i0);const i=Sh(vo.h,i0.h,t),r=Sh(vo.s,i0.s,t),s=Sh(vo.l,i0.l,t);return this.setHSL(i,r,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,i=this.g,r=this.b,s=e.elements;return this.r=s[0]*t+s[3]*i+s[6]*r,this.g=s[1]*t+s[4]*i+s[7]*r,this.b=s[2]*t+s[5]*i+s[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const oi=new ke;ke.NAMES=m8;let WO=0;class pi extends ms{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:WO++}),this.uuid=nr(),this.name="",this.type="Material",this.blending=Za,this.side=Zs,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=qp,this.blendDst=Yp,this.blendEquation=bo,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new ke(0,0,0),this.blendAlpha=0,this.depthFunc=rl,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=ex,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Oa,this.stencilZFail=Oa,this.stencilZPass=Oa,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const i=e[t];if(i===void 0){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const r=this[t];if(r===void 0){console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`);continue}r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[t]=i}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const i={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(i.dispersion=this.dispersion),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(i.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapRotation!==void 0&&(i.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==Za&&(i.blending=this.blending),this.side!==Zs&&(i.side=this.side),this.vertexColors===!0&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=!0),this.blendSrc!==qp&&(i.blendSrc=this.blendSrc),this.blendDst!==Yp&&(i.blendDst=this.blendDst),this.blendEquation!==bo&&(i.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(i.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(i.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(i.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(i.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(i.blendAlpha=this.blendAlpha),this.depthFunc!==rl&&(i.depthFunc=this.depthFunc),this.depthTest===!1&&(i.depthTest=this.depthTest),this.depthWrite===!1&&(i.depthWrite=this.depthWrite),this.colorWrite===!1&&(i.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(i.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==ex&&(i.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(i.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(i.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Oa&&(i.stencilFail=this.stencilFail),this.stencilZFail!==Oa&&(i.stencilZFail=this.stencilZFail),this.stencilZPass!==Oa&&(i.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(i.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaHash===!0&&(i.alphaHash=!0),this.alphaToCoverage===!0&&(i.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=!0),this.forceSinglePass===!0&&(i.forceSinglePass=!0),this.wireframe===!0&&(i.wireframe=!0),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=!0),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function r(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(t){const s=r(e.textures),o=r(e.images);s.length>0&&(i.textures=s),o.length>0&&(i.images=o)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let i=null;if(t!==null){const r=t.length;i=new Array(r);for(let s=0;s!==r;++s)i[s]=t[s].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class ia extends pi{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new ke(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new sr,this.combine=_f,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Ds=jO();function jO(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),i=new Uint32Array(512),r=new Uint32Array(512);for(let l=0;l<256;++l){const h=l-127;h<-27?(i[l]=0,i[l|256]=32768,r[l]=24,r[l|256]=24):h<-14?(i[l]=1024>>-h-14,i[l|256]=1024>>-h-14|32768,r[l]=-h-1,r[l|256]=-h-1):h<=15?(i[l]=h+15<<10,i[l|256]=h+15<<10|32768,r[l]=13,r[l|256]=13):h<128?(i[l]=31744,i[l|256]=64512,r[l]=24,r[l|256]=24):(i[l]=31744,i[l|256]=64512,r[l]=13,r[l|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let h=l<<13,f=0;for(;!(h&8388608);)h<<=1,f-=8388608;h&=-8388609,f+=947912704,s[l]=h|f}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:t,baseTable:i,shiftTable:r,mantissaTable:s,exponentTable:o,offsetTable:a}}function Di(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=xt(n,-65504,65504),Ds.floatView[0]=n;const e=Ds.uint32View[0],t=e>>23&511;return Ds.baseTable[t]+((e&8388607)>>Ds.shiftTable[t])}function Ju(n){const e=n>>10;return Ds.uint32View[0]=Ds.mantissaTable[Ds.offsetTable[e]+(n&1023)]+Ds.exponentTable[e],Ds.floatView[0]}class XO{static toHalfFloat(e){return Di(e)}static fromHalfFloat(e){return Ju(e)}}const An=new B,r0=new ge;let qO=0;class Zt{constructor(e,t,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:qO++}),this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=i,this.usage=Qh,this.updateRanges=[],this.gpuType=zi,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,i){e*=this.itemSize,i*=t.itemSize;for(let r=0,s=this.itemSize;r<s;r++)this.array[e+r]=t.array[i+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,i=this.count;t<i;t++)r0.fromBufferAttribute(this,t),r0.applyMatrix3(e),this.setXY(t,r0.x,r0.y);else if(this.itemSize===3)for(let t=0,i=this.count;t<i;t++)An.fromBufferAttribute(this,t),An.applyMatrix3(e),this.setXYZ(t,An.x,An.y,An.z);return this}applyMatrix4(e){for(let t=0,i=this.count;t<i;t++)An.fromBufferAttribute(this,t),An.applyMatrix4(e),this.setXYZ(t,An.x,An.y,An.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)An.fromBufferAttribute(this,t),An.applyNormalMatrix(e),this.setXYZ(t,An.x,An.y,An.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)An.fromBufferAttribute(this,t),An.transformDirection(e),this.setXYZ(t,An.x,An.y,An.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let i=this.array[e*this.itemSize+t];return this.normalized&&(i=Si(i,this.array)),i}setComponent(e,t,i){return this.normalized&&(i=Et(i,this.array)),this.array[e*this.itemSize+t]=i,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=Si(t,this.array)),t}setX(e,t){return this.normalized&&(t=Et(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=Si(t,this.array)),t}setY(e,t){return this.normalized&&(t=Et(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=Si(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Et(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=Si(t,this.array)),t}setW(e,t){return this.normalized&&(t=Et(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=Et(t,this.array),i=Et(i,this.array)),this.array[e+0]=t,this.array[e+1]=i,this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=Et(t,this.array),i=Et(i,this.array),r=Et(r,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e*=this.itemSize,this.normalized&&(t=Et(t,this.array),i=Et(i,this.array),r=Et(r,this.array),s=Et(s,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Qh&&(e.usage=this.usage),e}}class YO extends Zt{constructor(e,t,i){super(new Int8Array(e),t,i)}}class ZO extends Zt{constructor(e,t,i){super(new Uint8Array(e),t,i)}}class KO extends Zt{constructor(e,t,i){super(new Uint8ClampedArray(e),t,i)}}class $O extends Zt{constructor(e,t,i){super(new Int16Array(e),t,i)}}class W3 extends Zt{constructor(e,t,i){super(new Uint16Array(e),t,i)}}class JO extends Zt{constructor(e,t,i){super(new Int32Array(e),t,i)}}class j3 extends Zt{constructor(e,t,i){super(new Uint32Array(e),t,i)}}class QO extends Zt{constructor(e,t,i){super(new Uint16Array(e),t,i),this.isFloat16BufferAttribute=!0}getX(e){let t=Ju(this.array[e*this.itemSize]);return this.normalized&&(t=Si(t,this.array)),t}setX(e,t){return this.normalized&&(t=Et(t,this.array)),this.array[e*this.itemSize]=Di(t),this}getY(e){let t=Ju(this.array[e*this.itemSize+1]);return this.normalized&&(t=Si(t,this.array)),t}setY(e,t){return this.normalized&&(t=Et(t,this.array)),this.array[e*this.itemSize+1]=Di(t),this}getZ(e){let t=Ju(this.array[e*this.itemSize+2]);return this.normalized&&(t=Si(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Et(t,this.array)),this.array[e*this.itemSize+2]=Di(t),this}getW(e){let t=Ju(this.array[e*this.itemSize+3]);return this.normalized&&(t=Si(t,this.array)),t}setW(e,t){return this.normalized&&(t=Et(t,this.array)),this.array[e*this.itemSize+3]=Di(t),this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=Et(t,this.array),i=Et(i,this.array)),this.array[e+0]=Di(t),this.array[e+1]=Di(i),this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=Et(t,this.array),i=Et(i,this.array),r=Et(r,this.array)),this.array[e+0]=Di(t),this.array[e+1]=Di(i),this.array[e+2]=Di(r),this}setXYZW(e,t,i,r,s){return e*=this.itemSize,this.normalized&&(t=Et(t,this.array),i=Et(i,this.array),r=Et(r,this.array),s=Et(s,this.array)),this.array[e+0]=Di(t),this.array[e+1]=Di(i),this.array[e+2]=Di(r),this.array[e+3]=Di(s),this}}class Ke extends Zt{constructor(e,t,i){super(new Float32Array(e),t,i)}}let eF=0;const vr=new gt,r2=new Ht,Hl=new B,$i=new fi,Uu=new fi,Vn=new B;class Tt extends ms{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:eF++}),this.uuid=nr(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(f8(e)?j3:W3)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,i=0){this.groups.push({start:e,count:t,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const s=new Mt().getNormalMatrix(e);i.applyNormalMatrix(s),i.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return vr.makeRotationFromQuaternion(e),this.applyMatrix4(vr),this}rotateX(e){return vr.makeRotationX(e),this.applyMatrix4(vr),this}rotateY(e){return vr.makeRotationY(e),this.applyMatrix4(vr),this}rotateZ(e){return vr.makeRotationZ(e),this.applyMatrix4(vr),this}translate(e,t,i){return vr.makeTranslation(e,t,i),this.applyMatrix4(vr),this}scale(e,t,i){return vr.makeScale(e,t,i),this.applyMatrix4(vr),this}lookAt(e){return r2.lookAt(e),r2.updateMatrix(),this.applyMatrix4(r2.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Hl).negate(),this.translate(Hl.x,Hl.y,Hl.z),this}setFromPoints(e){const t=this.getAttribute("position");if(t===void 0){const i=[];for(let r=0,s=e.length;r<s;r++){const o=e[r];i.push(o.x,o.y,o.z||0)}this.setAttribute("position",new Ke(i,3))}else{const i=Math.min(e.length,t.count);for(let r=0;r<i;r++){const s=e[r];t.setXYZ(r,s.x,s.y,s.z||0)}e.length>t.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),t.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new fi);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new B(-1/0,-1/0,-1/0),new B(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let i=0,r=t.length;i<r;i++){const s=t[i];$i.setFromBufferAttribute(s),this.morphTargetsRelative?(Vn.addVectors(this.boundingBox.min,$i.min),this.boundingBox.expandByPoint(Vn),Vn.addVectors(this.boundingBox.max,$i.max),this.boundingBox.expandByPoint(Vn)):(this.boundingBox.expandByPoint($i.min),this.boundingBox.expandByPoint($i.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Zn);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new B,1/0);return}if(e){const i=this.boundingSphere.center;if($i.setFromBufferAttribute(e),t)for(let s=0,o=t.length;s<o;s++){const a=t[s];Uu.setFromBufferAttribute(a),this.morphTargetsRelative?(Vn.addVectors($i.min,Uu.min),$i.expandByPoint(Vn),Vn.addVectors($i.max,Uu.max),$i.expandByPoint(Vn)):($i.expandByPoint(Uu.min),$i.expandByPoint(Uu.max))}$i.getCenter(i);let r=0;for(let s=0,o=e.count;s<o;s++)Vn.fromBufferAttribute(e,s),r=Math.max(r,i.distanceToSquared(Vn));if(t)for(let s=0,o=t.length;s<o;s++){const a=t[s],l=this.morphTargetsRelative;for(let h=0,f=a.count;h<f;h++)Vn.fromBufferAttribute(a,h),l&&(Hl.fromBufferAttribute(e,h),Vn.add(Hl)),r=Math.max(r,i.distanceToSquared(Vn))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=t.position,r=t.normal,s=t.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Zt(new Float32Array(4*i.count),4));const o=this.getAttribute("tangent"),a=[],l=[];for(let L=0;L<i.count;L++)a[L]=new B,l[L]=new B;const h=new B,f=new B,d=new B,p=new ge,m=new ge,y=new ge,w=new B,S=new B;function g(L,R,A){h.fromBufferAttribute(i,L),f.fromBufferAttribute(i,R),d.fromBufferAttribute(i,A),p.fromBufferAttribute(s,L),m.fromBufferAttribute(s,R),y.fromBufferAttribute(s,A),f.sub(h),d.sub(h),m.sub(p),y.sub(p);const k=1/(m.x*y.y-y.x*m.y);isFinite(k)&&(w.copy(f).multiplyScalar(y.y).addScaledVector(d,-m.y).multiplyScalar(k),S.copy(d).multiplyScalar(m.x).addScaledVector(f,-y.x).multiplyScalar(k),a[L].add(w),a[R].add(w),a[A].add(w),l[L].add(S),l[R].add(S),l[A].add(S))}let x=this.groups;x.length===0&&(x=[{start:0,count:e.count}]);for(let L=0,R=x.length;L<R;++L){const A=x[L],k=A.start,X=A.count;for(let q=k,ne=k+X;q<ne;q+=3)g(e.getX(q+0),e.getX(q+1),e.getX(q+2))}const M=new B,E=new B,C=new B,P=new B;function I(L){C.fromBufferAttribute(r,L),P.copy(C);const R=a[L];M.copy(R),M.sub(C.multiplyScalar(C.dot(R))).normalize(),E.crossVectors(P,R);const k=E.dot(l[L])<0?-1:1;o.setXYZW(L,M.x,M.y,M.z,k)}for(let L=0,R=x.length;L<R;++L){const A=x[L],k=A.start,X=A.count;for(let q=k,ne=k+X;q<ne;q+=3)I(e.getX(q+0)),I(e.getX(q+1)),I(e.getX(q+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new Zt(new Float32Array(t.count*3),3),this.setAttribute("normal",i);else for(let p=0,m=i.count;p<m;p++)i.setXYZ(p,0,0,0);const r=new B,s=new B,o=new B,a=new B,l=new B,h=new B,f=new B,d=new B;if(e)for(let p=0,m=e.count;p<m;p+=3){const y=e.getX(p+0),w=e.getX(p+1),S=e.getX(p+2);r.fromBufferAttribute(t,y),s.fromBufferAttribute(t,w),o.fromBufferAttribute(t,S),f.subVectors(o,s),d.subVectors(r,s),f.cross(d),a.fromBufferAttribute(i,y),l.fromBufferAttribute(i,w),h.fromBufferAttribute(i,S),a.add(f),l.add(f),h.add(f),i.setXYZ(y,a.x,a.y,a.z),i.setXYZ(w,l.x,l.y,l.z),i.setXYZ(S,h.x,h.y,h.z)}else for(let p=0,m=t.count;p<m;p+=3)r.fromBufferAttribute(t,p+0),s.fromBufferAttribute(t,p+1),o.fromBufferAttribute(t,p+2),f.subVectors(o,s),d.subVectors(r,s),f.cross(d),i.setXYZ(p+0,f.x,f.y,f.z),i.setXYZ(p+1,f.x,f.y,f.z),i.setXYZ(p+2,f.x,f.y,f.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,i=e.count;t<i;t++)Vn.fromBufferAttribute(e,t),Vn.normalize(),e.setXYZ(t,Vn.x,Vn.y,Vn.z)}toNonIndexed(){function e(a,l){const h=a.array,f=a.itemSize,d=a.normalized,p=new h.constructor(l.length*f);let m=0,y=0;for(let w=0,S=l.length;w<S;w++){a.isInterleavedBufferAttribute?m=l[w]*a.data.stride+a.offset:m=l[w]*f;for(let g=0;g<f;g++)p[y++]=h[m++]}return new Zt(p,f,d)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new Tt,i=this.index.array,r=this.attributes;for(const a in r){const l=r[a],h=e(l,i);t.setAttribute(a,h)}const s=this.morphAttributes;for(const a in s){const l=[],h=s[a];for(let f=0,d=h.length;f<d;f++){const p=h[f],m=e(p,i);l.push(m)}t.morphAttributes[a]=l}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const h=o[a];t.addGroup(h.start,h.count,h.materialIndex)}return t}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const h in l)l[h]!==void 0&&(e[h]=l[h]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const i=this.attributes;for(const l in i){const h=i[l];e.data.attributes[l]=h.toJSON(e.data)}const r={};let s=!1;for(const l in this.morphAttributes){const h=this.morphAttributes[l],f=[];for(let d=0,p=h.length;d<p;d++){const m=h[d];f.push(m.toJSON(e.data))}f.length>0&&(r[l]=f,s=!0)}s&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone());const r=e.attributes;for(const h in r){const f=r[h];this.setAttribute(h,f.clone(t))}const s=e.morphAttributes;for(const h in s){const f=[],d=s[h];for(let p=0,m=d.length;p<m;p++)f.push(d[p].clone(t));this.morphAttributes[h]=f}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let h=0,f=o.length;h<f;h++){const d=o[h];this.addGroup(d.start,d.count,d.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const Ow=new gt,xa=new dl,s0=new Zn,Fw=new B,o0=new B,a0=new B,l0=new B,s2=new B,c0=new B,zw=new B,u0=new B;class Pn extends Ht{constructor(e=new Tt,t=new ia){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,t){const i=this.geometry,r=i.attributes.position,s=i.morphAttributes.position,o=i.morphTargetsRelative;t.fromBufferAttribute(r,e);const a=this.morphTargetInfluences;if(s&&a){c0.set(0,0,0);for(let l=0,h=s.length;l<h;l++){const f=a[l],d=s[l];f!==0&&(s2.fromBufferAttribute(d,e),o?c0.addScaledVector(s2,f):c0.addScaledVector(s2.sub(t),f))}t.add(c0)}return t}raycast(e,t){const i=this.geometry,r=this.material,s=this.matrixWorld;r!==void 0&&(i.boundingSphere===null&&i.computeBoundingSphere(),s0.copy(i.boundingSphere),s0.applyMatrix4(s),xa.copy(e.ray).recast(e.near),!(s0.containsPoint(xa.origin)===!1&&(xa.intersectSphere(s0,Fw)===null||xa.origin.distanceToSquared(Fw)>(e.far-e.near)**2))&&(Ow.copy(s).invert(),xa.copy(e.ray).applyMatrix4(Ow),!(i.boundingBox!==null&&xa.intersectsBox(i.boundingBox)===!1)&&this._computeIntersections(e,t,xa)))}_computeIntersections(e,t,i){let r;const s=this.geometry,o=this.material,a=s.index,l=s.attributes.position,h=s.attributes.uv,f=s.attributes.uv1,d=s.attributes.normal,p=s.groups,m=s.drawRange;if(a!==null)if(Array.isArray(o))for(let y=0,w=p.length;y<w;y++){const S=p[y],g=o[S.materialIndex],x=Math.max(S.start,m.start),M=Math.min(a.count,Math.min(S.start+S.count,m.start+m.count));for(let E=x,C=M;E<C;E+=3){const P=a.getX(E),I=a.getX(E+1),L=a.getX(E+2);r=h0(this,g,e,i,h,f,d,P,I,L),r&&(r.faceIndex=Math.floor(E/3),r.face.materialIndex=S.materialIndex,t.push(r))}}else{const y=Math.max(0,m.start),w=Math.min(a.count,m.start+m.count);for(let S=y,g=w;S<g;S+=3){const x=a.getX(S),M=a.getX(S+1),E=a.getX(S+2);r=h0(this,o,e,i,h,f,d,x,M,E),r&&(r.faceIndex=Math.floor(S/3),t.push(r))}}else if(l!==void 0)if(Array.isArray(o))for(let y=0,w=p.length;y<w;y++){const S=p[y],g=o[S.materialIndex],x=Math.max(S.start,m.start),M=Math.min(l.count,Math.min(S.start+S.count,m.start+m.count));for(let E=x,C=M;E<C;E+=3){const P=E,I=E+1,L=E+2;r=h0(this,g,e,i,h,f,d,P,I,L),r&&(r.faceIndex=Math.floor(E/3),r.face.materialIndex=S.materialIndex,t.push(r))}}else{const y=Math.max(0,m.start),w=Math.min(l.count,m.start+m.count);for(let S=y,g=w;S<g;S+=3){const x=S,M=S+1,E=S+2;r=h0(this,o,e,i,h,f,d,x,M,E),r&&(r.faceIndex=Math.floor(S/3),t.push(r))}}}}function tF(n,e,t,i,r,s,o,a){let l;if(e.side===wi?l=i.intersectTriangle(o,s,r,!0,a):l=i.intersectTriangle(r,s,o,e.side===Zs,a),l===null)return null;u0.copy(a),u0.applyMatrix4(n.matrixWorld);const h=t.ray.origin.distanceTo(u0);return h<t.near||h>t.far?null:{distance:h,point:u0.clone(),object:n}}function h0(n,e,t,i,r,s,o,a,l,h){n.getVertexPosition(a,o0),n.getVertexPosition(l,a0),n.getVertexPosition(h,l0);const f=tF(n,e,t,i,o0,a0,l0,zw);if(f){const d=new B;Oi.getBarycoord(zw,o0,a0,l0,d),r&&(f.uv=Oi.getInterpolatedAttribute(r,a,l,h,d,new ge)),s&&(f.uv1=Oi.getInterpolatedAttribute(s,a,l,h,d,new ge)),o&&(f.normal=Oi.getInterpolatedAttribute(o,a,l,h,d,new B),f.normal.dot(i.direction)>0&&f.normal.multiplyScalar(-1));const p={a,b:l,c:h,normal:new B,materialIndex:0};Oi.getNormal(o0,a0,l0,p.normal),f.face=p,f.barycoord=d}return f}class pl extends Tt{constructor(e=1,t=1,i=1,r=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:i,widthSegments:r,heightSegments:s,depthSegments:o};const a=this;r=Math.floor(r),s=Math.floor(s),o=Math.floor(o);const l=[],h=[],f=[],d=[];let p=0,m=0;y("z","y","x",-1,-1,i,t,e,o,s,0),y("z","y","x",1,-1,i,t,-e,o,s,1),y("x","z","y",1,1,e,i,t,r,o,2),y("x","z","y",1,-1,e,i,-t,r,o,3),y("x","y","z",1,-1,e,t,i,r,s,4),y("x","y","z",-1,-1,e,t,-i,r,s,5),this.setIndex(l),this.setAttribute("position",new Ke(h,3)),this.setAttribute("normal",new Ke(f,3)),this.setAttribute("uv",new Ke(d,2));function y(w,S,g,x,M,E,C,P,I,L,R){const A=E/I,k=C/L,X=E/2,q=C/2,ne=P/2,se=I+1,te=L+1;let le=0,U=0;const W=new B;for(let H=0;H<te;H++){const Z=H*k-q;for(let de=0;de<se;de++){const Te=de*A-X;W[w]=Te*x,W[S]=Z*M,W[g]=ne,h.push(W.x,W.y,W.z),W[w]=0,W[S]=0,W[g]=P>0?1:-1,f.push(W.x,W.y,W.z),d.push(de/I),d.push(1-H/L),le+=1}}for(let H=0;H<L;H++)for(let Z=0;Z<I;Z++){const de=p+Z+se*H,Te=p+Z+se*(H+1),ie=p+(Z+1)+se*(H+1),_e=p+(Z+1)+se*H;l.push(de,Te,_e),l.push(Te,ie,_e),U+=6}a.addGroup(m,U,R),m+=U,p+=le}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new pl(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Wc(n){const e={};for(const t in n){e[t]={};for(const i in n[t]){const r=n[t][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][i]=null):e[t][i]=r.clone():Array.isArray(r)?e[t][i]=r.slice():e[t][i]=r}}return e}function yi(n){const e={};for(let t=0;t<n.length;t++){const i=Wc(n[t]);for(const r in i)e[r]=i[r]}return e}function nF(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function g8(n){const e=n.getRenderTarget();return e===null?n.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:Ft.workingColorSpace}const v8={clone:Wc,merge:yi};var iF=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,rF=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class jr extends pi{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=iF,this.fragmentShader=rF,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Wc(e.uniforms),this.uniformsGroups=nF(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const o=this.uniforms[r].value;o&&o.isTexture?t.uniforms[r]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?t.uniforms[r]={type:"c",value:o.getHex()}:o&&o.isVector2?t.uniforms[r]={type:"v2",value:o.toArray()}:o&&o.isVector3?t.uniforms[r]={type:"v3",value:o.toArray()}:o&&o.isVector4?t.uniforms[r]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?t.uniforms[r]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?t.uniforms[r]={type:"m4",value:o.toArray()}:t.uniforms[r]={value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const i={};for(const r in this.extensions)this.extensions[r]===!0&&(i[r]=!0);return Object.keys(i).length>0&&(t.extensions=i),t}}class wf extends Ht{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new gt,this.projectionMatrix=new gt,this.projectionMatrixInverse=new gt,this.coordinateSystem=wr}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const yo=new B,Bw=new ge,Vw=new ge;class Mn extends wf{constructor(e=50,t=1,i=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=Gc*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Ka*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Gc*2*Math.atan(Math.tan(Ka*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,i){yo.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(yo.x,yo.y).multiplyScalar(-e/yo.z),yo.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),i.set(yo.x,yo.y).multiplyScalar(-e/yo.z)}getViewSize(e,t){return this.getViewBounds(e,Bw,Vw),t.subVectors(Vw,Bw)}setViewOffset(e,t,i,r,s,o){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(Ka*.5*this.fov)/this.zoom,i=2*t,r=this.aspect*i,s=-.5*r;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,h=o.fullHeight;s+=o.offsetX*r/l,t-=o.offsetY*i/h,r*=o.width/l,i*=o.height/h}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+r,t,t-i,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const Gl=-90,Wl=1;class y8 extends Ht{constructor(e,t,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null,this.activeMipmapLevel=0;const r=new Mn(Gl,Wl,e,t);r.layers=this.layers,this.add(r);const s=new Mn(Gl,Wl,e,t);s.layers=this.layers,this.add(s);const o=new Mn(Gl,Wl,e,t);o.layers=this.layers,this.add(o);const a=new Mn(Gl,Wl,e,t);a.layers=this.layers,this.add(a);const l=new Mn(Gl,Wl,e,t);l.layers=this.layers,this.add(l);const h=new Mn(Gl,Wl,e,t);h.layers=this.layers,this.add(h)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[i,r,s,o,a,l]=t;for(const h of t)this.remove(h);if(e===wr)i.up.set(0,1,0),i.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===ef)i.up.set(0,-1,0),i.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const h of t)this.add(h),h.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const{renderTarget:i,activeMipmapLevel:r}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[s,o,a,l,h,f]=this.children,d=e.getRenderTarget(),p=e.getActiveCubeFace(),m=e.getActiveMipmapLevel(),y=e.xr.enabled;e.xr.enabled=!1;const w=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0,r),e.render(t,s),e.setRenderTarget(i,1,r),e.render(t,o),e.setRenderTarget(i,2,r),e.render(t,a),e.setRenderTarget(i,3,r),e.render(t,l),e.setRenderTarget(i,4,r),e.render(t,h),i.texture.generateMipmaps=w,e.setRenderTarget(i,5,r),e.render(t,f),e.setRenderTarget(d,p,m),e.xr.enabled=y,i.texture.needsPMREMUpdate=!0}}class Ef extends yn{constructor(e=[],t=Ks,i,r,s,o,a,l,h,f){super(e,t,i,r,s,o,a,l,h,f),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class x8 extends ps{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},r=[i,i,i,i,i,i];this.texture=new Ef(r,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:Dn}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new pl(5,5,5),s=new jr({name:"CubemapFromEquirect",uniforms:Wc(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:wi,blending:Hs});s.uniforms.tEquirect.value=t;const o=new Pn(r,s),a=t.minFilter;return t.minFilter===ls&&(t.minFilter=Dn),new y8(1,10,this).update(e,o),t.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,t=!0,i=!0,r=!0){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,i,r);e.setRenderTarget(s)}}class xc extends Ht{constructor(){super(),this.isGroup=!0,this.type="Group"}}const sF={type:"move"};class op{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new xc,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new xc,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new B,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new B),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new xc,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new B,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new B),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const i of e.hand.values())this._getHandJoint(t,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,i){let r=null,s=null,o=null;const a=this._targetRay,l=this._grip,h=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(h&&e.hand){o=!0;for(const w of e.hand.values()){const S=t.getJointPose(w,i),g=this._getHandJoint(h,w);S!==null&&(g.matrix.fromArray(S.transform.matrix),g.matrix.decompose(g.position,g.rotation,g.scale),g.matrixWorldNeedsUpdate=!0,g.jointRadius=S.radius),g.visible=S!==null}const f=h.joints["index-finger-tip"],d=h.joints["thumb-tip"],p=f.position.distanceTo(d.position),m=.02,y=.005;h.inputState.pinching&&p>m+y?(h.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!h.inputState.pinching&&p<=m-y&&(h.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,i),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(r=t.getPose(e.targetRaySpace,i),r===null&&s!==null&&(r=s),r!==null&&(a.matrix.fromArray(r.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,r.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(r.linearVelocity)):a.hasLinearVelocity=!1,r.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(r.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(sF)))}return a!==null&&(a.visible=r!==null),l!==null&&(l.visible=s!==null),h!==null&&(h.visible=o!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const i=new xc;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[t.jointName]=i,e.add(i)}return e.joints[t.jointName]}}class S1{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new ke(e),this.density=t}clone(){return new S1(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class M1{constructor(e,t=1,i=1e3){this.isFog=!0,this.name="",this.color=new ke(e),this.near=t,this.far=i}clone(){return new M1(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class X3 extends Ht{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new sr,this.environmentIntensity=1,this.environmentRotation=new sr,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}class w1{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=Qh,this.updateRanges=[],this.version=0,this.uuid=nr()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,i){e*=this.stride,i*=t.stride;for(let r=0,s=this.stride;r<s;r++)this.array[e+r]=t.array[i+r];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=nr()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(t,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=nr()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const vi=new B;class ol{constructor(e,t,i,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=i,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,i=this.data.count;t<i;t++)vi.fromBufferAttribute(this,t),vi.applyMatrix4(e),this.setXYZ(t,vi.x,vi.y,vi.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)vi.fromBufferAttribute(this,t),vi.applyNormalMatrix(e),this.setXYZ(t,vi.x,vi.y,vi.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)vi.fromBufferAttribute(this,t),vi.transformDirection(e),this.setXYZ(t,vi.x,vi.y,vi.z);return this}getComponent(e,t){let i=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(i=Si(i,this.array)),i}setComponent(e,t,i){return this.normalized&&(i=Et(i,this.array)),this.data.array[e*this.data.stride+this.offset+t]=i,this}setX(e,t){return this.normalized&&(t=Et(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=Et(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=Et(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=Et(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=Si(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=Si(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=Si(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=Si(t,this.array)),t}setXY(e,t,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=Et(t,this.array),i=Et(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this}setXYZ(e,t,i,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=Et(t,this.array),i=Et(i,this.array),r=Et(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=Et(t,this.array),i=Et(i,this.array),r=Et(r,this.array),s=Et(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return new Zt(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new ol(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class q3 extends pi{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new ke(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let jl;const ku=new B,Xl=new B,ql=new B,Yl=new ge,Ou=new ge,_8=new gt,f0=new B,Fu=new B,d0=new B,Hw=new ge,o2=new ge,Gw=new ge;class S8 extends Ht{constructor(e=new q3){if(super(),this.isSprite=!0,this.type="Sprite",jl===void 0){jl=new Tt;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new w1(t,5);jl.setIndex([0,1,2,0,2,3]),jl.setAttribute("position",new ol(i,3,0,!1)),jl.setAttribute("uv",new ol(i,2,3,!1))}this.geometry=jl,this.material=e,this.center=new ge(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Xl.setFromMatrixScale(this.matrixWorld),_8.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),ql.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Xl.multiplyScalar(-ql.z);const i=this.material.rotation;let r,s;i!==0&&(s=Math.cos(i),r=Math.sin(i));const o=this.center;p0(f0.set(-.5,-.5,0),ql,o,Xl,r,s),p0(Fu.set(.5,-.5,0),ql,o,Xl,r,s),p0(d0.set(.5,.5,0),ql,o,Xl,r,s),Hw.set(0,0),o2.set(1,0),Gw.set(1,1);let a=e.ray.intersectTriangle(f0,Fu,d0,!1,ku);if(a===null&&(p0(Fu.set(-.5,.5,0),ql,o,Xl,r,s),o2.set(0,1),a=e.ray.intersectTriangle(f0,d0,Fu,!1,ku),a===null))return;const l=e.ray.origin.distanceTo(ku);l<e.near||l>e.far||t.push({distance:l,point:ku.clone(),uv:Oi.getInterpolation(ku,f0,Fu,d0,Hw,o2,Gw,new ge),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function p0(n,e,t,i,r,s){Yl.subVectors(n,t).addScalar(.5).multiply(i),r!==void 0?(Ou.x=s*Yl.x-r*Yl.y,Ou.y=r*Yl.x+s*Yl.y):Ou.copy(Yl),n.copy(e),n.x+=Ou.x,n.y+=Ou.y,n.applyMatrix4(_8)}const m0=new B,Ww=new B;class M8 extends Ht{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let i=0,r=t.length;i<r;i++){const s=t[i];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,i=0){t=Math.abs(t);const r=this.levels;let s;for(s=0;s<r.length&&!(t<r[s].distance);s++);return r.splice(s,0,{distance:t,hysteresis:i,object:e}),this.add(e),this}removeLevel(e){const t=this.levels;for(let i=0;i<t.length;i++)if(t[i].distance===e){const r=t.splice(i,1);return this.remove(r[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let i,r;for(i=1,r=t.length;i<r;i++){let s=t[i].distance;if(t[i].object.visible&&(s-=s*t[i].hysteresis),e<s)break}return t[i-1].object}return null}raycast(e,t){if(this.levels.length>0){m0.setFromMatrixPosition(this.matrixWorld);const r=e.ray.origin.distanceTo(m0);this.getObjectForDistance(r).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){m0.setFromMatrixPosition(e.matrixWorld),Ww.setFromMatrixPosition(this.matrixWorld);const i=m0.distanceTo(Ww)/e.zoom;t[0].object.visible=!0;let r,s;for(r=1,s=t.length;r<s;r++){let o=t[r].distance;if(t[r].object.visible&&(o-=o*t[r].hysteresis),i>=o)t[r-1].object.visible=!1,t[r].object.visible=!0;else break}for(this._currentLevel=r-1;r<s;r++)t[r].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const i=this.levels;for(let r=0,s=i.length;r<s;r++){const o=i[r];t.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return t}}const jw=new B,Xw=new Bt,qw=new Bt,oF=new B,Yw=new gt,g0=new B,a2=new Zn,Zw=new gt,l2=new dl;class w8 extends Pn{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=Qy,this.bindMatrix=new gt,this.bindMatrixInverse=new gt,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new fi),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)this.getVertexPosition(i,g0),this.boundingBox.expandByPoint(g0)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Zn),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)this.getVertexPosition(i,g0),this.boundingSphere.expandByPoint(g0)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const i=this.material,r=this.matrixWorld;i!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),a2.copy(this.boundingSphere),a2.applyMatrix4(r),e.ray.intersectsSphere(a2)!==!1&&(Zw.copy(r).invert(),l2.copy(e.ray).applyMatrix4(Zw),!(this.boundingBox!==null&&l2.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,l2)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Bt,t=this.geometry.attributes.skinWeight;for(let i=0,r=t.count;i<r;i++){e.fromBufferAttribute(t,i);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(i,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===Qy?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===Jb?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const i=this.skeleton,r=this.geometry;Xw.fromBufferAttribute(r.attributes.skinIndex,e),qw.fromBufferAttribute(r.attributes.skinWeight,e),jw.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const o=qw.getComponent(s);if(o!==0){const a=Xw.getComponent(s);Yw.multiplyMatrices(i.bones[a].matrixWorld,i.boneInverses[a]),t.addScaledVector(oF.copy(jw).applyMatrix4(Yw),o)}}return t.applyMatrix4(this.bindMatrixInverse)}}class Y3 extends Ht{constructor(){super(),this.isBone=!0,this.type="Bone"}}class ds extends yn{constructor(e=null,t=1,i=1,r,s,o,a,l,h=Yn,f=Yn,d,p){super(null,o,a,l,h,f,r,s,d,p),this.isDataTexture=!0,this.image={data:e,width:t,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const Kw=new gt,aF=new gt;class E1{constructor(e=[],t=[]){this.uuid=nr(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,r=this.bones.length;i<r;i++)this.boneInverses.push(new gt)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const i=new gt;this.bones[e]&&i.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&i.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const e=this.bones,t=this.boneInverses,i=this.boneMatrices,r=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:aF;Kw.multiplyMatrices(a,t[s]),Kw.toArray(i,s*16)}r!==null&&(r.needsUpdate=!0)}clone(){return new E1(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const i=new ds(t,e,e,ui,zi);return i.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=i,this}getBoneByName(e){for(let t=0,i=this.bones.length;t<i;t++){const r=this.bones[t];if(r.name===e)return r}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let i=0,r=e.bones.length;i<r;i++){const s=e.bones[i];let o=t[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new Y3),this.bones.push(o),this.boneInverses.push(new gt().fromArray(e.boneInverses[i]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,i=this.boneInverses;for(let r=0,s=t.length;r<s;r++){const o=t[r];e.bones.push(o.uuid);const a=i[r];e.boneInverses.push(a.toArray())}return e}}class jc extends Zt{constructor(e,t,i,r=1){super(e,t,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const Zl=new gt,$w=new gt,v0=[],Jw=new fi,lF=new gt,zu=new Pn,Bu=new Zn;class E8 extends Pn{constructor(e,t,i){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new jc(new Float32Array(i*16),16),this.instanceColor=null,this.morphTexture=null,this.count=i,this.boundingBox=null,this.boundingSphere=null;for(let r=0;r<i;r++)this.setMatrixAt(r,lF)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new fi),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,Zl),Jw.copy(e.boundingBox).applyMatrix4(Zl),this.boundingBox.union(Jw)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new Zn),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,Zl),Bu.copy(e.boundingSphere).applyMatrix4(Zl),this.boundingSphere.union(Bu)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,t){const i=t.morphTargetInfluences,r=this.morphTexture.source.data.data,s=i.length+1,o=e*s+1;for(let a=0;a<i.length;a++)i[a]=r[o+a]}raycast(e,t){const i=this.matrixWorld,r=this.count;if(zu.geometry=this.geometry,zu.material=this.material,zu.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Bu.copy(this.boundingSphere),Bu.applyMatrix4(i),e.ray.intersectsSphere(Bu)!==!1))for(let s=0;s<r;s++){this.getMatrixAt(s,Zl),$w.multiplyMatrices(i,Zl),zu.matrixWorld=$w,zu.raycast(e,v0);for(let o=0,a=v0.length;o<a;o++){const l=v0[o];l.instanceId=s,l.object=this,t.push(l)}v0.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new jc(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,t){const i=t.morphTargetInfluences,r=i.length+1;this.morphTexture===null&&(this.morphTexture=new ds(new Float32Array(r*this.count),r,this.count,m1,zi));const s=this.morphTexture.source.data.data;let o=0;for(let h=0;h<i.length;h++)o+=i[h];const a=this.geometry.morphTargetsRelative?1:1-o,l=r*e;s[l]=a,s.set(i,l+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null)}}const c2=new B,cF=new B,uF=new Mt;class Ls{constructor(e=new B(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,i,r){return this.normal.set(e,t,i),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,i){const r=c2.subVectors(i,t).cross(cF.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const i=e.delta(c2),r=this.normal.dot(i);if(r===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/r;return s<0||s>1?null:t.copy(e.start).addScaledVector(i,s)}intersectsLine(e){const t=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return t<0&&i>0||i<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const i=t||uF.getNormalMatrix(e),r=this.coplanarPoint(c2).applyMatrix4(e),s=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const _a=new Zn,y0=new B;class tu{constructor(e=new Ls,t=new Ls,i=new Ls,r=new Ls,s=new Ls,o=new Ls){this.planes=[e,t,i,r,s,o]}set(e,t,i,r,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(i),a[3].copy(r),a[4].copy(s),a[5].copy(o),this}copy(e){const t=this.planes;for(let i=0;i<6;i++)t[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e,t=wr){const i=this.planes,r=e.elements,s=r[0],o=r[1],a=r[2],l=r[3],h=r[4],f=r[5],d=r[6],p=r[7],m=r[8],y=r[9],w=r[10],S=r[11],g=r[12],x=r[13],M=r[14],E=r[15];if(i[0].setComponents(l-s,p-h,S-m,E-g).normalize(),i[1].setComponents(l+s,p+h,S+m,E+g).normalize(),i[2].setComponents(l+o,p+f,S+y,E+x).normalize(),i[3].setComponents(l-o,p-f,S-y,E-x).normalize(),i[4].setComponents(l-a,p-d,S-w,E-M).normalize(),t===wr)i[5].setComponents(l+a,p+d,S+w,E+M).normalize();else if(t===ef)i[5].setComponents(a,d,w,M).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),_a.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),_a.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(_a)}intersectsSprite(e){return _a.center.set(0,0,0),_a.radius=.7071067811865476,_a.applyMatrix4(e.matrixWorld),this.intersectsSphere(_a)}intersectsSphere(e){const t=this.planes,i=e.center,r=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(i)<r)return!1;return!0}intersectsBox(e){const t=this.planes;for(let i=0;i<6;i++){const r=t[i];if(y0.x=r.normal.x>0?e.max.x:e.min.x,y0.y=r.normal.y>0?e.max.y:e.min.y,y0.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(y0)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let i=0;i<6;i++)if(t[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}const ns=new gt,is=new tu;class T1{constructor(){this.coordinateSystem=wr}intersectsObject(e,t){if(!t.isArrayCamera||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const r=t.cameras[i];if(ns.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),is.setFromProjectionMatrix(ns,this.coordinateSystem),is.intersectsObject(e))return!0}return!1}intersectsSprite(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const r=t.cameras[i];if(ns.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),is.setFromProjectionMatrix(ns,this.coordinateSystem),is.intersectsSprite(e))return!0}return!1}intersectsSphere(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const r=t.cameras[i];if(ns.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),is.setFromProjectionMatrix(ns,this.coordinateSystem),is.intersectsSphere(e))return!0}return!1}intersectsBox(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const r=t.cameras[i];if(ns.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),is.setFromProjectionMatrix(ns,this.coordinateSystem),is.intersectsBox(e))return!0}return!1}containsPoint(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const r=t.cameras[i];if(ns.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),is.setFromProjectionMatrix(ns,this.coordinateSystem),is.containsPoint(e))return!0}return!1}clone(){return new T1}}function u2(n,e){return n-e}function hF(n,e){return n.z-e.z}function fF(n,e){return e.z-n.z}class dF{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,t,i,r){const s=this.pool,o=this.list;this.index>=s.length&&s.push({start:-1,count:-1,z:-1,index:-1});const a=s[this.index];o.push(a),this.index++,a.start=e,a.count=t,a.z=i,a.index=r}reset(){this.list.length=0,this.index=0}}const Ni=new gt,pF=new ke(1,1,1),Qw=new tu,mF=new T1,x0=new fi,Sa=new Zn,Vu=new B,e5=new B,gF=new B,h2=new dF,ai=new Pn,_0=[];function vF(n,e,t=0){const i=e.itemSize;if(n.isInterleavedBufferAttribute||n.array.constructor!==e.array.constructor){const r=n.count;for(let s=0;s<r;s++)for(let o=0;o<i;o++)e.setComponent(s+t,o,n.getComponent(s,o))}else e.array.set(n.array,t*i);e.needsUpdate=!0}function Ma(n,e){if(n.constructor!==e.constructor){const t=Math.min(n.length,e.length);for(let i=0;i<t;i++)e[i]=n[i]}else{const t=Math.min(n.length,e.length);e.set(new n.constructor(n.buffer,0,t))}}class T8 extends Pn{constructor(e,t,i=t*2,r){super(new Tt,r),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=t,this._maxIndexCount=i,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4),i=new ds(t,e,e,ui,zi);this._matricesTexture=i}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Uint32Array(e*e),i=new ds(t,e,e,Sf,$s);this._indirectTexture=i}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Float32Array(e*e*4).fill(1),i=new ds(t,e,e,ui,zi);i.colorSpace=Ft.workingColorSpace,this._colorsTexture=i}_initializeGeometry(e){const t=this.geometry,i=this._maxVertexCount,r=this._maxIndexCount;if(this._geometryInitialized===!1){for(const s in e.attributes){const o=e.getAttribute(s),{array:a,itemSize:l,normalized:h}=o,f=new a.constructor(i*l),d=new Zt(f,l,h);t.setAttribute(s,d)}if(e.getIndex()!==null){const s=i>65535?new Uint32Array(r):new Uint16Array(r);t.setIndex(new Zt(s,1))}this._geometryInitialized=!0}}_validateGeometry(e){const t=this.geometry;if(!!e.getIndex()!=!!t.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const i in t.attributes){if(!e.hasAttribute(i))throw new Error(`THREE.BatchedMesh: Added geometry missing "${i}". All geometries must have consistent attributes.`);const r=e.getAttribute(i),s=t.getAttribute(i);if(r.itemSize!==s.itemSize||r.normalized!==s.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){const t=this._instanceInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${e}. Instance is either out of range or has been deleted.`)}validateGeometryId(e){const t=this._geometryInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new fi);const e=this.boundingBox,t=this._instanceInfo;e.makeEmpty();for(let i=0,r=t.length;i<r;i++){if(t[i].active===!1)continue;const s=t[i].geometryIndex;this.getMatrixAt(i,Ni),this.getBoundingBoxAt(s,x0).applyMatrix4(Ni),e.union(x0)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Zn);const e=this.boundingSphere,t=this._instanceInfo;e.makeEmpty();for(let i=0,r=t.length;i<r;i++){if(t[i].active===!1)continue;const s=t[i].geometryIndex;this.getMatrixAt(i,Ni),this.getBoundingSphereAt(s,Sa).applyMatrix4(Ni),e.union(Sa)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const i={visible:!0,active:!0,geometryIndex:e};let r=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(u2),r=this._availableInstanceIds.shift(),this._instanceInfo[r]=i):(r=this._instanceInfo.length,this._instanceInfo.push(i));const s=this._matricesTexture;Ni.identity().toArray(s.image.data,r*16),s.needsUpdate=!0;const o=this._colorsTexture;return o&&(pF.toArray(o.image.data,r*4),o.needsUpdate=!0),this._visibilityChanged=!0,r}addGeometry(e,t=-1,i=-1){this._initializeGeometry(e),this._validateGeometry(e);const r={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},s=this._geometryInfo;r.vertexStart=this._nextVertexStart,r.reservedVertexCount=t===-1?e.getAttribute("position").count:t;const o=e.getIndex();if(o!==null&&(r.indexStart=this._nextIndexStart,r.reservedIndexCount=i===-1?o.count:i),r.indexStart!==-1&&r.indexStart+r.reservedIndexCount>this._maxIndexCount||r.vertexStart+r.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let l;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(u2),l=this._availableGeometryIds.shift(),s[l]=r):(l=this._geometryCount,this._geometryCount++,s.push(r)),this.setGeometryAt(l,e),this._nextIndexStart=r.indexStart+r.reservedIndexCount,this._nextVertexStart=r.vertexStart+r.reservedVertexCount,l}setGeometryAt(e,t){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(t);const i=this.geometry,r=i.getIndex()!==null,s=i.getIndex(),o=t.getIndex(),a=this._geometryInfo[e];if(r&&o.count>a.reservedIndexCount||t.attributes.position.count>a.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const l=a.vertexStart,h=a.reservedVertexCount;a.vertexCount=t.getAttribute("position").count;for(const f in i.attributes){const d=t.getAttribute(f),p=i.getAttribute(f);vF(d,p,l);const m=d.itemSize;for(let y=d.count,w=h;y<w;y++){const S=l+y;for(let g=0;g<m;g++)p.setComponent(S,g,0)}p.needsUpdate=!0,p.addUpdateRange(l*m,h*m)}if(r){const f=a.indexStart,d=a.reservedIndexCount;a.indexCount=t.getIndex().count;for(let p=0;p<o.count;p++)s.setX(f+p,l+o.getX(p));for(let p=o.count,m=d;p<m;p++)s.setX(f+p,l);s.needsUpdate=!0,s.addUpdateRange(f,a.reservedIndexCount)}return a.start=r?a.indexStart:a.vertexStart,a.count=r?a.indexCount:a.vertexCount,a.boundingBox=null,t.boundingBox!==null&&(a.boundingBox=t.boundingBox.clone()),a.boundingSphere=null,t.boundingSphere!==null&&(a.boundingSphere=t.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const t=this._geometryInfo;if(e>=t.length||t[e].active===!1)return this;const i=this._instanceInfo;for(let r=0,s=i.length;r<s;r++)i[r].active&&i[r].geometryIndex===e&&this.deleteInstance(r);return t[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,t=0;const i=this._geometryInfo,r=i.map((o,a)=>a).sort((o,a)=>i[o].vertexStart-i[a].vertexStart),s=this.geometry;for(let o=0,a=i.length;o<a;o++){const l=r[o],h=i[l];if(h.active!==!1){if(s.index!==null){if(h.indexStart!==t){const{indexStart:f,vertexStart:d,reservedIndexCount:p}=h,m=s.index,y=m.array,w=e-d;for(let S=f;S<f+p;S++)y[S]=y[S]+w;m.array.copyWithin(t,f,f+p),m.addUpdateRange(t,p),h.indexStart=t}t+=h.reservedIndexCount}if(h.vertexStart!==e){const{vertexStart:f,reservedVertexCount:d}=h,p=s.attributes;for(const m in p){const y=p[m],{array:w,itemSize:S}=y;w.copyWithin(e*S,f*S,(f+d)*S),y.addUpdateRange(e*S,d*S)}h.vertexStart=e}e+=h.reservedVertexCount,h.start=s.index?h.indexStart:h.vertexStart,this._nextIndexStart=s.index?h.indexStart+h.reservedIndexCount:0,this._nextVertexStart=h.vertexStart+h.reservedVertexCount}}return this}getBoundingBoxAt(e,t){if(e>=this._geometryCount)return null;const i=this.geometry,r=this._geometryInfo[e];if(r.boundingBox===null){const s=new fi,o=i.index,a=i.attributes.position;for(let l=r.start,h=r.start+r.count;l<h;l++){let f=l;o&&(f=o.getX(f)),s.expandByPoint(Vu.fromBufferAttribute(a,f))}r.boundingBox=s}return t.copy(r.boundingBox),t}getBoundingSphereAt(e,t){if(e>=this._geometryCount)return null;const i=this.geometry,r=this._geometryInfo[e];if(r.boundingSphere===null){const s=new Zn;this.getBoundingBoxAt(e,x0),x0.getCenter(s.center);const o=i.index,a=i.attributes.position;let l=0;for(let h=r.start,f=r.start+r.count;h<f;h++){let d=h;o&&(d=o.getX(d)),Vu.fromBufferAttribute(a,d),l=Math.max(l,s.center.distanceToSquared(Vu))}s.radius=Math.sqrt(l),r.boundingSphere=s}return t.copy(r.boundingSphere),t}setMatrixAt(e,t){this.validateInstanceId(e);const i=this._matricesTexture,r=this._matricesTexture.image.data;return t.toArray(r,e*16),i.needsUpdate=!0,this}getMatrixAt(e,t){return this.validateInstanceId(e),t.fromArray(this._matricesTexture.image.data,e*16)}setColorAt(e,t){return this.validateInstanceId(e),this._colorsTexture===null&&this._initColorsTexture(),t.toArray(this._colorsTexture.image.data,e*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,t){return this.validateInstanceId(e),t.fromArray(this._colorsTexture.image.data,e*4)}setVisibleAt(e,t){return this.validateInstanceId(e),this._instanceInfo[e].visible===t?this:(this._instanceInfo[e].visible=t,this._visibilityChanged=!0,this)}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,t){return this.validateInstanceId(e),this.validateGeometryId(t),this._instanceInfo[e].geometryIndex=t,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e,t={}){this.validateGeometryId(e);const i=this._geometryInfo[e];return t.vertexStart=i.vertexStart,t.vertexCount=i.vertexCount,t.reservedVertexCount=i.reservedVertexCount,t.indexStart=i.indexStart,t.indexCount=i.indexCount,t.reservedIndexCount=i.reservedIndexCount,t.start=i.start,t.count=i.count,t}setInstanceCount(e){const t=this._availableInstanceIds,i=this._instanceInfo;for(t.sort(u2);t[t.length-1]===i.length;)i.pop(),t.pop();if(e<i.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const r=new Int32Array(e),s=new Int32Array(e);Ma(this._multiDrawCounts,r),Ma(this._multiDrawStarts,s),this._multiDrawCounts=r,this._multiDrawStarts=s,this._maxInstanceCount=e;const o=this._indirectTexture,a=this._matricesTexture,l=this._colorsTexture;o.dispose(),this._initIndirectTexture(),Ma(o.image.data,this._indirectTexture.image.data),a.dispose(),this._initMatricesTexture(),Ma(a.image.data,this._matricesTexture.image.data),l&&(l.dispose(),this._initColorsTexture(),Ma(l.image.data,this._colorsTexture.image.data))}setGeometrySize(e,t){const i=[...this._geometryInfo].filter(a=>a.active);if(Math.max(...i.map(a=>a.vertexStart+a.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${t}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...i.map(l=>l.indexStart+l.reservedIndexCount))>t)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${t}. Cannot shrink further.`);const s=this.geometry;s.dispose(),this._maxVertexCount=e,this._maxIndexCount=t,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new Tt,this._initializeGeometry(s));const o=this.geometry;s.index&&Ma(s.index.array,o.index.array);for(const a in s.attributes)Ma(s.attributes[a].array,o.attributes[a].array)}raycast(e,t){const i=this._instanceInfo,r=this._geometryInfo,s=this.matrixWorld,o=this.geometry;ai.material=this.material,ai.geometry.index=o.index,ai.geometry.attributes=o.attributes,ai.geometry.boundingBox===null&&(ai.geometry.boundingBox=new fi),ai.geometry.boundingSphere===null&&(ai.geometry.boundingSphere=new Zn);for(let a=0,l=i.length;a<l;a++){if(!i[a].visible||!i[a].active)continue;const h=i[a].geometryIndex,f=r[h];ai.geometry.setDrawRange(f.start,f.count),this.getMatrixAt(a,ai.matrixWorld).premultiply(s),this.getBoundingBoxAt(h,ai.geometry.boundingBox),this.getBoundingSphereAt(h,ai.geometry.boundingSphere),ai.raycast(e,_0);for(let d=0,p=_0.length;d<p;d++){const m=_0[d];m.object=this,m.batchId=a,t.push(m)}_0.length=0}ai.material=null,ai.geometry.index=null,ai.geometry.attributes={},ai.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(t=>({...t,boundingBox:t.boundingBox!==null?t.boundingBox.clone():null,boundingSphere:t.boundingSphere!==null?t.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(t=>({...t})),this._availableInstanceIds=e._availableInstanceIds.slice(),this._availableGeometryIds=e._availableGeometryIds.slice(),this._nextIndexStart=e._nextIndexStart,this._nextVertexStart=e._nextVertexStart,this._geometryCount=e._geometryCount,this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._indirectTexture=e._indirectTexture.clone(),this._indirectTexture.image.data=this._indirectTexture.image.data.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(e,t,i,r,s){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const o=r.getIndex(),a=o===null?1:o.array.BYTES_PER_ELEMENT,l=this._instanceInfo,h=this._multiDrawStarts,f=this._multiDrawCounts,d=this._geometryInfo,p=this.perObjectFrustumCulled,m=this._indirectTexture,y=m.image.data,w=i.isArrayCamera?mF:Qw;p&&!i.isArrayCamera&&(Ni.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse).multiply(this.matrixWorld),Qw.setFromProjectionMatrix(Ni,e.coordinateSystem));let S=0;if(this.sortObjects){Ni.copy(this.matrixWorld).invert(),Vu.setFromMatrixPosition(i.matrixWorld).applyMatrix4(Ni),e5.set(0,0,-1).transformDirection(i.matrixWorld).transformDirection(Ni);for(let M=0,E=l.length;M<E;M++)if(l[M].visible&&l[M].active){const C=l[M].geometryIndex;this.getMatrixAt(M,Ni),this.getBoundingSphereAt(C,Sa).applyMatrix4(Ni);let P=!1;if(p&&(P=!w.intersectsSphere(Sa,i)),!P){const I=d[C],L=gF.subVectors(Sa.center,Vu).dot(e5);h2.push(I.start,I.count,L,M)}}const g=h2.list,x=this.customSort;x===null?g.sort(s.transparent?fF:hF):x.call(this,g,i);for(let M=0,E=g.length;M<E;M++){const C=g[M];h[S]=C.start*a,f[S]=C.count,y[S]=C.index,S++}h2.reset()}else for(let g=0,x=l.length;g<x;g++)if(l[g].visible&&l[g].active){const M=l[g].geometryIndex;let E=!1;if(p&&(this.getMatrixAt(g,Ni),this.getBoundingSphereAt(M,Sa).applyMatrix4(Ni),E=!w.intersectsSphere(Sa,i)),!E){const C=d[M];h[S]=C.start*a,f[S]=C.count,y[S]=g,S++}}m.needsUpdate=!0,this._multiDrawCount=S,this._visibilityChanged=!1}onBeforeShadow(e,t,i,r,s,o){this.onBeforeRender(e,null,r,s,o)}}class Ai extends pi{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new ke(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const Pm=new B,Rm=new B,t5=new gt,Hu=new dl,S0=new Zn,f2=new B,n5=new B;class Ko extends Ht{constructor(e=new Tt,t=new Ai){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[0];for(let r=1,s=t.count;r<s;r++)Pm.fromBufferAttribute(t,r-1),Rm.fromBufferAttribute(t,r),i[r]=i[r-1],i[r]+=Pm.distanceTo(Rm);e.setAttribute("lineDistance",new Ke(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,s=e.params.Line.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),S0.copy(i.boundingSphere),S0.applyMatrix4(r),S0.radius+=s,e.ray.intersectsSphere(S0)===!1)return;t5.copy(r).invert(),Hu.copy(e.ray).applyMatrix4(t5);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,h=this.isLineSegments?2:1,f=i.index,p=i.attributes.position;if(f!==null){const m=Math.max(0,o.start),y=Math.min(f.count,o.start+o.count);for(let w=m,S=y-1;w<S;w+=h){const g=f.getX(w),x=f.getX(w+1),M=M0(this,e,Hu,l,g,x,w);M&&t.push(M)}if(this.isLineLoop){const w=f.getX(y-1),S=f.getX(m),g=M0(this,e,Hu,l,w,S,y-1);g&&t.push(g)}}else{const m=Math.max(0,o.start),y=Math.min(p.count,o.start+o.count);for(let w=m,S=y-1;w<S;w+=h){const g=M0(this,e,Hu,l,w,w+1,w);g&&t.push(g)}if(this.isLineLoop){const w=M0(this,e,Hu,l,y-1,m,y-1);w&&t.push(w)}}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function M0(n,e,t,i,r,s,o){const a=n.geometry.attributes.position;if(Pm.fromBufferAttribute(a,r),Rm.fromBufferAttribute(a,s),t.distanceSqToSegment(Pm,Rm,f2,n5)>i)return;f2.applyMatrix4(n.matrixWorld);const h=e.ray.origin.distanceTo(f2);if(!(h<e.near||h>e.far))return{distance:h,point:n5.clone().applyMatrix4(n.matrixWorld),index:o,face:null,faceIndex:null,barycoord:null,object:n}}const i5=new B,r5=new B;class gs extends Ko{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[];for(let r=0,s=t.count;r<s;r+=2)i5.fromBufferAttribute(t,r),r5.fromBufferAttribute(t,r+1),i[r]=r===0?0:i[r-1],i[r+1]=i[r]+i5.distanceTo(r5);e.setAttribute("lineDistance",new Ke(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class A8 extends Ko{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class Z3 extends pi{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new ke(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const s5=new gt,nx=new dl,w0=new Zn,E0=new B;class b8 extends Ht{constructor(e=new Tt,t=new Z3){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,s=e.params.Points.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),w0.copy(i.boundingSphere),w0.applyMatrix4(r),w0.radius+=s,e.ray.intersectsSphere(w0)===!1)return;s5.copy(r).invert(),nx.copy(e.ray).applyMatrix4(s5);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,h=i.index,d=i.attributes.position;if(h!==null){const p=Math.max(0,o.start),m=Math.min(h.count,o.start+o.count);for(let y=p,w=m;y<w;y++){const S=h.getX(y);E0.fromBufferAttribute(d,S),o5(E0,S,l,r,e,t,this)}}else{const p=Math.max(0,o.start),m=Math.min(d.count,o.start+o.count);for(let y=p,w=m;y<w;y++)E0.fromBufferAttribute(d,y),o5(E0,y,l,r,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function o5(n,e,t,i,r,s,o){const a=nx.distanceSqToPoint(n);if(a<t){const l=new B;nx.closestPointToPoint(n,l),l.applyMatrix4(i);const h=r.ray.origin.distanceTo(l);if(h<r.near||h>r.far)return;s.push({distance:h,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,faceIndex:null,barycoord:null,object:o})}}class C8 extends yn{constructor(e,t,i,r,s=Dn,o=Dn,a,l,h){super(e,t,i,r,s,o,a,l,h),this.isVideoTexture=!0,this.generateMipmaps=!1;const f=this;function d(){f.needsUpdate=!0,e.requestVideoFrameCallback(d)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(d)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class yF extends C8{constructor(e,t,i,r,s,o,a,l){super({},e,t,i,r,s,o,a,l),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(e){this.image=e,this.needsUpdate=!0}}class xF extends yn{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=Yn,this.minFilter=Yn,this.generateMipmaps=!1,this.needsUpdate=!0}}class A1 extends yn{constructor(e,t,i,r,s,o,a,l,h,f,d,p){super(null,o,a,l,h,f,r,s,d,p),this.isCompressedTexture=!0,this.image={width:t,height:i},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class _F extends A1{constructor(e,t,i,r,s,o){super(e,t,i,s,o),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=Mr,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class SF extends A1{constructor(e,t,i){super(void 0,e[0].width,e[0].height,t,i,Ks),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class MF extends yn{constructor(e,t,i,r,s,o,a,l,h){super(e,t,i,r,s,o,a,l,h),this.isCanvasTexture=!0,this.needsUpdate=!0}}class b1 extends yn{constructor(e,t,i=$s,r,s,o,a=Yn,l=Yn,h,f=Vc){if(f!==Vc&&f!==Hc)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");super(null,r,s,o,a,l,f,i,h),this.isDepthTexture=!0,this.image={width:e,height:t},this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new Io(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}class wF extends b1{constructor(e=1,t=1,i=1){super(e,t),this.isDepthArrayTexture=!0,this.image={width:e,height:t,depth:i},this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class C1 extends Tt{constructor(e=1,t=1,i=4,r=8,s=1){super(),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:i,radialSegments:r,heightSegments:s},t=Math.max(0,t),i=Math.max(1,Math.floor(i)),r=Math.max(3,Math.floor(r)),s=Math.max(1,Math.floor(s));const o=[],a=[],l=[],h=[],f=t/2,d=Math.PI/2*e,p=t,m=2*d+p,y=i*2+s,w=r+1,S=new B,g=new B;for(let x=0;x<=y;x++){let M=0,E=0,C=0,P=0;if(x<=i){const R=x/i,A=R*Math.PI/2;E=-f-e*Math.cos(A),C=e*Math.sin(A),P=-e*Math.cos(A),M=R*d}else if(x<=i+s){const R=(x-i)/s;E=-f+R*t,C=e,P=0,M=d+R*p}else{const R=(x-i-s)/i,A=R*Math.PI/2;E=f+e*Math.sin(A),C=e*Math.cos(A),P=e*Math.sin(A),M=d+p+R*d}const I=Math.max(0,Math.min(1,M/m));let L=0;x===0?L=.5/r:x===y&&(L=-.5/r);for(let R=0;R<=r;R++){const A=R/r,k=A*Math.PI*2,X=Math.sin(k),q=Math.cos(k);g.x=-C*q,g.y=E,g.z=C*X,a.push(g.x,g.y,g.z),S.set(-C*q,P,C*X),S.normalize(),l.push(S.x,S.y,S.z),h.push(A+L,I)}if(x>0){const R=(x-1)*w;for(let A=0;A<r;A++){const k=R+A,X=R+A+1,q=x*w+A,ne=x*w+A+1;o.push(k,X,q),o.push(X,ne,q)}}}this.setIndex(o),this.setAttribute("position",new Ke(a,3)),this.setAttribute("normal",new Ke(l,3)),this.setAttribute("uv",new Ke(h,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new C1(e.radius,e.height,e.capSegments,e.radialSegments,e.heightSegments)}}class P1 extends Tt{constructor(e=1,t=32,i=0,r=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:i,thetaLength:r},t=Math.max(3,t);const s=[],o=[],a=[],l=[],h=new B,f=new ge;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let d=0,p=3;d<=t;d++,p+=3){const m=i+d/t*r;h.x=e*Math.cos(m),h.y=e*Math.sin(m),o.push(h.x,h.y,h.z),a.push(0,0,1),f.x=(o[p]/e+1)/2,f.y=(o[p+1]/e+1)/2,l.push(f.x,f.y)}for(let d=1;d<=t;d++)s.push(d,d+1,0);this.setIndex(s),this.setAttribute("position",new Ke(o,3)),this.setAttribute("normal",new Ke(a,3)),this.setAttribute("uv",new Ke(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new P1(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Tf extends Tt{constructor(e=1,t=1,i=1,r=32,s=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:i,radialSegments:r,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const h=this;r=Math.floor(r),s=Math.floor(s);const f=[],d=[],p=[],m=[];let y=0;const w=[],S=i/2;let g=0;x(),o===!1&&(e>0&&M(!0),t>0&&M(!1)),this.setIndex(f),this.setAttribute("position",new Ke(d,3)),this.setAttribute("normal",new Ke(p,3)),this.setAttribute("uv",new Ke(m,2));function x(){const E=new B,C=new B;let P=0;const I=(t-e)/i;for(let L=0;L<=s;L++){const R=[],A=L/s,k=A*(t-e)+e;for(let X=0;X<=r;X++){const q=X/r,ne=q*l+a,se=Math.sin(ne),te=Math.cos(ne);C.x=k*se,C.y=-A*i+S,C.z=k*te,d.push(C.x,C.y,C.z),E.set(se,I,te).normalize(),p.push(E.x,E.y,E.z),m.push(q,1-A),R.push(y++)}w.push(R)}for(let L=0;L<r;L++)for(let R=0;R<s;R++){const A=w[R][L],k=w[R+1][L],X=w[R+1][L+1],q=w[R][L+1];(e>0||R!==0)&&(f.push(A,k,q),P+=3),(t>0||R!==s-1)&&(f.push(k,X,q),P+=3)}h.addGroup(g,P,0),g+=P}function M(E){const C=y,P=new ge,I=new B;let L=0;const R=E===!0?e:t,A=E===!0?1:-1;for(let X=1;X<=r;X++)d.push(0,S*A,0),p.push(0,A,0),m.push(.5,.5),y++;const k=y;for(let X=0;X<=r;X++){const ne=X/r*l+a,se=Math.cos(ne),te=Math.sin(ne);I.x=R*te,I.y=S*A,I.z=R*se,d.push(I.x,I.y,I.z),p.push(0,A,0),P.x=se*.5+.5,P.y=te*.5*A+.5,m.push(P.x,P.y),y++}for(let X=0;X<r;X++){const q=C+X,ne=k+X;E===!0?f.push(ne,ne+1,q):f.push(ne+1,ne,q),L+=3}h.addGroup(g,L,E===!0?1:2),g+=L}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Tf(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Af extends Tf{constructor(e=1,t=1,i=32,r=1,s=!1,o=0,a=Math.PI*2){super(0,e,t,i,r,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:i,heightSegments:r,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new Af(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class ra extends Tt{constructor(e=[],t=[],i=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:i,detail:r};const s=[],o=[];a(r),h(i),f(),this.setAttribute("position",new Ke(s,3)),this.setAttribute("normal",new Ke(s.slice(),3)),this.setAttribute("uv",new Ke(o,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function a(x){const M=new B,E=new B,C=new B;for(let P=0;P<t.length;P+=3)m(t[P+0],M),m(t[P+1],E),m(t[P+2],C),l(M,E,C,x)}function l(x,M,E,C){const P=C+1,I=[];for(let L=0;L<=P;L++){I[L]=[];const R=x.clone().lerp(E,L/P),A=M.clone().lerp(E,L/P),k=P-L;for(let X=0;X<=k;X++)X===0&&L===P?I[L][X]=R:I[L][X]=R.clone().lerp(A,X/k)}for(let L=0;L<P;L++)for(let R=0;R<2*(P-L)-1;R++){const A=Math.floor(R/2);R%2===0?(p(I[L][A+1]),p(I[L+1][A]),p(I[L][A])):(p(I[L][A+1]),p(I[L+1][A+1]),p(I[L+1][A]))}}function h(x){const M=new B;for(let E=0;E<s.length;E+=3)M.x=s[E+0],M.y=s[E+1],M.z=s[E+2],M.normalize().multiplyScalar(x),s[E+0]=M.x,s[E+1]=M.y,s[E+2]=M.z}function f(){const x=new B;for(let M=0;M<s.length;M+=3){x.x=s[M+0],x.y=s[M+1],x.z=s[M+2];const E=S(x)/2/Math.PI+.5,C=g(x)/Math.PI+.5;o.push(E,1-C)}y(),d()}function d(){for(let x=0;x<o.length;x+=6){const M=o[x+0],E=o[x+2],C=o[x+4],P=Math.max(M,E,C),I=Math.min(M,E,C);P>.9&&I<.1&&(M<.2&&(o[x+0]+=1),E<.2&&(o[x+2]+=1),C<.2&&(o[x+4]+=1))}}function p(x){s.push(x.x,x.y,x.z)}function m(x,M){const E=x*3;M.x=e[E+0],M.y=e[E+1],M.z=e[E+2]}function y(){const x=new B,M=new B,E=new B,C=new B,P=new ge,I=new ge,L=new ge;for(let R=0,A=0;R<s.length;R+=9,A+=6){x.set(s[R+0],s[R+1],s[R+2]),M.set(s[R+3],s[R+4],s[R+5]),E.set(s[R+6],s[R+7],s[R+8]),P.set(o[A+0],o[A+1]),I.set(o[A+2],o[A+3]),L.set(o[A+4],o[A+5]),C.copy(x).add(M).add(E).divideScalar(3);const k=S(C);w(P,A+0,x,k),w(I,A+2,M,k),w(L,A+4,E,k)}}function w(x,M,E,C){C<0&&x.x===1&&(o[M]=x.x-1),E.x===0&&E.z===0&&(o[M]=C/2/Math.PI+.5)}function S(x){return Math.atan2(x.z,-x.x)}function g(x){return Math.atan2(-x.y,Math.sqrt(x.x*x.x+x.z*x.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ra(e.vertices,e.indices,e.radius,e.details)}}class R1 extends ra{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=1/i,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-i,0,-r,i,0,r,-i,0,r,i,-r,-i,0,-r,i,0,r,-i,0,r,i,0,-i,0,-r,i,0,-r,-i,0,r,i,0,r],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new R1(e.radius,e.detail)}}const T0=new B,A0=new B,d2=new B,b0=new Oi;class P8 extends Tt{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const r=Math.pow(10,4),s=Math.cos(Ka*t),o=e.getIndex(),a=e.getAttribute("position"),l=o?o.count:a.count,h=[0,0,0],f=["a","b","c"],d=new Array(3),p={},m=[];for(let y=0;y<l;y+=3){o?(h[0]=o.getX(y),h[1]=o.getX(y+1),h[2]=o.getX(y+2)):(h[0]=y,h[1]=y+1,h[2]=y+2);const{a:w,b:S,c:g}=b0;if(w.fromBufferAttribute(a,h[0]),S.fromBufferAttribute(a,h[1]),g.fromBufferAttribute(a,h[2]),b0.getNormal(d2),d[0]=`${Math.round(w.x*r)},${Math.round(w.y*r)},${Math.round(w.z*r)}`,d[1]=`${Math.round(S.x*r)},${Math.round(S.y*r)},${Math.round(S.z*r)}`,d[2]=`${Math.round(g.x*r)},${Math.round(g.y*r)},${Math.round(g.z*r)}`,!(d[0]===d[1]||d[1]===d[2]||d[2]===d[0]))for(let x=0;x<3;x++){const M=(x+1)%3,E=d[x],C=d[M],P=b0[f[x]],I=b0[f[M]],L=`${E}_${C}`,R=`${C}_${E}`;R in p&&p[R]?(d2.dot(p[R].normal)<=s&&(m.push(P.x,P.y,P.z),m.push(I.x,I.y,I.z)),p[R]=null):L in p||(p[L]={index0:h[x],index1:h[M],normal:d2.clone()})}}for(const y in p)if(p[y]){const{index0:w,index1:S}=p[y];T0.fromBufferAttribute(a,w),A0.fromBufferAttribute(a,S),m.push(T0.x,T0.y,T0.z),m.push(A0.x,A0.y,A0.z)}this.setAttribute("position",new Ke(m,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class Xr{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){console.warn("THREE.Curve: .getPoint() not implemented.")}getPointAt(e,t){const i=this.getUtoTmapping(e);return this.getPoint(i,t)}getPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return t}getSpacedPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPointAt(i/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let i,r=this.getPoint(0),s=0;t.push(0);for(let o=1;o<=e;o++)i=this.getPoint(o/e),s+=i.distanceTo(r),t.push(s),r=i;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t=null){const i=this.getLengths();let r=0;const s=i.length;let o;t?o=t:o=e*i[s-1];let a=0,l=s-1,h;for(;a<=l;)if(r=Math.floor(a+(l-a)/2),h=i[r]-o,h<0)a=r+1;else if(h>0)l=r-1;else{l=r;break}if(r=l,i[r]===o)return r/(s-1);const f=i[r],p=i[r+1]-f,m=(o-f)/p;return(r+m)/(s-1)}getTangent(e,t){let r=e-1e-4,s=e+1e-4;r<0&&(r=0),s>1&&(s=1);const o=this.getPoint(r),a=this.getPoint(s),l=t||(o.isVector2?new ge:new B);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,t){const i=this.getUtoTmapping(e);return this.getTangent(i,t)}computeFrenetFrames(e,t=!1){const i=new B,r=[],s=[],o=[],a=new B,l=new gt;for(let m=0;m<=e;m++){const y=m/e;r[m]=this.getTangentAt(y,new B)}s[0]=new B,o[0]=new B;let h=Number.MAX_VALUE;const f=Math.abs(r[0].x),d=Math.abs(r[0].y),p=Math.abs(r[0].z);f<=h&&(h=f,i.set(1,0,0)),d<=h&&(h=d,i.set(0,1,0)),p<=h&&i.set(0,0,1),a.crossVectors(r[0],i).normalize(),s[0].crossVectors(r[0],a),o[0].crossVectors(r[0],s[0]);for(let m=1;m<=e;m++){if(s[m]=s[m-1].clone(),o[m]=o[m-1].clone(),a.crossVectors(r[m-1],r[m]),a.length()>Number.EPSILON){a.normalize();const y=Math.acos(xt(r[m-1].dot(r[m]),-1,1));s[m].applyMatrix4(l.makeRotationAxis(a,y))}o[m].crossVectors(r[m],s[m])}if(t===!0){let m=Math.acos(xt(s[0].dot(s[e]),-1,1));m/=e,r[0].dot(a.crossVectors(s[0],s[e]))>0&&(m=-m);for(let y=1;y<=e;y++)s[y].applyMatrix4(l.makeRotationAxis(r[y],m*y)),o[y].crossVectors(r[y],s[y])}return{tangents:r,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class I1 extends Xr{constructor(e=0,t=0,i=1,r=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=i,this.yRadius=r,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,t=new ge){const i=t,r=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=r;for(;s>r;)s-=r;s<Number.EPSILON&&(o?s=0:s=r),this.aClockwise===!0&&!o&&(s===r?s=-r:s=s-r);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),h=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const f=Math.cos(this.aRotation),d=Math.sin(this.aRotation),p=l-this.aX,m=h-this.aY;l=p*f-m*d+this.aX,h=p*d+m*f+this.aY}return i.set(l,h)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class R8 extends I1{constructor(e,t,i,r,s,o){super(e,t,i,i,r,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function K3(){let n=0,e=0,t=0,i=0;function r(s,o,a,l){n=s,e=a,t=-3*s+3*o-2*a-l,i=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,h){r(o,a,h*(a-s),h*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,h,f,d){let p=(o-s)/h-(a-s)/(h+f)+(a-o)/f,m=(a-o)/f-(l-o)/(f+d)+(l-a)/d;p*=f,m*=f,r(o,a,p,m)},calc:function(s){const o=s*s,a=o*s;return n+e*s+t*o+i*a}}}const C0=new B,p2=new K3,m2=new K3,g2=new K3;class I8 extends Xr{constructor(e=[],t=!1,i="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=i,this.tension=r}getPoint(e,t=new B){const i=t,r=this.points,s=r.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let h,f;this.closed||a>0?h=r[(a-1)%s]:(C0.subVectors(r[0],r[1]).add(r[0]),h=C0);const d=r[a%s],p=r[(a+1)%s];if(this.closed||a+2<s?f=r[(a+2)%s]:(C0.subVectors(r[s-1],r[s-2]).add(r[s-1]),f=C0),this.curveType==="centripetal"||this.curveType==="chordal"){const m=this.curveType==="chordal"?.5:.25;let y=Math.pow(h.distanceToSquared(d),m),w=Math.pow(d.distanceToSquared(p),m),S=Math.pow(p.distanceToSquared(f),m);w<1e-4&&(w=1),y<1e-4&&(y=w),S<1e-4&&(S=w),p2.initNonuniformCatmullRom(h.x,d.x,p.x,f.x,y,w,S),m2.initNonuniformCatmullRom(h.y,d.y,p.y,f.y,y,w,S),g2.initNonuniformCatmullRom(h.z,d.z,p.z,f.z,y,w,S)}else this.curveType==="catmullrom"&&(p2.initCatmullRom(h.x,d.x,p.x,f.x,this.tension),m2.initCatmullRom(h.y,d.y,p.y,f.y,this.tension),g2.initCatmullRom(h.z,d.z,p.z,f.z,this.tension));return i.set(p2.calc(l),m2.calc(l),g2.calc(l)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new B().fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function a5(n,e,t,i,r){const s=(i-e)*.5,o=(r-t)*.5,a=n*n,l=n*a;return(2*t-2*i+s+o)*l+(-3*t+3*i-2*s-o)*a+s*n+t}function EF(n,e){const t=1-n;return t*t*e}function TF(n,e){return 2*(1-n)*n*e}function AF(n,e){return n*n*e}function Mh(n,e,t,i){return EF(n,e)+TF(n,t)+AF(n,i)}function bF(n,e){const t=1-n;return t*t*t*e}function CF(n,e){const t=1-n;return 3*t*t*n*e}function PF(n,e){return 3*(1-n)*n*n*e}function RF(n,e){return n*n*n*e}function wh(n,e,t,i,r){return bF(n,e)+CF(n,t)+PF(n,i)+RF(n,r)}class $3 extends Xr{constructor(e=new ge,t=new ge,i=new ge,r=new ge){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new ge){const i=t,r=this.v0,s=this.v1,o=this.v2,a=this.v3;return i.set(wh(e,r.x,s.x,o.x,a.x),wh(e,r.y,s.y,o.y,a.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class L8 extends Xr{constructor(e=new B,t=new B,i=new B,r=new B){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new B){const i=t,r=this.v0,s=this.v1,o=this.v2,a=this.v3;return i.set(wh(e,r.x,s.x,o.x,a.x),wh(e,r.y,s.y,o.y,a.y),wh(e,r.z,s.z,o.z,a.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class J3 extends Xr{constructor(e=new ge,t=new ge){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new ge){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new ge){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class N8 extends Xr{constructor(e=new B,t=new B){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new B){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new B){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Q3 extends Xr{constructor(e=new ge,t=new ge,i=new ge){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new ge){const i=t,r=this.v0,s=this.v1,o=this.v2;return i.set(Mh(e,r.x,s.x,o.x),Mh(e,r.y,s.y,o.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class e_ extends Xr{constructor(e=new B,t=new B,i=new B){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new B){const i=t,r=this.v0,s=this.v1,o=this.v2;return i.set(Mh(e,r.x,s.x,o.x),Mh(e,r.y,s.y,o.y),Mh(e,r.z,s.z,o.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class t_ extends Xr{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new ge){const i=t,r=this.points,s=(r.length-1)*e,o=Math.floor(s),a=s-o,l=r[o===0?o:o-1],h=r[o],f=r[o>r.length-2?r.length-1:o+1],d=r[o>r.length-3?r.length-1:o+2];return i.set(a5(a,l.x,h.x,f.x,d.x),a5(a,l.y,h.y,f.y,d.y)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new ge().fromArray(r))}return this}}var Im=Object.freeze({__proto__:null,ArcCurve:R8,CatmullRomCurve3:I8,CubicBezierCurve:$3,CubicBezierCurve3:L8,EllipseCurve:I1,LineCurve:J3,LineCurve3:N8,QuadraticBezierCurve:Q3,QuadraticBezierCurve3:e_,SplineCurve:t_});class D8 extends Xr{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){const i=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new Im[i](t,e))}return this}getPoint(e,t){const i=e*this.getLength(),r=this.getCurveLengths();let s=0;for(;s<r.length;){if(r[s]>=i){const o=r[s]-i,a=this.curves[s],l=a.getLength(),h=l===0?0:1-o/l;return a.getPointAt(h,t)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let i=0,r=this.curves.length;i<r;i++)t+=this.curves[i].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let i;for(let r=0,s=this.curves;r<s.length;r++){const o=s[r],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let h=0;h<l.length;h++){const f=l[h];i&&i.equals(f)||(t.push(f),i=f)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,i=this.curves.length;t<i;t++){const r=this.curves[t];e.curves.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(new Im[r.type]().fromJSON(r))}return this}}class Lm extends D8{constructor(e){super(),this.type="Path",this.currentPoint=new ge,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,i=e.length;t<i;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const i=new J3(this.currentPoint.clone(),new ge(e,t));return this.curves.push(i),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,i,r){const s=new Q3(this.currentPoint.clone(),new ge(e,t),new ge(i,r));return this.curves.push(s),this.currentPoint.set(i,r),this}bezierCurveTo(e,t,i,r,s,o){const a=new $3(this.currentPoint.clone(),new ge(e,t),new ge(i,r),new ge(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),i=new t_(t);return this.curves.push(i),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,i,r,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,t+l,i,r,s,o),this}absarc(e,t,i,r,s,o){return this.absellipse(e,t,i,i,r,s,o),this}ellipse(e,t,i,r,s,o,a,l){const h=this.currentPoint.x,f=this.currentPoint.y;return this.absellipse(e+h,t+f,i,r,s,o,a,l),this}absellipse(e,t,i,r,s,o,a,l){const h=new I1(e,t,i,r,s,o,a,l);if(this.curves.length>0){const d=h.getPoint(0);d.equals(this.currentPoint)||this.lineTo(d.x,d.y)}this.curves.push(h);const f=h.getPoint(1);return this.currentPoint.copy(f),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class Ja extends Lm{constructor(e){super(e),this.uuid=nr(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let i=0,r=this.holes.length;i<r;i++)t[i]=this.holes[i].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,i=this.holes.length;t<i;t++){const r=this.holes[t];e.holes.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(new Lm().fromJSON(r))}return this}}function IF(n,e,t=2){const i=e&&e.length,r=i?e[0]*t:n.length;let s=U8(n,0,r,t,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,h;if(i&&(s=kF(n,e,s,t)),n.length>80*t){a=1/0,l=1/0;let f=-1/0,d=-1/0;for(let p=t;p<r;p+=t){const m=n[p],y=n[p+1];m<a&&(a=m),y<l&&(l=y),m>f&&(f=m),y>d&&(d=y)}h=Math.max(f-a,d-l),h=h!==0?32767/h:0}return nf(s,o,t,a,l,h,0),o}function U8(n,e,t,i,r){let s;if(r===qF(n,e,t,i)>0)for(let o=e;o<t;o+=i)s=l5(o/i|0,n[o],n[o+1],s);else for(let o=t-i;o>=e;o-=i)s=l5(o/i|0,n[o],n[o+1],s);return s&&Xc(s,s.next)&&(sf(s),s=s.next),s}function al(n,e){if(!n)return n;e||(e=n);let t=n,i;do if(i=!1,!t.steiner&&(Xc(t,t.next)||un(t.prev,t,t.next)===0)){if(sf(t),t=e=t.prev,t===t.next)break;i=!0}else t=t.next;while(i||t!==e);return e}function nf(n,e,t,i,r,s,o){if(!n)return;!o&&s&&VF(n,i,r,s);let a=n;for(;n.prev!==n.next;){const l=n.prev,h=n.next;if(s?NF(n,i,r,s):LF(n)){e.push(l.i,n.i,h.i),sf(n),n=h.next,a=h.next;continue}if(n=h,n===a){o?o===1?(n=DF(al(n),e),nf(n,e,t,i,r,s,2)):o===2&&UF(n,e,t,i,r,s):nf(al(n),e,t,i,r,s,1);break}}}function LF(n){const e=n.prev,t=n,i=n.next;if(un(e,t,i)>=0)return!1;const r=e.x,s=t.x,o=i.x,a=e.y,l=t.y,h=i.y,f=Math.min(r,s,o),d=Math.min(a,l,h),p=Math.max(r,s,o),m=Math.max(a,l,h);let y=i.next;for(;y!==e;){if(y.x>=f&&y.x<=p&&y.y>=d&&y.y<=m&&Qu(r,a,s,l,o,h,y.x,y.y)&&un(y.prev,y,y.next)>=0)return!1;y=y.next}return!0}function NF(n,e,t,i){const r=n.prev,s=n,o=n.next;if(un(r,s,o)>=0)return!1;const a=r.x,l=s.x,h=o.x,f=r.y,d=s.y,p=o.y,m=Math.min(a,l,h),y=Math.min(f,d,p),w=Math.max(a,l,h),S=Math.max(f,d,p),g=ix(m,y,e,t,i),x=ix(w,S,e,t,i);let M=n.prevZ,E=n.nextZ;for(;M&&M.z>=g&&E&&E.z<=x;){if(M.x>=m&&M.x<=w&&M.y>=y&&M.y<=S&&M!==r&&M!==o&&Qu(a,f,l,d,h,p,M.x,M.y)&&un(M.prev,M,M.next)>=0||(M=M.prevZ,E.x>=m&&E.x<=w&&E.y>=y&&E.y<=S&&E!==r&&E!==o&&Qu(a,f,l,d,h,p,E.x,E.y)&&un(E.prev,E,E.next)>=0))return!1;E=E.nextZ}for(;M&&M.z>=g;){if(M.x>=m&&M.x<=w&&M.y>=y&&M.y<=S&&M!==r&&M!==o&&Qu(a,f,l,d,h,p,M.x,M.y)&&un(M.prev,M,M.next)>=0)return!1;M=M.prevZ}for(;E&&E.z<=x;){if(E.x>=m&&E.x<=w&&E.y>=y&&E.y<=S&&E!==r&&E!==o&&Qu(a,f,l,d,h,p,E.x,E.y)&&un(E.prev,E,E.next)>=0)return!1;E=E.nextZ}return!0}function DF(n,e){let t=n;do{const i=t.prev,r=t.next.next;!Xc(i,r)&&O8(i,t,t.next,r)&&rf(i,r)&&rf(r,i)&&(e.push(i.i,t.i,r.i),sf(t),sf(t.next),t=n=r),t=t.next}while(t!==n);return al(t)}function UF(n,e,t,i,r,s){let o=n;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&WF(o,a)){let l=F8(o,a);o=al(o,o.next),l=al(l,l.next),nf(o,e,t,i,r,s,0),nf(l,e,t,i,r,s,0);return}a=a.next}o=o.next}while(o!==n)}function kF(n,e,t,i){const r=[];for(let s=0,o=e.length;s<o;s++){const a=e[s]*i,l=s<o-1?e[s+1]*i:n.length,h=U8(n,a,l,i,!1);h===h.next&&(h.steiner=!0),r.push(GF(h))}r.sort(OF);for(let s=0;s<r.length;s++)t=FF(r[s],t);return t}function OF(n,e){let t=n.x-e.x;if(t===0&&(t=n.y-e.y,t===0)){const i=(n.next.y-n.y)/(n.next.x-n.x),r=(e.next.y-e.y)/(e.next.x-e.x);t=i-r}return t}function FF(n,e){const t=zF(n,e);if(!t)return e;const i=F8(t,n);return al(i,i.next),al(t,t.next)}function zF(n,e){let t=e;const i=n.x,r=n.y;let s=-1/0,o;if(Xc(n,t))return t;do{if(Xc(n,t.next))return t.next;if(r<=t.y&&r>=t.next.y&&t.next.y!==t.y){const d=t.x+(r-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(d<=i&&d>s&&(s=d,o=t.x<t.next.x?t:t.next,d===i))return o}t=t.next}while(t!==e);if(!o)return null;const a=o,l=o.x,h=o.y;let f=1/0;t=o;do{if(i>=t.x&&t.x>=l&&i!==t.x&&k8(r<h?i:s,r,l,h,r<h?s:i,r,t.x,t.y)){const d=Math.abs(r-t.y)/(i-t.x);rf(t,n)&&(d<f||d===f&&(t.x>o.x||t.x===o.x&&BF(o,t)))&&(o=t,f=d)}t=t.next}while(t!==a);return o}function BF(n,e){return un(n.prev,n,e.prev)<0&&un(e.next,n,n.next)<0}function VF(n,e,t,i){let r=n;do r.z===0&&(r.z=ix(r.x,r.y,e,t,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==n);r.prevZ.nextZ=null,r.prevZ=null,HF(r)}function HF(n){let e,t=1;do{let i=n,r;n=null;let s=null;for(e=0;i;){e++;let o=i,a=0;for(let h=0;h<t&&(a++,o=o.nextZ,!!o);h++);let l=t;for(;a>0||l>0&&o;)a!==0&&(l===0||!o||i.z<=o.z)?(r=i,i=i.nextZ,a--):(r=o,o=o.nextZ,l--),s?s.nextZ=r:n=r,r.prevZ=s,s=r;i=o}s.nextZ=null,t*=2}while(e>1);return n}function ix(n,e,t,i,r){return n=(n-t)*r|0,e=(e-i)*r|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function GF(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function k8(n,e,t,i,r,s,o,a){return(r-o)*(e-a)>=(n-o)*(s-a)&&(n-o)*(i-a)>=(t-o)*(e-a)&&(t-o)*(s-a)>=(r-o)*(i-a)}function Qu(n,e,t,i,r,s,o,a){return!(n===o&&e===a)&&k8(n,e,t,i,r,s,o,a)}function WF(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!jF(n,e)&&(rf(n,e)&&rf(e,n)&&XF(n,e)&&(un(n.prev,n,e.prev)||un(n,e.prev,e))||Xc(n,e)&&un(n.prev,n,n.next)>0&&un(e.prev,e,e.next)>0)}function un(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function Xc(n,e){return n.x===e.x&&n.y===e.y}function O8(n,e,t,i){const r=R0(un(n,e,t)),s=R0(un(n,e,i)),o=R0(un(t,i,n)),a=R0(un(t,i,e));return!!(r!==s&&o!==a||r===0&&P0(n,t,e)||s===0&&P0(n,i,e)||o===0&&P0(t,n,i)||a===0&&P0(t,e,i))}function P0(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function R0(n){return n>0?1:n<0?-1:0}function jF(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&O8(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function rf(n,e){return un(n.prev,n,n.next)<0?un(n,e,n.next)>=0&&un(n,n.prev,e)>=0:un(n,e,n.prev)<0||un(n,n.next,e)<0}function XF(n,e){let t=n,i=!1;const r=(n.x+e.x)/2,s=(n.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&r<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(i=!i),t=t.next;while(t!==n);return i}function F8(n,e){const t=rx(n.i,n.x,n.y),i=rx(e.i,e.x,e.y),r=n.next,s=e.prev;return n.next=e,e.prev=n,t.next=r,r.prev=t,i.next=t,t.prev=i,s.next=i,i.prev=s,i}function l5(n,e,t,i){const r=rx(n,e,t);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function sf(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function rx(n,e,t){return{i:n,x:e,y:t,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function qF(n,e,t,i){let r=0;for(let s=e,o=t-i;s<t;s+=i)r+=(n[o]-n[s])*(n[s+1]+n[o+1]),o=s;return r}class YF{static triangulate(e,t,i=2){return IF(e,t,i)}}class Vr{static area(e){const t=e.length;let i=0;for(let r=t-1,s=0;s<t;r=s++)i+=e[r].x*e[s].y-e[s].x*e[r].y;return i*.5}static isClockWise(e){return Vr.area(e)<0}static triangulateShape(e,t){const i=[],r=[],s=[];c5(e),u5(i,e);let o=e.length;t.forEach(c5);for(let l=0;l<t.length;l++)r.push(o),o+=t[l].length,u5(i,t[l]);const a=YF.triangulate(i,r);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function c5(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function u5(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class L1 extends Tt{constructor(e=new Ja([new ge(.5,.5),new ge(-.5,.5),new ge(-.5,-.5),new ge(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const i=this,r=[],s=[];for(let a=0,l=e.length;a<l;a++){const h=e[a];o(h)}this.setAttribute("position",new Ke(r,3)),this.setAttribute("uv",new Ke(s,2)),this.computeVertexNormals();function o(a){const l=[],h=t.curveSegments!==void 0?t.curveSegments:12,f=t.steps!==void 0?t.steps:1,d=t.depth!==void 0?t.depth:1;let p=t.bevelEnabled!==void 0?t.bevelEnabled:!0,m=t.bevelThickness!==void 0?t.bevelThickness:.2,y=t.bevelSize!==void 0?t.bevelSize:m-.1,w=t.bevelOffset!==void 0?t.bevelOffset:0,S=t.bevelSegments!==void 0?t.bevelSegments:3;const g=t.extrudePath,x=t.UVGenerator!==void 0?t.UVGenerator:ZF;let M,E=!1,C,P,I,L;g&&(M=g.getSpacedPoints(f),E=!0,p=!1,C=g.computeFrenetFrames(f,!1),P=new B,I=new B,L=new B),p||(S=0,m=0,y=0,w=0);const R=a.extractPoints(h);let A=R.shape;const k=R.holes;if(!Vr.isClockWise(A)){A=A.reverse();for(let z=0,Le=k.length;z<Le;z++){const Se=k[z];Vr.isClockWise(Se)&&(k[z]=Se.reverse())}}function q(z){const Se=10000000000000001e-36;let Ce=z[0];for(let ye=1;ye<=z.length;ye++){const Je=ye%z.length,Me=z[Je],F=Me.x-Ce.x,D=Me.y-Ce.y,ee=F*F+D*D,ue=Math.max(Math.abs(Me.x),Math.abs(Me.y),Math.abs(Ce.x),Math.abs(Ce.y)),xe=Se*ue*ue;if(ee<=xe){z.splice(Je,1),ye--;continue}Ce=Me}}q(A),k.forEach(q);const ne=k.length,se=A;for(let z=0;z<ne;z++){const Le=k[z];A=A.concat(Le)}function te(z,Le,Se){return Le||console.error("THREE.ExtrudeGeometry: vec does not exist"),z.clone().addScaledVector(Le,Se)}const le=A.length;function U(z,Le,Se){let Ce,ye,Je;const Me=z.x-Le.x,F=z.y-Le.y,D=Se.x-z.x,ee=Se.y-z.y,ue=Me*Me+F*F,xe=Me*ee-F*D;if(Math.abs(xe)>Number.EPSILON){const fe=Math.sqrt(ue),Ye=Math.sqrt(D*D+ee*ee),Ne=Le.x-F/fe,st=Le.y+Me/fe,ct=Se.x-ee/Ye,Ee=Se.y+D/Ye,Ge=((ct-Ne)*ee-(Ee-st)*D)/(Me*ee-F*D);Ce=Ne+Me*Ge-z.x,ye=st+F*Ge-z.y;const at=Ce*Ce+ye*ye;if(at<=2)return new ge(Ce,ye);Je=Math.sqrt(at/2)}else{let fe=!1;Me>Number.EPSILON?D>Number.EPSILON&&(fe=!0):Me<-Number.EPSILON?D<-Number.EPSILON&&(fe=!0):Math.sign(F)===Math.sign(ee)&&(fe=!0),fe?(Ce=-F,ye=Me,Je=Math.sqrt(ue)):(Ce=Me,ye=F,Je=Math.sqrt(ue/2))}return new ge(Ce/Je,ye/Je)}const W=[];for(let z=0,Le=se.length,Se=Le-1,Ce=z+1;z<Le;z++,Se++,Ce++)Se===Le&&(Se=0),Ce===Le&&(Ce=0),W[z]=U(se[z],se[Se],se[Ce]);const H=[];let Z,de=W.concat();for(let z=0,Le=ne;z<Le;z++){const Se=k[z];Z=[];for(let Ce=0,ye=Se.length,Je=ye-1,Me=Ce+1;Ce<ye;Ce++,Je++,Me++)Je===ye&&(Je=0),Me===ye&&(Me=0),Z[Ce]=U(Se[Ce],Se[Je],Se[Me]);H.push(Z),de=de.concat(Z)}let Te;if(S===0)Te=Vr.triangulateShape(se,k);else{const z=[],Le=[];for(let Se=0;Se<S;Se++){const Ce=Se/S,ye=m*Math.cos(Ce*Math.PI/2),Je=y*Math.sin(Ce*Math.PI/2)+w;for(let Me=0,F=se.length;Me<F;Me++){const D=te(se[Me],W[Me],Je);dt(D.x,D.y,-ye),Ce===0&&z.push(D)}for(let Me=0,F=ne;Me<F;Me++){const D=k[Me];Z=H[Me];const ee=[];for(let ue=0,xe=D.length;ue<xe;ue++){const fe=te(D[ue],Z[ue],Je);dt(fe.x,fe.y,-ye),Ce===0&&ee.push(fe)}Ce===0&&Le.push(ee)}}Te=Vr.triangulateShape(z,Le)}const ie=Te.length,_e=y+w;for(let z=0;z<le;z++){const Le=p?te(A[z],de[z],_e):A[z];E?(I.copy(C.normals[0]).multiplyScalar(Le.x),P.copy(C.binormals[0]).multiplyScalar(Le.y),L.copy(M[0]).add(I).add(P),dt(L.x,L.y,L.z)):dt(Le.x,Le.y,0)}for(let z=1;z<=f;z++)for(let Le=0;Le<le;Le++){const Se=p?te(A[Le],de[Le],_e):A[Le];E?(I.copy(C.normals[z]).multiplyScalar(Se.x),P.copy(C.binormals[z]).multiplyScalar(Se.y),L.copy(M[z]).add(I).add(P),dt(L.x,L.y,L.z)):dt(Se.x,Se.y,d/f*z)}for(let z=S-1;z>=0;z--){const Le=z/S,Se=m*Math.cos(Le*Math.PI/2),Ce=y*Math.sin(Le*Math.PI/2)+w;for(let ye=0,Je=se.length;ye<Je;ye++){const Me=te(se[ye],W[ye],Ce);dt(Me.x,Me.y,d+Se)}for(let ye=0,Je=k.length;ye<Je;ye++){const Me=k[ye];Z=H[ye];for(let F=0,D=Me.length;F<D;F++){const ee=te(Me[F],Z[F],Ce);E?dt(ee.x,ee.y+M[f-1].y,M[f-1].x+Se):dt(ee.x,ee.y,d+Se)}}}we(),Ae();function we(){const z=r.length/3;if(p){let Le=0,Se=le*Le;for(let Ce=0;Ce<ie;Ce++){const ye=Te[Ce];$e(ye[2]+Se,ye[1]+Se,ye[0]+Se)}Le=f+S*2,Se=le*Le;for(let Ce=0;Ce<ie;Ce++){const ye=Te[Ce];$e(ye[0]+Se,ye[1]+Se,ye[2]+Se)}}else{for(let Le=0;Le<ie;Le++){const Se=Te[Le];$e(Se[2],Se[1],Se[0])}for(let Le=0;Le<ie;Le++){const Se=Te[Le];$e(Se[0]+le*f,Se[1]+le*f,Se[2]+le*f)}}i.addGroup(z,r.length/3-z,0)}function Ae(){const z=r.length/3;let Le=0;tt(se,Le),Le+=se.length;for(let Se=0,Ce=k.length;Se<Ce;Se++){const ye=k[Se];tt(ye,Le),Le+=ye.length}i.addGroup(z,r.length/3-z,1)}function tt(z,Le){let Se=z.length;for(;--Se>=0;){const Ce=Se;let ye=Se-1;ye<0&&(ye=z.length-1);for(let Je=0,Me=f+S*2;Je<Me;Je++){const F=le*Je,D=le*(Je+1),ee=Le+Ce+F,ue=Le+ye+F,xe=Le+ye+D,fe=Le+Ce+D;vt(ee,ue,xe,fe)}}}function dt(z,Le,Se){l.push(z),l.push(Le),l.push(Se)}function $e(z,Le,Se){wt(z),wt(Le),wt(Se);const Ce=r.length/3,ye=x.generateTopUV(i,r,Ce-3,Ce-2,Ce-1);Qe(ye[0]),Qe(ye[1]),Qe(ye[2])}function vt(z,Le,Se,Ce){wt(z),wt(Le),wt(Ce),wt(Le),wt(Se),wt(Ce);const ye=r.length/3,Je=x.generateSideWallUV(i,r,ye-6,ye-3,ye-2,ye-1);Qe(Je[0]),Qe(Je[1]),Qe(Je[3]),Qe(Je[1]),Qe(Je[2]),Qe(Je[3])}function wt(z){r.push(l[z*3+0]),r.push(l[z*3+1]),r.push(l[z*3+2])}function Qe(z){s.push(z.x),s.push(z.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,i=this.parameters.options;return KF(t,i,e)}static fromJSON(e,t){const i=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=t[e.shapes[s]];i.push(a)}const r=e.options.extrudePath;return r!==void 0&&(e.options.extrudePath=new Im[r.type]().fromJSON(r)),new L1(i,e.options)}}const ZF={generateTopUV:function(n,e,t,i,r){const s=e[t*3],o=e[t*3+1],a=e[i*3],l=e[i*3+1],h=e[r*3],f=e[r*3+1];return[new ge(s,o),new ge(a,l),new ge(h,f)]},generateSideWallUV:function(n,e,t,i,r,s){const o=e[t*3],a=e[t*3+1],l=e[t*3+2],h=e[i*3],f=e[i*3+1],d=e[i*3+2],p=e[r*3],m=e[r*3+1],y=e[r*3+2],w=e[s*3],S=e[s*3+1],g=e[s*3+2];return Math.abs(a-f)<Math.abs(o-h)?[new ge(o,1-l),new ge(h,1-d),new ge(p,1-y),new ge(w,1-g)]:[new ge(a,1-l),new ge(f,1-d),new ge(m,1-y),new ge(S,1-g)]}};function KF(n,e,t){if(t.shapes=[],Array.isArray(n))for(let i=0,r=n.length;i<r;i++){const s=n[i];t.shapes.push(s.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class N1 extends ra{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(r,s,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new N1(e.radius,e.detail)}}class D1 extends Tt{constructor(e=[new ge(0,-.5),new ge(.5,0),new ge(0,.5)],t=12,i=0,r=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:i,phiLength:r},t=Math.floor(t),r=xt(r,0,Math.PI*2);const s=[],o=[],a=[],l=[],h=[],f=1/t,d=new B,p=new ge,m=new B,y=new B,w=new B;let S=0,g=0;for(let x=0;x<=e.length-1;x++)switch(x){case 0:S=e[x+1].x-e[x].x,g=e[x+1].y-e[x].y,m.x=g*1,m.y=-S,m.z=g*0,w.copy(m),m.normalize(),l.push(m.x,m.y,m.z);break;case e.length-1:l.push(w.x,w.y,w.z);break;default:S=e[x+1].x-e[x].x,g=e[x+1].y-e[x].y,m.x=g*1,m.y=-S,m.z=g*0,y.copy(m),m.x+=w.x,m.y+=w.y,m.z+=w.z,m.normalize(),l.push(m.x,m.y,m.z),w.copy(y)}for(let x=0;x<=t;x++){const M=i+x*f*r,E=Math.sin(M),C=Math.cos(M);for(let P=0;P<=e.length-1;P++){d.x=e[P].x*E,d.y=e[P].y,d.z=e[P].x*C,o.push(d.x,d.y,d.z),p.x=x/t,p.y=P/(e.length-1),a.push(p.x,p.y);const I=l[3*P+0]*E,L=l[3*P+1],R=l[3*P+0]*C;h.push(I,L,R)}}for(let x=0;x<t;x++)for(let M=0;M<e.length-1;M++){const E=M+x*e.length,C=E,P=E+e.length,I=E+e.length+1,L=E+1;s.push(C,P,L),s.push(I,L,P)}this.setIndex(s),this.setAttribute("position",new Ke(o,3)),this.setAttribute("uv",new Ke(a,2)),this.setAttribute("normal",new Ke(h,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new D1(e.points,e.segments,e.phiStart,e.phiLength)}}class bf extends ra{constructor(e=1,t=0){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,r,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new bf(e.radius,e.detail)}}class nu extends Tt{constructor(e=1,t=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:i,heightSegments:r};const s=e/2,o=t/2,a=Math.floor(i),l=Math.floor(r),h=a+1,f=l+1,d=e/a,p=t/l,m=[],y=[],w=[],S=[];for(let g=0;g<f;g++){const x=g*p-o;for(let M=0;M<h;M++){const E=M*d-s;y.push(E,-x,0),w.push(0,0,1),S.push(M/a),S.push(1-g/l)}}for(let g=0;g<l;g++)for(let x=0;x<a;x++){const M=x+h*g,E=x+h*(g+1),C=x+1+h*(g+1),P=x+1+h*g;m.push(M,E,P),m.push(E,C,P)}this.setIndex(m),this.setAttribute("position",new Ke(y,3)),this.setAttribute("normal",new Ke(w,3)),this.setAttribute("uv",new Ke(S,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new nu(e.width,e.height,e.widthSegments,e.heightSegments)}}class U1 extends Tt{constructor(e=.5,t=1,i=32,r=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:i,phiSegments:r,thetaStart:s,thetaLength:o},i=Math.max(3,i),r=Math.max(1,r);const a=[],l=[],h=[],f=[];let d=e;const p=(t-e)/r,m=new B,y=new ge;for(let w=0;w<=r;w++){for(let S=0;S<=i;S++){const g=s+S/i*o;m.x=d*Math.cos(g),m.y=d*Math.sin(g),l.push(m.x,m.y,m.z),h.push(0,0,1),y.x=(m.x/t+1)/2,y.y=(m.y/t+1)/2,f.push(y.x,y.y)}d+=p}for(let w=0;w<r;w++){const S=w*(i+1);for(let g=0;g<i;g++){const x=g+S,M=x,E=x+i+1,C=x+i+2,P=x+1;a.push(M,E,P),a.push(E,C,P)}}this.setIndex(a),this.setAttribute("position",new Ke(l,3)),this.setAttribute("normal",new Ke(h,3)),this.setAttribute("uv",new Ke(f,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new U1(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class k1 extends Tt{constructor(e=new Ja([new ge(0,.5),new ge(-.5,-.5),new ge(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const i=[],r=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)h(e);else for(let f=0;f<e.length;f++)h(e[f]),this.addGroup(a,l,f),a+=l,l=0;this.setIndex(i),this.setAttribute("position",new Ke(r,3)),this.setAttribute("normal",new Ke(s,3)),this.setAttribute("uv",new Ke(o,2));function h(f){const d=r.length/3,p=f.extractPoints(t);let m=p.shape;const y=p.holes;Vr.isClockWise(m)===!1&&(m=m.reverse());for(let S=0,g=y.length;S<g;S++){const x=y[S];Vr.isClockWise(x)===!0&&(y[S]=x.reverse())}const w=Vr.triangulateShape(m,y);for(let S=0,g=y.length;S<g;S++){const x=y[S];m=m.concat(x)}for(let S=0,g=m.length;S<g;S++){const x=m[S];r.push(x.x,x.y,0),s.push(0,0,1),o.push(x.x,x.y)}for(let S=0,g=w.length;S<g;S++){const x=w[S],M=x[0]+d,E=x[1]+d,C=x[2]+d;i.push(M,E,C),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return $F(t,e)}static fromJSON(e,t){const i=[];for(let r=0,s=e.shapes.length;r<s;r++){const o=t[e.shapes[r]];i.push(o)}return new k1(i,e.curveSegments)}}function $F(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,i=n.length;t<i;t++){const r=n[t];e.shapes.push(r.uuid)}else e.shapes.push(n.uuid);return e}class Cf extends Tt{constructor(e=1,t=32,i=16,r=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:i,phiStart:r,phiLength:s,thetaStart:o,thetaLength:a},t=Math.max(3,Math.floor(t)),i=Math.max(2,Math.floor(i));const l=Math.min(o+a,Math.PI);let h=0;const f=[],d=new B,p=new B,m=[],y=[],w=[],S=[];for(let g=0;g<=i;g++){const x=[],M=g/i;let E=0;g===0&&o===0?E=.5/t:g===i&&l===Math.PI&&(E=-.5/t);for(let C=0;C<=t;C++){const P=C/t;d.x=-e*Math.cos(r+P*s)*Math.sin(o+M*a),d.y=e*Math.cos(o+M*a),d.z=e*Math.sin(r+P*s)*Math.sin(o+M*a),y.push(d.x,d.y,d.z),p.copy(d).normalize(),w.push(p.x,p.y,p.z),S.push(P+E,1-M),x.push(h++)}f.push(x)}for(let g=0;g<i;g++)for(let x=0;x<t;x++){const M=f[g][x+1],E=f[g][x],C=f[g+1][x],P=f[g+1][x+1];(g!==0||o>0)&&m.push(M,E,P),(g!==i-1||l<Math.PI)&&m.push(E,C,P)}this.setIndex(m),this.setAttribute("position",new Ke(y,3)),this.setAttribute("normal",new Ke(w,3)),this.setAttribute("uv",new Ke(S,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Cf(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class O1 extends ra{constructor(e=1,t=0){const i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];super(i,r,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new O1(e.radius,e.detail)}}class F1 extends Tt{constructor(e=1,t=.4,i=12,r=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:i,tubularSegments:r,arc:s},i=Math.floor(i),r=Math.floor(r);const o=[],a=[],l=[],h=[],f=new B,d=new B,p=new B;for(let m=0;m<=i;m++)for(let y=0;y<=r;y++){const w=y/r*s,S=m/i*Math.PI*2;d.x=(e+t*Math.cos(S))*Math.cos(w),d.y=(e+t*Math.cos(S))*Math.sin(w),d.z=t*Math.sin(S),a.push(d.x,d.y,d.z),f.x=e*Math.cos(w),f.y=e*Math.sin(w),p.subVectors(d,f).normalize(),l.push(p.x,p.y,p.z),h.push(y/r),h.push(m/i)}for(let m=1;m<=i;m++)for(let y=1;y<=r;y++){const w=(r+1)*m+y-1,S=(r+1)*(m-1)+y-1,g=(r+1)*(m-1)+y,x=(r+1)*m+y;o.push(w,S,x),o.push(S,g,x)}this.setIndex(o),this.setAttribute("position",new Ke(a,3)),this.setAttribute("normal",new Ke(l,3)),this.setAttribute("uv",new Ke(h,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new F1(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class z1 extends Tt{constructor(e=1,t=.4,i=64,r=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:i,radialSegments:r,p:s,q:o},i=Math.floor(i),r=Math.floor(r);const a=[],l=[],h=[],f=[],d=new B,p=new B,m=new B,y=new B,w=new B,S=new B,g=new B;for(let M=0;M<=i;++M){const E=M/i*s*Math.PI*2;x(E,s,o,e,m),x(E+.01,s,o,e,y),S.subVectors(y,m),g.addVectors(y,m),w.crossVectors(S,g),g.crossVectors(w,S),w.normalize(),g.normalize();for(let C=0;C<=r;++C){const P=C/r*Math.PI*2,I=-t*Math.cos(P),L=t*Math.sin(P);d.x=m.x+(I*g.x+L*w.x),d.y=m.y+(I*g.y+L*w.y),d.z=m.z+(I*g.z+L*w.z),l.push(d.x,d.y,d.z),p.subVectors(d,m).normalize(),h.push(p.x,p.y,p.z),f.push(M/i),f.push(C/r)}}for(let M=1;M<=i;M++)for(let E=1;E<=r;E++){const C=(r+1)*(M-1)+(E-1),P=(r+1)*M+(E-1),I=(r+1)*M+E,L=(r+1)*(M-1)+E;a.push(C,P,L),a.push(P,I,L)}this.setIndex(a),this.setAttribute("position",new Ke(l,3)),this.setAttribute("normal",new Ke(h,3)),this.setAttribute("uv",new Ke(f,2));function x(M,E,C,P,I){const L=Math.cos(M),R=Math.sin(M),A=C/E*M,k=Math.cos(A);I.x=P*(2+k)*.5*L,I.y=P*(2+k)*R*.5,I.z=P*Math.sin(A)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new z1(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class B1 extends Tt{constructor(e=new e_(new B(-1,-1,0),new B(-1,1,0),new B(1,1,0)),t=64,i=1,r=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:i,radialSegments:r,closed:s};const o=e.computeFrenetFrames(t,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new B,l=new B,h=new ge;let f=new B;const d=[],p=[],m=[],y=[];w(),this.setIndex(y),this.setAttribute("position",new Ke(d,3)),this.setAttribute("normal",new Ke(p,3)),this.setAttribute("uv",new Ke(m,2));function w(){for(let M=0;M<t;M++)S(M);S(s===!1?t:0),x(),g()}function S(M){f=e.getPointAt(M/t,f);const E=o.normals[M],C=o.binormals[M];for(let P=0;P<=r;P++){const I=P/r*Math.PI*2,L=Math.sin(I),R=-Math.cos(I);l.x=R*E.x+L*C.x,l.y=R*E.y+L*C.y,l.z=R*E.z+L*C.z,l.normalize(),p.push(l.x,l.y,l.z),a.x=f.x+i*l.x,a.y=f.y+i*l.y,a.z=f.z+i*l.z,d.push(a.x,a.y,a.z)}}function g(){for(let M=1;M<=t;M++)for(let E=1;E<=r;E++){const C=(r+1)*(M-1)+(E-1),P=(r+1)*M+(E-1),I=(r+1)*M+E,L=(r+1)*(M-1)+E;y.push(C,P,L),y.push(P,I,L)}}function x(){for(let M=0;M<=t;M++)for(let E=0;E<=r;E++)h.x=M/t,h.y=E/r,m.push(h.x,h.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new B1(new Im[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class z8 extends Tt{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],i=new Set,r=new B,s=new B;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let h=0,f=l.length;h<f;++h){const d=l[h],p=d.start,m=d.count;for(let y=p,w=p+m;y<w;y+=3)for(let S=0;S<3;S++){const g=a.getX(y+S),x=a.getX(y+(S+1)%3);r.fromBufferAttribute(o,g),s.fromBufferAttribute(o,x),h5(r,s,i)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let h=0;h<3;h++){const f=3*a+h,d=3*a+(h+1)%3;r.fromBufferAttribute(o,f),s.fromBufferAttribute(o,d),h5(r,s,i)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}this.setAttribute("position",new Ke(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function h5(n,e,t){const i=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,r=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(i)===!0||t.has(r)===!0?!1:(t.add(i),t.add(r),!0)}var f5=Object.freeze({__proto__:null,BoxGeometry:pl,CapsuleGeometry:C1,CircleGeometry:P1,ConeGeometry:Af,CylinderGeometry:Tf,DodecahedronGeometry:R1,EdgesGeometry:P8,ExtrudeGeometry:L1,IcosahedronGeometry:N1,LatheGeometry:D1,OctahedronGeometry:bf,PlaneGeometry:nu,PolyhedronGeometry:ra,RingGeometry:U1,ShapeGeometry:k1,SphereGeometry:Cf,TetrahedronGeometry:O1,TorusGeometry:F1,TorusKnotGeometry:z1,TubeGeometry:B1,WireframeGeometry:z8});class B8 extends pi{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new ke(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class V8 extends jr{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class n_ extends pi{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new ke(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ke(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=na,this.normalScale=new ge(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new sr,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class H8 extends n_{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new ge(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return xt(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new ke(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new ke(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new ke(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class G8 extends pi{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new ke(16777215),this.specular=new ke(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ke(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=na,this.normalScale=new ge(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new sr,this.combine=_f,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class W8 extends pi{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new ke(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ke(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=na,this.normalScale=new ge(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class j8 extends pi{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=na,this.normalScale=new ge(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class X8 extends pi{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new ke(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ke(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=na,this.normalScale=new ge(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new sr,this.combine=_f,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class i_ extends pi{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=n8,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class r_ extends pi{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class q8 extends pi{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new ke(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=na,this.normalScale=new ge(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Y8 extends Ai{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Xa(n,e){return!n||n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function Z8(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function K8(n){function e(r,s){return n[r]-n[s]}const t=n.length,i=new Array(t);for(let r=0;r!==t;++r)i[r]=r;return i.sort(e),i}function sx(n,e,t){const i=n.length,r=new n.constructor(i);for(let s=0,o=0;o!==i;++s){const a=t[s]*e;for(let l=0;l!==e;++l)r[o++]=n[a+l]}return r}function s_(n,e,t,i){let r=1,s=n[0];for(;s!==void 0&&s[i]===void 0;)s=n[r++];if(s===void 0)return;let o=s[i];if(o!==void 0)if(Array.isArray(o))do o=s[i],o!==void 0&&(e.push(s.time),t.push(...o)),s=n[r++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[i],o!==void 0&&(e.push(s.time),o.toArray(t,t.length)),s=n[r++];while(s!==void 0);else do o=s[i],o!==void 0&&(e.push(s.time),t.push(o)),s=n[r++];while(s!==void 0)}function JF(n,e,t,i,r=30){const s=n.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const h=s.tracks[l],f=h.getValueSize(),d=[],p=[];for(let m=0;m<h.times.length;++m){const y=h.times[m]*r;if(!(y<t||y>=i)){d.push(h.times[m]);for(let w=0;w<f;++w)p.push(h.values[m*f+w])}}d.length!==0&&(h.times=Xa(d,h.times.constructor),h.values=Xa(p,h.values.constructor),o.push(h))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s}function QF(n,e=0,t=n,i=30){i<=0&&(i=30);const r=t.tracks.length,s=e/i;for(let o=0;o<r;++o){const a=t.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const h=n.tracks.find(function(g){return g.name===a.name&&g.ValueTypeName===l});if(h===void 0)continue;let f=0;const d=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(f=d/3);let p=0;const m=h.getValueSize();h.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(p=m/3);const y=a.times.length-1;let w;if(s<=a.times[0]){const g=f,x=d-f;w=a.values.slice(g,x)}else if(s>=a.times[y]){const g=y*d+f,x=g+d-f;w=a.values.slice(g,x)}else{const g=a.createInterpolant(),x=f,M=d-f;g.evaluate(s),w=g.resultBuffer.slice(x,M)}l==="quaternion"&&new hi().fromArray(w).normalize().conjugate().toArray(w);const S=h.times.length;for(let g=0;g<S;++g){const x=g*m+p;if(l==="quaternion")hi.multiplyQuaternionsFlat(h.values,x,w,0,h.values,x);else{const M=m-p*2;for(let E=0;E<M;++E)h.values[x+E]-=w[E]}}}return n.blendMode=V3,n}class ez{static convertArray(e,t){return Xa(e,t)}static isTypedArray(e){return Z8(e)}static getKeyframeOrder(e){return K8(e)}static sortedArray(e,t,i){return sx(e,t,i)}static flattenJSON(e,t,i,r){s_(e,t,i,r)}static subclip(e,t,i,r,s=30){return JF(e,t,i,r,s)}static makeClipAdditive(e,t=0,i=e,r=30){return QF(e,t,i,r)}}class Pf{constructor(e,t,i,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new t.constructor(i),this.sampleValues=t,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let i=this._cachedIndex,r=t[i],s=t[i-1];e:{t:{let o;n:{i:if(!(e<r)){for(let a=i+2;;){if(r===void 0){if(e<s)break i;return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===a)break;if(s=r,r=t[++i],e<r)break t}o=t.length;break n}if(!(e>=s)){const a=t[1];e<a&&(i=2,s=a);for(let l=i-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===l)break;if(r=s,s=t[--i-1],e>=s)break t}o=i,i=0;break n}break e}for(;i<o;){const a=i+o>>>1;e<t[a]?o=a:i=a+1}if(r=t[i],s=t[i-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===void 0)return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,s,r)}return this.interpolate_(i,s,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=e*r;for(let o=0;o!==r;++o)t[o]=i[s+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class $8 extends Pf{constructor(e,t,i,r){super(e,t,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Wa,endingEnd:Wa}}intervalChanged_(e,t,i){const r=this.parameterPositions;let s=e-2,o=e+1,a=r[s],l=r[o];if(a===void 0)switch(this.getSettings_().endingStart){case ja:s=e,a=2*t-i;break;case $h:s=r.length-2,a=t+r[s]-r[s+1];break;default:s=e,a=i}if(l===void 0)switch(this.getSettings_().endingEnd){case ja:o=e,l=2*i-t;break;case $h:o=1,l=i+r[1]-r[0];break;default:o=e-1,l=t}const h=(i-t)*.5,f=this.valueSize;this._weightPrev=h/(t-a),this._weightNext=h/(l-i),this._offsetPrev=s*f,this._offsetNext=o*f}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,h=l-a,f=this._offsetPrev,d=this._offsetNext,p=this._weightPrev,m=this._weightNext,y=(i-t)/(r-t),w=y*y,S=w*y,g=-p*S+2*p*w-p*y,x=(1+p)*S+(-1.5-2*p)*w+(-.5+p)*y+1,M=(-1-m)*S+(1.5+m)*w+.5*y,E=m*S-m*w;for(let C=0;C!==a;++C)s[C]=g*o[f+C]+x*o[h+C]+M*o[l+C]+E*o[d+C];return s}}class o_ extends Pf{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,h=l-a,f=(i-t)/(r-t),d=1-f;for(let p=0;p!==a;++p)s[p]=o[h+p]*d+o[l+p]*f;return s}}class J8 extends Pf{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class Cr{constructor(e,t,i,r){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Xa(t,this.TimeBufferType),this.values=Xa(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let i;if(t.toJSON!==this.toJSON)i=t.toJSON(e);else{i={name:e.name,times:Xa(e.times,Array),values:Xa(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(i.interpolation=r)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new J8(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new o_(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new $8(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case Kh:t=this.InterpolantFactoryMethodDiscrete;break;case Cm:t=this.InterpolantFactoryMethodLinear;break;case rp:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Kh;case this.InterpolantFactoryMethodLinear:return Cm;case this.InterpolantFactoryMethodSmooth:return rp}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]*=e}return this}trim(e,t){const i=this.times,r=i.length;let s=0,o=r-1;for(;s!==r&&i[s]<e;)++s;for(;o!==-1&&i[o]>t;)--o;if(++o,s!==0||o!==r){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=i.slice(s,o),this.values=this.values.slice(s*a,o*a)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,r=this.values,s=i.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=i[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(r!==void 0&&Z8(r))for(let a=0,l=r.length;a!==l;++a){const h=r[a];if(isNaN(h)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,h),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),i=this.getValueSize(),r=this.getInterpolation()===rp,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const h=e[a],f=e[a+1];if(h!==f&&(a!==1||h!==e[0]))if(r)l=!0;else{const d=a*i,p=d-i,m=d+i;for(let y=0;y!==i;++y){const w=t[d+y];if(w!==t[p+y]||w!==t[m+y]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const d=a*i,p=o*i;for(let m=0;m!==i;++m)t[p+m]=t[d+m]}++o}}if(s>0){e[o]=e[s];for(let a=s*i,l=o*i,h=0;h!==i;++h)t[l+h]=t[a+h];++o}return o!==e.length?(this.times=e.slice(0,o),this.values=t.slice(0,o*i)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),i=this.constructor,r=new i(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}}Cr.prototype.ValueTypeName="";Cr.prototype.TimeBufferType=Float32Array;Cr.prototype.ValueBufferType=Float32Array;Cr.prototype.DefaultInterpolation=Cm;class ml extends Cr{constructor(e,t,i){super(e,t,i)}}ml.prototype.ValueTypeName="bool";ml.prototype.ValueBufferType=Array;ml.prototype.DefaultInterpolation=Kh;ml.prototype.InterpolantFactoryMethodLinear=void 0;ml.prototype.InterpolantFactoryMethodSmooth=void 0;class a_ extends Cr{constructor(e,t,i,r){super(e,t,i,r)}}a_.prototype.ValueTypeName="color";class of extends Cr{constructor(e,t,i,r){super(e,t,i,r)}}of.prototype.ValueTypeName="number";class Q8 extends Pf{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(i-t)/(r-t);let h=e*a;for(let f=h+a;h!==f;h+=4)hi.slerpFlat(s,0,o,h-a,o,h,l);return s}}class Rf extends Cr{constructor(e,t,i,r){super(e,t,i,r)}InterpolantFactoryMethodLinear(e){return new Q8(this.times,this.values,this.getValueSize(),e)}}Rf.prototype.ValueTypeName="quaternion";Rf.prototype.InterpolantFactoryMethodSmooth=void 0;class gl extends Cr{constructor(e,t,i){super(e,t,i)}}gl.prototype.ValueTypeName="string";gl.prototype.ValueBufferType=Array;gl.prototype.DefaultInterpolation=Kh;gl.prototype.InterpolantFactoryMethodLinear=void 0;gl.prototype.InterpolantFactoryMethodSmooth=void 0;class af extends Cr{constructor(e,t,i,r){super(e,t,i,r)}}af.prototype.ValueTypeName="vector";class lf{constructor(e="",t=-1,i=[],r=y1){this.name=e,this.tracks=i,this.duration=t,this.blendMode=r,this.uuid=nr(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],i=e.tracks,r=1/(e.fps||1);for(let o=0,a=i.length;o!==a;++o)t.push(nz(i[o]).scale(r));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const t=[],i=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=i.length;s!==o;++s)t.push(Cr.toJSON(i[s]));return r}static CreateFromMorphTargetSequence(e,t,i,r){const s=t.length,o=[];for(let a=0;a<s;a++){let l=[],h=[];l.push((a+s-1)%s,a,(a+1)%s),h.push(0,1,0);const f=K8(l);l=sx(l,1,f),h=sx(h,1,f),!r&&l[0]===0&&(l.push(s),h.push(h[0])),o.push(new of(".morphTargetInfluences["+t[a].name+"]",l,h).scale(1/i))}return new this(e,-1,o)}static findByName(e,t){let i=e;if(!Array.isArray(e)){const r=e;i=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<i.length;r++)if(i[r].name===t)return i[r];return null}static CreateClipsFromMorphTargetSequences(e,t,i){const r={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const h=e[a],f=h.name.match(s);if(f&&f.length>1){const d=f[1];let p=r[d];p||(r[d]=p=[]),p.push(h)}}const o=[];for(const a in r)o.push(this.CreateFromMorphTargetSequence(a,r[a],t,i));return o}static parseAnimation(e,t){if(console.warn("THREE.AnimationClip: parseAnimation() is deprecated and will be removed with r185"),!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(d,p,m,y,w){if(m.length!==0){const S=[],g=[];s_(m,S,g,y),S.length!==0&&w.push(new d(p,S,g))}},r=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const h=e.hierarchy||[];for(let d=0;d<h.length;d++){const p=h[d].keys;if(!(!p||p.length===0))if(p[0].morphTargets){const m={};let y;for(y=0;y<p.length;y++)if(p[y].morphTargets)for(let w=0;w<p[y].morphTargets.length;w++)m[p[y].morphTargets[w]]=-1;for(const w in m){const S=[],g=[];for(let x=0;x!==p[y].morphTargets.length;++x){const M=p[y];S.push(M.time),g.push(M.morphTarget===w?1:0)}r.push(new of(".morphTargetInfluence["+w+"]",S,g))}l=m.length*o}else{const m=".bones["+t[d].name+"]";i(af,m+".position",p,"pos",r),i(Rf,m+".quaternion",p,"rot",r),i(af,m+".scale",p,"scl",r)}}return r.length===0?null:new this(s,l,r,a)}resetDuration(){const e=this.tracks;let t=0;for(let i=0,r=e.length;i!==r;++i){const s=this.tracks[i];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function tz(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return of;case"vector":case"vector2":case"vector3":case"vector4":return af;case"color":return a_;case"quaternion":return Rf;case"bool":case"boolean":return ml;case"string":return gl}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function nz(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=tz(n.type);if(n.times===void 0){const t=[],i=[];s_(n.keys,t,i,"value"),n.times=t,n.values=i}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const Fs={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class l_{constructor(e,t,i){const r=this;let s=!1,o=0,a=0,l;const h=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=i,this.itemStart=function(f){a++,s===!1&&r.onStart!==void 0&&r.onStart(f,o,a),s=!0},this.itemEnd=function(f){o++,r.onProgress!==void 0&&r.onProgress(f,o,a),o===a&&(s=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(f){r.onError!==void 0&&r.onError(f)},this.resolveURL=function(f){return l?l(f):f},this.setURLModifier=function(f){return l=f,this},this.addHandler=function(f,d){return h.push(f,d),this},this.removeHandler=function(f){const d=h.indexOf(f);return d!==-1&&h.splice(d,2),this},this.getHandler=function(f){for(let d=0,p=h.length;d<p;d+=2){const m=h[d],y=h[d+1];if(m.global&&(m.lastIndex=0),m.test(f))return y}return null}}}const eC=new l_;class Wi{constructor(e){this.manager=e!==void 0?e:eC,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const i=this;return new Promise(function(r,s){i.load(e,r,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}Wi.DEFAULT_MATERIAL_NAME="__DEFAULT";const Ps={};class iz extends Error{constructor(e,t){super(e),this.response=t}}class Js extends Wi{constructor(e){super(e),this.mimeType="",this.responseType=""}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=Fs.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(Ps[e]!==void 0){Ps[e].push({onLoad:t,onProgress:i,onError:r});return}Ps[e]=[],Ps[e].push({onLoad:t,onProgress:i,onError:r});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(h=>{if(h.status===200||h.status===0){if(h.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||h.body===void 0||h.body.getReader===void 0)return h;const f=Ps[e],d=h.body.getReader(),p=h.headers.get("X-File-Size")||h.headers.get("Content-Length"),m=p?parseInt(p):0,y=m!==0;let w=0;const S=new ReadableStream({start(g){x();function x(){d.read().then(({done:M,value:E})=>{if(M)g.close();else{w+=E.byteLength;const C=new ProgressEvent("progress",{lengthComputable:y,loaded:w,total:m});for(let P=0,I=f.length;P<I;P++){const L=f[P];L.onProgress&&L.onProgress(C)}g.enqueue(E),x()}},M=>{g.error(M)})}}});return new Response(S)}else throw new iz(`fetch for "${h.url}" responded with ${h.status}: ${h.statusText}`,h)}).then(h=>{switch(l){case"arraybuffer":return h.arrayBuffer();case"blob":return h.blob();case"document":return h.text().then(f=>new DOMParser().parseFromString(f,a));case"json":return h.json();default:if(a==="")return h.text();{const d=/charset="?([^;"\s]*)"?/i.exec(a),p=d&&d[1]?d[1].toLowerCase():void 0,m=new TextDecoder(p);return h.arrayBuffer().then(y=>m.decode(y))}}}).then(h=>{Fs.add(e,h);const f=Ps[e];delete Ps[e];for(let d=0,p=f.length;d<p;d++){const m=f[d];m.onLoad&&m.onLoad(h)}}).catch(h=>{const f=Ps[e];if(f===void 0)throw this.manager.itemError(e),h;delete Ps[e];for(let d=0,p=f.length;d<p;d++){const m=f[d];m.onError&&m.onError(h)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class rz extends Wi{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new Js(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const t=[];for(let i=0;i<e.length;i++){const r=lf.parse(e[i]);t.push(r)}return t}}class sz extends Wi{constructor(e){super(e)}load(e,t,i,r){const s=this,o=[],a=new A1,l=new Js(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let h=0;function f(d){l.load(e[d],function(p){const m=s.parse(p,!0);o[d]={width:m.width,height:m.height,format:m.format,mipmaps:m.mipmaps},h+=1,h===6&&(m.mipmapCount===1&&(a.minFilter=Dn),a.image=o,a.format=m.format,a.needsUpdate=!0,t&&t(a))},i,r)}if(Array.isArray(e))for(let d=0,p=e.length;d<p;++d)f(d);else l.load(e,function(d){const p=s.parse(d,!0);if(p.isCubemap){const m=p.mipmaps.length/p.mipmapCount;for(let y=0;y<m;y++){o[y]={mipmaps:[]};for(let w=0;w<p.mipmapCount;w++)o[y].mipmaps.push(p.mipmaps[y*p.mipmapCount+w]),o[y].format=p.format,o[y].width=p.width,o[y].height=p.height}a.image=o}else a.image.width=p.width,a.image.height=p.height,a.mipmaps=p.mipmaps;p.mipmapCount===1&&(a.minFilter=Dn),a.format=p.format,a.needsUpdate=!0,t&&t(a)},i,r);return a}}class cf extends Wi{constructor(e){super(e)}load(e,t,i,r){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Fs.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a=tf("img");function l(){f(),Fs.add(e,this),t&&t(this),s.manager.itemEnd(e)}function h(d){f(),r&&r(d),s.manager.itemError(e),s.manager.itemEnd(e)}function f(){a.removeEventListener("load",l,!1),a.removeEventListener("error",h,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",h,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class oz extends Wi{constructor(e){super(e)}load(e,t,i,r){const s=new Ef;s.colorSpace=Ui;const o=new cf(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(h){o.load(e[h],function(f){s.images[h]=f,a++,a===6&&(s.needsUpdate=!0,t&&t(s))},void 0,r)}for(let h=0;h<e.length;++h)l(h);return s}}class az extends Wi{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new ds,a=new Js(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(l){let h;try{h=s.parse(l)}catch(f){if(r!==void 0)r(f);else{console.error(f);return}}h.image!==void 0?o.image=h.image:h.data!==void 0&&(o.image.width=h.width,o.image.height=h.height,o.image.data=h.data),o.wrapS=h.wrapS!==void 0?h.wrapS:Mr,o.wrapT=h.wrapT!==void 0?h.wrapT:Mr,o.magFilter=h.magFilter!==void 0?h.magFilter:Dn,o.minFilter=h.minFilter!==void 0?h.minFilter:Dn,o.anisotropy=h.anisotropy!==void 0?h.anisotropy:1,h.colorSpace!==void 0&&(o.colorSpace=h.colorSpace),h.flipY!==void 0&&(o.flipY=h.flipY),h.format!==void 0&&(o.format=h.format),h.type!==void 0&&(o.type=h.type),h.mipmaps!==void 0&&(o.mipmaps=h.mipmaps,o.minFilter=ls),h.mipmapCount===1&&(o.minFilter=Dn),h.generateMipmaps!==void 0&&(o.generateMipmaps=h.generateMipmaps),o.needsUpdate=!0,t&&t(o,h)},i,r),o}}class lz extends Wi{constructor(e){super(e)}load(e,t,i,r){const s=new yn,o=new cf(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,t!==void 0&&t(s)},i,r),s}}class sa extends Ht{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new ke(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(t.object.target=this.target.uuid),t}}class tC extends sa{constructor(e,t,i){super(e,i),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Ht.DEFAULT_UP),this.updateMatrix(),this.groundColor=new ke(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const v2=new gt,d5=new B,p5=new B;class c_{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new ge(512,512),this.mapType=br,this.map=null,this.mapPass=null,this.matrix=new gt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new tu,this._frameExtents=new ge(1,1),this._viewportCount=1,this._viewports=[new Bt(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,i=this.matrix;d5.setFromMatrixPosition(e.matrixWorld),t.position.copy(d5),p5.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(p5),t.updateMatrixWorld(),v2.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(v2),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(v2)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.autoUpdate=e.autoUpdate,this.needsUpdate=e.needsUpdate,this.normalBias=e.normalBias,this.blurSamples=e.blurSamples,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class cz extends c_{constructor(){super(new Mn(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,i=Gc*2*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height,s=e.distance||t.far;(i!==t.fov||r!==t.aspect||s!==t.far)&&(t.fov=i,t.aspect=r,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class nC extends sa{constructor(e,t,i=0,r=Math.PI/3,s=0,o=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Ht.DEFAULT_UP),this.updateMatrix(),this.target=new Ht,this.distance=i,this.angle=r,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new cz}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const m5=new gt,Gu=new B,y2=new B;class uz extends c_{constructor(){super(new Mn(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new ge(4,2),this._viewportCount=6,this._viewports=[new Bt(2,1,1,1),new Bt(0,1,1,1),new Bt(3,1,1,1),new Bt(1,1,1,1),new Bt(3,0,1,1),new Bt(1,0,1,1)],this._cubeDirections=[new B(1,0,0),new B(-1,0,0),new B(0,0,1),new B(0,0,-1),new B(0,1,0),new B(0,-1,0)],this._cubeUps=[new B(0,1,0),new B(0,1,0),new B(0,1,0),new B(0,1,0),new B(0,0,1),new B(0,0,-1)]}updateMatrices(e,t=0){const i=this.camera,r=this.matrix,s=e.distance||i.far;s!==i.far&&(i.far=s,i.updateProjectionMatrix()),Gu.setFromMatrixPosition(e.matrixWorld),i.position.copy(Gu),y2.copy(i.position),y2.add(this._cubeDirections[t]),i.up.copy(this._cubeUps[t]),i.lookAt(y2),i.updateMatrixWorld(),r.makeTranslation(-Gu.x,-Gu.y,-Gu.z),m5.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(m5)}}class iC extends sa{constructor(e,t,i=0,r=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=r,this.shadow=new uz}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class Wo extends wf{constructor(e=-1,t=1,i=1,r=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=i,this.bottom=r,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,i,r,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let s=i-e,o=i+e,a=r+t,l=r-t;if(this.view!==null&&this.view.enabled){const h=(this.right-this.left)/this.view.fullWidth/this.zoom,f=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=h*this.view.offsetX,o=s+h*this.view.width,a-=f*this.view.offsetY,l=a-f*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}class hz extends c_{constructor(){super(new Wo(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class rC extends sa{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Ht.DEFAULT_UP),this.updateMatrix(),this.target=new Ht,this.shadow=new hz}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class sC extends sa{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class oC extends sa{constructor(e,t,i=10,r=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=i,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class aC{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new B)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const i=e.x,r=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*r),t.addScaledVector(o[2],.488603*s),t.addScaledVector(o[3],.488603*i),t.addScaledVector(o[4],1.092548*(i*r)),t.addScaledVector(o[5],1.092548*(r*s)),t.addScaledVector(o[6],.315392*(3*s*s-1)),t.addScaledVector(o[7],1.092548*(i*s)),t.addScaledVector(o[8],.546274*(i*i-r*r)),t}getIrradianceAt(e,t){const i=e.x,r=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],2*.511664*r),t.addScaledVector(o[2],2*.511664*s),t.addScaledVector(o[3],2*.511664*i),t.addScaledVector(o[4],2*.429043*i*r),t.addScaledVector(o[5],2*.429043*r*s),t.addScaledVector(o[6],.743125*s*s-.247708),t.addScaledVector(o[7],2*.429043*i*s),t.addScaledVector(o[8],.429043*(i*i-r*r)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(e.coefficients[i],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let i=0;i<9;i++)this.coefficients[i].lerp(e.coefficients[i],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].fromArray(e,t+r*3);return this}toArray(e=[],t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].toArray(e,t+r*3);return e}static getBasisAt(e,t){const i=e.x,r=e.y,s=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*s,t[3]=.488603*i,t[4]=1.092548*i*r,t[5]=1.092548*r*s,t[6]=.315392*(3*s*s-1),t[7]=1.092548*i*s,t[8]=.546274*(i*i-r*r)}}class lC extends sa{constructor(e=new aC,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class V1 extends Wi{constructor(e){super(e),this.textures={}}load(e,t,i,r){const s=this,o=new Js(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const t=this.textures;function i(s){return t[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),t[s]}const r=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(r.uuid=e.uuid),e.name!==void 0&&(r.name=e.name),e.color!==void 0&&r.color!==void 0&&r.color.setHex(e.color),e.roughness!==void 0&&(r.roughness=e.roughness),e.metalness!==void 0&&(r.metalness=e.metalness),e.sheen!==void 0&&(r.sheen=e.sheen),e.sheenColor!==void 0&&(r.sheenColor=new ke().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(r.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&r.emissive!==void 0&&r.emissive.setHex(e.emissive),e.specular!==void 0&&r.specular!==void 0&&r.specular.setHex(e.specular),e.specularIntensity!==void 0&&(r.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&r.specularColor!==void 0&&r.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(r.shininess=e.shininess),e.clearcoat!==void 0&&(r.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(r.dispersion=e.dispersion),e.iridescence!==void 0&&(r.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(r.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(r.transmission=e.transmission),e.thickness!==void 0&&(r.thickness=e.thickness),e.attenuationDistance!==void 0&&(r.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&r.attenuationColor!==void 0&&r.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(r.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(r.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(r.fog=e.fog),e.flatShading!==void 0&&(r.flatShading=e.flatShading),e.blending!==void 0&&(r.blending=e.blending),e.combine!==void 0&&(r.combine=e.combine),e.side!==void 0&&(r.side=e.side),e.shadowSide!==void 0&&(r.shadowSide=e.shadowSide),e.opacity!==void 0&&(r.opacity=e.opacity),e.transparent!==void 0&&(r.transparent=e.transparent),e.alphaTest!==void 0&&(r.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(r.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(r.depthFunc=e.depthFunc),e.depthTest!==void 0&&(r.depthTest=e.depthTest),e.depthWrite!==void 0&&(r.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(r.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(r.blendSrc=e.blendSrc),e.blendDst!==void 0&&(r.blendDst=e.blendDst),e.blendEquation!==void 0&&(r.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(r.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(r.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(r.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&r.blendColor!==void 0&&r.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(r.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(r.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(r.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(r.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(r.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(r.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(r.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(r.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(r.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(r.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(r.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(r.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(r.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(r.rotation=e.rotation),e.linewidth!==void 0&&(r.linewidth=e.linewidth),e.dashSize!==void 0&&(r.dashSize=e.dashSize),e.gapSize!==void 0&&(r.gapSize=e.gapSize),e.scale!==void 0&&(r.scale=e.scale),e.polygonOffset!==void 0&&(r.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(r.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(r.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(r.dithering=e.dithering),e.alphaToCoverage!==void 0&&(r.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(r.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(r.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(r.visible=e.visible),e.toneMapped!==void 0&&(r.toneMapped=e.toneMapped),e.userData!==void 0&&(r.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(r.uniforms[s]={},o.type){case"t":r.uniforms[s].value=i(o.value);break;case"c":r.uniforms[s].value=new ke().setHex(o.value);break;case"v2":r.uniforms[s].value=new ge().fromArray(o.value);break;case"v3":r.uniforms[s].value=new B().fromArray(o.value);break;case"v4":r.uniforms[s].value=new Bt().fromArray(o.value);break;case"m3":r.uniforms[s].value=new Mt().fromArray(o.value);break;case"m4":r.uniforms[s].value=new gt().fromArray(o.value);break;default:r.uniforms[s].value=o.value}}if(e.defines!==void 0&&(r.defines=e.defines),e.vertexShader!==void 0&&(r.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(r.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(r.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)r.extensions[s]=e.extensions[s];if(e.lights!==void 0&&(r.lights=e.lights),e.clipping!==void 0&&(r.clipping=e.clipping),e.size!==void 0&&(r.size=e.size),e.sizeAttenuation!==void 0&&(r.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(r.map=i(e.map)),e.matcap!==void 0&&(r.matcap=i(e.matcap)),e.alphaMap!==void 0&&(r.alphaMap=i(e.alphaMap)),e.bumpMap!==void 0&&(r.bumpMap=i(e.bumpMap)),e.bumpScale!==void 0&&(r.bumpScale=e.bumpScale),e.normalMap!==void 0&&(r.normalMap=i(e.normalMap)),e.normalMapType!==void 0&&(r.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),r.normalScale=new ge().fromArray(s)}return e.displacementMap!==void 0&&(r.displacementMap=i(e.displacementMap)),e.displacementScale!==void 0&&(r.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(r.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(r.roughnessMap=i(e.roughnessMap)),e.metalnessMap!==void 0&&(r.metalnessMap=i(e.metalnessMap)),e.emissiveMap!==void 0&&(r.emissiveMap=i(e.emissiveMap)),e.emissiveIntensity!==void 0&&(r.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(r.specularMap=i(e.specularMap)),e.specularIntensityMap!==void 0&&(r.specularIntensityMap=i(e.specularIntensityMap)),e.specularColorMap!==void 0&&(r.specularColorMap=i(e.specularColorMap)),e.envMap!==void 0&&(r.envMap=i(e.envMap)),e.envMapRotation!==void 0&&r.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(r.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(r.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(r.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(r.lightMap=i(e.lightMap)),e.lightMapIntensity!==void 0&&(r.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(r.aoMap=i(e.aoMap)),e.aoMapIntensity!==void 0&&(r.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(r.gradientMap=i(e.gradientMap)),e.clearcoatMap!==void 0&&(r.clearcoatMap=i(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(r.clearcoatRoughnessMap=i(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(r.clearcoatNormalMap=i(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(r.clearcoatNormalScale=new ge().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(r.iridescenceMap=i(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(r.iridescenceThicknessMap=i(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(r.transmissionMap=i(e.transmissionMap)),e.thicknessMap!==void 0&&(r.thicknessMap=i(e.thicknessMap)),e.anisotropyMap!==void 0&&(r.anisotropyMap=i(e.anisotropyMap)),e.sheenColorMap!==void 0&&(r.sheenColorMap=i(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(r.sheenRoughnessMap=i(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return V1.createMaterialFromType(e)}static createMaterialFromType(e){const t={ShadowMaterial:B8,SpriteMaterial:q3,RawShaderMaterial:V8,ShaderMaterial:jr,PointsMaterial:Z3,MeshPhysicalMaterial:H8,MeshStandardMaterial:n_,MeshPhongMaterial:G8,MeshToonMaterial:W8,MeshNormalMaterial:j8,MeshLambertMaterial:X8,MeshDepthMaterial:i_,MeshDistanceMaterial:r_,MeshBasicMaterial:ia,MeshMatcapMaterial:q8,LineDashedMaterial:Y8,LineBasicMaterial:Ai,Material:pi};return new t[e]}}class ox{static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class cC extends Tt{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class uC extends Wi{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new Js(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const t={},i={};function r(m,y){if(t[y]!==void 0)return t[y];const S=m.interleavedBuffers[y],g=s(m,S.buffer),x=yc(S.type,g),M=new w1(x,S.stride);return M.uuid=S.uuid,t[y]=M,M}function s(m,y){if(i[y]!==void 0)return i[y];const S=m.arrayBuffers[y],g=new Uint32Array(S).buffer;return i[y]=g,g}const o=e.isInstancedBufferGeometry?new cC:new Tt,a=e.data.index;if(a!==void 0){const m=yc(a.type,a.array);o.setIndex(new Zt(m,1))}const l=e.data.attributes;for(const m in l){const y=l[m];let w;if(y.isInterleavedBufferAttribute){const S=r(e.data,y.data);w=new ol(S,y.itemSize,y.offset,y.normalized)}else{const S=yc(y.type,y.array),g=y.isInstancedBufferAttribute?jc:Zt;w=new g(S,y.itemSize,y.normalized)}y.name!==void 0&&(w.name=y.name),y.usage!==void 0&&w.setUsage(y.usage),o.setAttribute(m,w)}const h=e.data.morphAttributes;if(h)for(const m in h){const y=h[m],w=[];for(let S=0,g=y.length;S<g;S++){const x=y[S];let M;if(x.isInterleavedBufferAttribute){const E=r(e.data,x.data);M=new ol(E,x.itemSize,x.offset,x.normalized)}else{const E=yc(x.type,x.array);M=new Zt(E,x.itemSize,x.normalized)}x.name!==void 0&&(M.name=x.name),w.push(M)}o.morphAttributes[m]=w}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const d=e.data.groups||e.data.drawcalls||e.data.offsets;if(d!==void 0)for(let m=0,y=d.length;m!==y;++m){const w=d[m];o.addGroup(w.start,w.count,w.materialIndex)}const p=e.data.boundingSphere;if(p!==void 0){const m=new B;p.center!==void 0&&m.fromArray(p.center),o.boundingSphere=new Zn(m,p.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class fz extends Wi{constructor(e){super(e)}load(e,t,i,r){const s=this,o=this.path===""?ox.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new Js(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let h=null;try{h=JSON.parse(l)}catch(d){r!==void 0&&r(d),console.error("THREE:ObjectLoader: Can't parse "+e+".",d.message);return}const f=h.metadata;if(f===void 0||f.type===void 0||f.type.toLowerCase()==="geometry"){r!==void 0&&r(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(h,t)},i,r)}async loadAsync(e,t){const i=this,r=this.path===""?ox.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||r;const s=new Js(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,t),a=JSON.parse(o),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await i.parseAsync(a)}parse(e,t){const i=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,r),o=this.parseImages(e.images,function(){t!==void 0&&t(h)}),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),h=this.parseObject(e.object,s,l,a,i),f=this.parseSkeletons(e.skeletons,h);if(this.bindSkeletons(h,f),this.bindLightTargets(h),t!==void 0){let d=!1;for(const p in o)if(o[p].data instanceof HTMLImageElement){d=!0;break}d===!1&&t(h)}return h}async parseAsync(e){const t=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,i),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,r,a,o,t),h=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,h),this.bindLightTargets(l),l}parseShapes(e){const t={};if(e!==void 0)for(let i=0,r=e.length;i<r;i++){const s=new Ja().fromJSON(e[i]);t[s.uuid]=s}return t}parseSkeletons(e,t){const i={},r={};if(t.traverse(function(s){s.isBone&&(r[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new E1().fromJSON(e[s],r);i[a.uuid]=a}return i}parseGeometries(e,t){const i={};if(e!==void 0){const r=new uC;for(let s=0,o=e.length;s<o;s++){let a;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=r.parse(l);break;default:l.type in f5?a=f5[l.type].fromJSON(l,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),l.userData!==void 0&&(a.userData=l.userData),i[l.uuid]=a}}return i}parseMaterials(e,t){const i={},r={};if(e!==void 0){const s=new V1;s.setTextures(t);for(let o=0,a=e.length;o<a;o++){const l=e[o];i[l.uuid]===void 0&&(i[l.uuid]=s.parse(l)),r[l.uuid]=i[l.uuid]}}return r}parseAnimations(e){const t={};if(e!==void 0)for(let i=0;i<e.length;i++){const r=e[i],s=lf.parse(r);t[s.uuid]=s}return t}parseImages(e,t){const i=this,r={};let s;function o(l){return i.manager.itemStart(l),s.load(l,function(){i.manager.itemEnd(l)},void 0,function(){i.manager.itemError(l),i.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const h=l,f=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(h)?h:i.resourcePath+h;return o(f)}else return l.data?{data:yc(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new l_(t);s=new cf(l),s.setCrossOrigin(this.crossOrigin);for(let h=0,f=e.length;h<f;h++){const d=e[h],p=d.url;if(Array.isArray(p)){const m=[];for(let y=0,w=p.length;y<w;y++){const S=p[y],g=a(S);g!==null&&(g instanceof HTMLImageElement?m.push(g):m.push(new ds(g.data,g.width,g.height)))}r[d.uuid]=new Io(m)}else{const m=a(d.url);r[d.uuid]=new Io(m)}}}return r}async parseImagesAsync(e){const t=this,i={};let r;async function s(o){if(typeof o=="string"){const a=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:t.resourcePath+a;return await r.loadAsync(l)}else return o.data?{data:yc(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){r=new cf(this.manager),r.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const l=e[o],h=l.url;if(Array.isArray(h)){const f=[];for(let d=0,p=h.length;d<p;d++){const m=h[d],y=await s(m);y!==null&&(y instanceof HTMLImageElement?f.push(y):f.push(new ds(y.data,y.width,y.height)))}i[l.uuid]=new Io(f)}else{const f=await s(l.url);i[l.uuid]=new Io(f)}}}return i}parseTextures(e,t){function i(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const r={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),t[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=t[a.image],h=l.data;let f;Array.isArray(h)?(f=new Ef,h.length===6&&(f.needsUpdate=!0)):(h&&h.data?f=new ds:f=new yn,h&&(f.needsUpdate=!0)),f.source=l,f.uuid=a.uuid,a.name!==void 0&&(f.name=a.name),a.mapping!==void 0&&(f.mapping=i(a.mapping,dz)),a.channel!==void 0&&(f.channel=a.channel),a.offset!==void 0&&f.offset.fromArray(a.offset),a.repeat!==void 0&&f.repeat.fromArray(a.repeat),a.center!==void 0&&f.center.fromArray(a.center),a.rotation!==void 0&&(f.rotation=a.rotation),a.wrap!==void 0&&(f.wrapS=i(a.wrap[0],g5),f.wrapT=i(a.wrap[1],g5)),a.format!==void 0&&(f.format=a.format),a.internalFormat!==void 0&&(f.internalFormat=a.internalFormat),a.type!==void 0&&(f.type=a.type),a.colorSpace!==void 0&&(f.colorSpace=a.colorSpace),a.minFilter!==void 0&&(f.minFilter=i(a.minFilter,v5)),a.magFilter!==void 0&&(f.magFilter=i(a.magFilter,v5)),a.anisotropy!==void 0&&(f.anisotropy=a.anisotropy),a.flipY!==void 0&&(f.flipY=a.flipY),a.generateMipmaps!==void 0&&(f.generateMipmaps=a.generateMipmaps),a.premultiplyAlpha!==void 0&&(f.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(f.unpackAlignment=a.unpackAlignment),a.compareFunction!==void 0&&(f.compareFunction=a.compareFunction),a.userData!==void 0&&(f.userData=a.userData),r[a.uuid]=f}return r}parseObject(e,t,i,r,s){let o;function a(p){return t[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",p),t[p]}function l(p){if(p!==void 0){if(Array.isArray(p)){const m=[];for(let y=0,w=p.length;y<w;y++){const S=p[y];i[S]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",S),m.push(i[S])}return m}return i[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",p),i[p]}}function h(p){return r[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",p),r[p]}let f,d;switch(e.type){case"Scene":o=new X3,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new ke(e.background):o.background=h(e.background)),e.environment!==void 0&&(o.environment=h(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new M1(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new S1(e.fog.color,e.fog.density)),e.fog.name!==""&&(o.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&o.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(o.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&o.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":o=new Mn(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new Wo(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new sC(e.color,e.intensity);break;case"DirectionalLight":o=new rC(e.color,e.intensity),o.target=e.target||"";break;case"PointLight":o=new iC(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new oC(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new nC(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),o.target=e.target||"";break;case"HemisphereLight":o=new tC(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new lC().fromJSON(e);break;case"SkinnedMesh":f=a(e.geometry),d=l(e.material),o=new w8(f,d),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":f=a(e.geometry),d=l(e.material),o=new Pn(f,d);break;case"InstancedMesh":f=a(e.geometry),d=l(e.material);const p=e.count,m=e.instanceMatrix,y=e.instanceColor;o=new E8(f,d,p),o.instanceMatrix=new jc(new Float32Array(m.array),16),y!==void 0&&(o.instanceColor=new jc(new Float32Array(y.array),y.itemSize));break;case"BatchedMesh":f=a(e.geometry),d=l(e.material),o=new T8(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,d),o.geometry=f,o.perObjectFrustumCulled=e.perObjectFrustumCulled,o.sortObjects=e.sortObjects,o._drawRanges=e.drawRanges,o._reservedRanges=e.reservedRanges,o._geometryInfo=e.geometryInfo.map(w=>{let S=null,g=null;return w.boundingBox!==void 0&&(S=new fi,S.min.fromArray(w.boundingBox.min),S.max.fromArray(w.boundingBox.max)),w.boundingSphere!==void 0&&(g=new Zn,g.radius=w.boundingSphere.radius,g.center.fromArray(w.boundingSphere.center)),{...w,boundingBox:S,boundingSphere:g}}),o._instanceInfo=e.instanceInfo,o._availableInstanceIds=e._availableInstanceIds,o._availableGeometryIds=e._availableGeometryIds,o._nextIndexStart=e.nextIndexStart,o._nextVertexStart=e.nextVertexStart,o._geometryCount=e.geometryCount,o._maxInstanceCount=e.maxInstanceCount,o._maxVertexCount=e.maxVertexCount,o._maxIndexCount=e.maxIndexCount,o._geometryInitialized=e.geometryInitialized,o._matricesTexture=h(e.matricesTexture.uuid),o._indirectTexture=h(e.indirectTexture.uuid),e.colorsTexture!==void 0&&(o._colorsTexture=h(e.colorsTexture.uuid)),e.boundingSphere!==void 0&&(o.boundingSphere=new Zn,o.boundingSphere.center.fromArray(e.boundingSphere.center),o.boundingSphere.radius=e.boundingSphere.radius),e.boundingBox!==void 0&&(o.boundingBox=new fi,o.boundingBox.min.fromArray(e.boundingBox.min),o.boundingBox.max.fromArray(e.boundingBox.max));break;case"LOD":o=new M8;break;case"Line":o=new Ko(a(e.geometry),l(e.material));break;case"LineLoop":o=new A8(a(e.geometry),l(e.material));break;case"LineSegments":o=new gs(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new b8(a(e.geometry),l(e.material));break;case"Sprite":o=new S8(l(e.material));break;case"Group":o=new xc;break;case"Bone":o=new Y3;break;default:o=new Ht}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.up!==void 0&&o.up.fromArray(e.up),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(o.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const p=e.children;for(let m=0;m<p.length;m++)o.add(this.parseObject(p[m],t,i,r,s))}if(e.animations!==void 0){const p=e.animations;for(let m=0;m<p.length;m++){const y=p[m];o.animations.push(s[y])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const p=e.levels;for(let m=0;m<p.length;m++){const y=p[m],w=o.getObjectByProperty("uuid",y.object);w!==void 0&&o.addLevel(w,y.distance,y.hysteresis)}}return o}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(i){if(i.isSkinnedMesh===!0&&i.skeleton!==void 0){const r=t[i.skeleton];r===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",i.skeleton):i.bind(r,i.bindMatrix)}})}bindLightTargets(e){e.traverse(function(t){if(t.isDirectionalLight||t.isSpotLight){const i=t.target,r=e.getObjectByProperty("uuid",i);r!==void 0?t.target=r:t.target=new Ht}})}}const dz={UVMapping:h1,CubeReflectionMapping:Ks,CubeRefractionMapping:Zo,EquirectangularReflectionMapping:Xh,EquirectangularRefractionMapping:qh,CubeUVReflectionMapping:Qc},g5={RepeatWrapping:Yh,ClampToEdgeWrapping:Mr,MirroredRepeatWrapping:Zh},v5={NearestFilter:Yn,NearestMipmapNearestFilter:N3,NearestMipmapLinearFilter:vc,LinearFilter:Dn,LinearMipmapNearestFilter:mh,LinearMipmapLinearFilter:ls};class pz extends Wi{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Fs.get(e);if(o!==void 0){if(s.manager.itemStart(e),o.then){o.then(h=>{t&&t(h),s.manager.itemEnd(e)}).catch(h=>{r&&r(h)});return}return setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o}const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader;const l=fetch(e,a).then(function(h){return h.blob()}).then(function(h){return createImageBitmap(h,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(h){return Fs.add(e,h),t&&t(h),s.manager.itemEnd(e),h}).catch(function(h){r&&r(h),Fs.remove(e),s.manager.itemError(e),s.manager.itemEnd(e)});Fs.add(e,l),s.manager.itemStart(e)}}let I0;class u_{static getContext(){return I0===void 0&&(I0=new(window.AudioContext||window.webkitAudioContext)),I0}static setContext(e){I0=e}}class mz extends Wi{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new Js(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){try{const h=l.slice(0);u_.getContext().decodeAudioData(h,function(d){t(d)}).catch(a)}catch(h){a(h)}},i,r);function a(l){r?r(l):console.error(l),s.manager.itemError(e)}}}const y5=new gt,x5=new gt,wa=new gt;class gz{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Mn,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Mn,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,wa.copy(e.projectionMatrix);const r=t.eyeSep/2,s=r*t.near/t.focus,o=t.near*Math.tan(Ka*t.fov*.5)/t.zoom;let a,l;x5.elements[12]=-r,y5.elements[12]=r,a=-o*t.aspect+s,l=o*t.aspect+s,wa.elements[0]=2*t.near/(l-a),wa.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(wa),a=-o*t.aspect-s,l=o*t.aspect-s,wa.elements[0]=2*t.near/(l-a),wa.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(wa)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(x5),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(y5)}}class hC extends Mn{constructor(e=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=e}}class h_{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=_5(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=_5();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function _5(){return performance.now()}const Ea=new B,S5=new hi,vz=new B,Ta=new B;class yz extends Ht{constructor(){super(),this.type="AudioListener",this.context=u_.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new h_}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,i=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Ea,S5,vz),Ta.set(0,0,-1).applyQuaternion(S5),t.positionX){const r=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(Ea.x,r),t.positionY.linearRampToValueAtTime(Ea.y,r),t.positionZ.linearRampToValueAtTime(Ea.z,r),t.forwardX.linearRampToValueAtTime(Ta.x,r),t.forwardY.linearRampToValueAtTime(Ta.y,r),t.forwardZ.linearRampToValueAtTime(Ta.z,r),t.upX.linearRampToValueAtTime(i.x,r),t.upY.linearRampToValueAtTime(i.y,r),t.upZ.linearRampToValueAtTime(i.z,r)}else t.setPosition(Ea.x,Ea.y,Ea.z),t.setOrientation(Ta.x,Ta.y,Ta.z,i.x,i.y,i.z)}}class fC extends Ht{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,t){return super.copy(e,t),e.sourceType!=="buffer"?(console.warn("THREE.Audio: Audio source type cannot be copied."),this):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice(),this)}clone(e){return new this.constructor(this.listener).copy(this,e)}}const Aa=new B,M5=new hi,xz=new B,ba=new B;class _z extends fC{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,i){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=i,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Aa,M5,xz),ba.set(0,0,1).applyQuaternion(M5);const t=this.panner;if(t.positionX){const i=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Aa.x,i),t.positionY.linearRampToValueAtTime(Aa.y,i),t.positionZ.linearRampToValueAtTime(Aa.z,i),t.orientationX.linearRampToValueAtTime(ba.x,i),t.orientationY.linearRampToValueAtTime(ba.y,i),t.orientationZ.linearRampToValueAtTime(ba.z,i)}else t.setPosition(Aa.x,Aa.y,Aa.z),t.setOrientation(ba.x,ba.y,ba.z)}}class Sz{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let i=0;i<t.length;i++)e+=t[i];return e/t.length}}class dC{constructor(e,t,i){this.binding=e,this.valueSize=i;let r,s,o;switch(t){case"quaternion":r=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":r=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:r=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const i=this.buffer,r=this.valueSize,s=e*r+r;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==r;++a)i[s+a]=i[a];o=t}else{o+=t;const a=t/o;this._mixBufferRegion(i,s,0,a,r)}this.cumulativeWeight=o}accumulateAdditive(e){const t=this.buffer,i=this.valueSize,r=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,i),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,i=this.buffer,r=e*t+t,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=t*this._origIndex;this._mixBufferRegion(i,r,l,1-s,t)}o>0&&this._mixBufferRegionAdditive(i,r,this._addIndex*t,1,t);for(let l=t,h=t+t;l!==h;++l)if(i[l]!==i[l+t]){a.setValue(i,r);break}}saveOriginalState(){const e=this.binding,t=this.buffer,i=this.valueSize,r=i*this._origIndex;e.getValue(t,r);for(let s=i,o=r;s!==o;++s)t[s]=t[r+s%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let i=e;i<t;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[t+i]=this.buffer[e+i]}_select(e,t,i,r,s){if(r>=.5)for(let o=0;o!==s;++o)e[t+o]=e[i+o]}_slerp(e,t,i,r){hi.slerpFlat(e,t,e,t,e,i,r)}_slerpAdditive(e,t,i,r,s){const o=this._workIndex*s;hi.multiplyQuaternionsFlat(e,o,e,t,e,i),hi.slerpFlat(e,t,e,t,e,o,r)}_lerp(e,t,i,r,s){const o=1-r;for(let a=0;a!==s;++a){const l=t+a;e[l]=e[l]*o+e[i+a]*r}}_lerpAdditive(e,t,i,r,s){for(let o=0;o!==s;++o){const a=t+o;e[a]=e[a]+e[i+o]*r}}}const f_="\\[\\]\\.:\\/",Mz=new RegExp("["+f_+"]","g"),d_="[^"+f_+"]",wz="[^"+f_.replace("\\.","")+"]",Ez=/((?:WC+[\/:])*)/.source.replace("WC",d_),Tz=/(WCOD+)?/.source.replace("WCOD",wz),Az=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",d_),bz=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",d_),Cz=new RegExp("^"+Ez+Tz+Az+bz+"$"),Pz=["material","materials","bones","map"];class Rz{constructor(e,t,i){const r=i||zt.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const i=this._targetGroup.nCachedObjects_,r=this._bindings[i];r!==void 0&&r.getValue(e,t)}setValue(e,t){const i=this._bindings;for(let r=this._targetGroup.nCachedObjects_,s=i.length;r!==s;++r)i[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].unbind()}}class zt{constructor(e,t,i){this.path=t,this.parsedPath=i||zt.parseTrackName(t),this.node=zt.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,i){return e&&e.isAnimationObjectGroup?new zt.Composite(e,t,i):new zt(e,t,i)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(Mz,"")}static parseTrackName(e){const t=Cz.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const i={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=i.nodeName&&i.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){const s=i.nodeName.substring(r+1);Pz.indexOf(s)!==-1&&(i.nodeName=i.nodeName.substring(0,r),i.objectName=s)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return i}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const i=e.skeleton.getBoneByName(t);if(i!==void 0)return i}if(e.children){const i=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===t||a.uuid===t)return a;const l=i(a.children);if(l)return l}return null},r=i(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)e[t++]=i[r]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,i=t.objectName,r=t.propertyName;let s=t.propertyIndex;if(e||(e=zt.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(i){let h=t.objectIndex;switch(i){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let f=0;f<e.length;f++)if(e[f].name===h){h=f;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[i]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[i]}if(h!==void 0){if(e[h]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[h]}}const o=e[r];if(o===void 0){const h=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+h+"."+r+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.isMaterial===!0?a=this.Versioning.NeedsUpdate:e.isObject3D===!0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(r==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=r;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}zt.Composite=Rz;zt.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};zt.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};zt.prototype.GetterByBindingType=[zt.prototype._getValue_direct,zt.prototype._getValue_array,zt.prototype._getValue_arrayElement,zt.prototype._getValue_toArray];zt.prototype.SetterByBindingTypeAndVersioning=[[zt.prototype._setValue_direct,zt.prototype._setValue_direct_setNeedsUpdate,zt.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[zt.prototype._setValue_array,zt.prototype._setValue_array_setNeedsUpdate,zt.prototype._setValue_array_setMatrixWorldNeedsUpdate],[zt.prototype._setValue_arrayElement,zt.prototype._setValue_arrayElement_setNeedsUpdate,zt.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[zt.prototype._setValue_fromArray,zt.prototype._setValue_fromArray_setNeedsUpdate,zt.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class Iz{constructor(){this.isAnimationObjectGroup=!0,this.uuid=nr(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let i=0,r=arguments.length;i!==r;++i)e[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,i=this._paths,r=this._parsedPaths,s=this._bindings,o=s.length;let a,l=e.length,h=this.nCachedObjects_;for(let f=0,d=arguments.length;f!==d;++f){const p=arguments[f],m=p.uuid;let y=t[m];if(y===void 0){y=l++,t[m]=y,e.push(p);for(let w=0,S=o;w!==S;++w)s[w].push(new zt(p,i[w],r[w]))}else if(y<h){a=e[y];const w=--h,S=e[w];t[S.uuid]=y,e[y]=S,t[m]=w,e[w]=p;for(let g=0,x=o;g!==x;++g){const M=s[g],E=M[w];let C=M[y];M[y]=E,C===void 0&&(C=new zt(p,i[g],r[g])),M[w]=C}}else e[y]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=h}remove(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],h=l.uuid,f=t[h];if(f!==void 0&&f>=s){const d=s++,p=e[d];t[p.uuid]=f,e[f]=p,t[h]=d,e[d]=l;for(let m=0,y=r;m!==y;++m){const w=i[m],S=w[d],g=w[f];w[f]=S,w[d]=g}}}this.nCachedObjects_=s}uncache(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,l=arguments.length;a!==l;++a){const h=arguments[a],f=h.uuid,d=t[f];if(d!==void 0)if(delete t[f],d<s){const p=--s,m=e[p],y=--o,w=e[y];t[m.uuid]=d,e[d]=m,t[w.uuid]=p,e[p]=w,e.pop();for(let S=0,g=r;S!==g;++S){const x=i[S],M=x[p],E=x[y];x[d]=M,x[p]=E,x.pop()}}else{const p=--o,m=e[p];p>0&&(t[m.uuid]=d),e[d]=m,e.pop();for(let y=0,w=r;y!==w;++y){const S=i[y];S[d]=S[p],S.pop()}}}this.nCachedObjects_=s}subscribe_(e,t){const i=this._bindingsIndicesByPath;let r=i[e];const s=this._bindings;if(r!==void 0)return s[r];const o=this._paths,a=this._parsedPaths,l=this._objects,h=l.length,f=this.nCachedObjects_,d=new Array(h);r=s.length,i[e]=r,o.push(e),a.push(t),s.push(d);for(let p=f,m=l.length;p!==m;++p){const y=l[p];d[p]=new zt(y,e,t)}return d}unsubscribe_(e){const t=this._bindingsIndicesByPath,i=t[e];if(i!==void 0){const r=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],h=e[a];t[h]=i,o[i]=l,o.pop(),s[i]=s[a],s.pop(),r[i]=r[a],r.pop()}}}class pC{constructor(e,t,i=null,r=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=i,this.blendMode=r;const s=t.tracks,o=s.length,a=new Array(o),l={endingStart:Wa,endingEnd:Wa};for(let h=0;h!==o;++h){const f=s[h].createInterpolant(null);a[h]=f,f.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=e8,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,i=!1){if(e.fadeOut(t),this.fadeIn(t),i===!0){const r=this._clip.duration,s=e._clip.duration,o=s/r,a=r/s;e.warp(1,o,t),this.warp(a,1,t)}return this}crossFadeTo(e,t,i=!1){return e.crossFadeFrom(this,t,i)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,i){const r=this._mixer,s=r.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=r._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,h=a.sampleValues;return l[0]=s,l[1]=s+i,h[0]=e/o,h[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,i,r){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*i;l<0||i===0?t=0:(this._startTime=null,t=i*l)}t*=this._updateTimeScale(e);const o=this._updateTime(t),a=this._updateWeight(e);if(a>0){const l=this._interpolants,h=this._propertyBindings;switch(this.blendMode){case V3:for(let f=0,d=l.length;f!==d;++f)l[f].evaluate(o),h[f].accumulateAdditive(a);break;case y1:default:for(let f=0,d=l.length;f!==d;++f)l[f].evaluate(o),h[f].accumulate(r,a)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const i=this._weightInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const i=this._timeScaleInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,i=this.loop;let r=this.time+e,s=this._loopCount;const o=i===t8;if(e===0)return s===-1?r:o&&(s&1)===1?t-r:r;if(i===Qb){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else if(r<0)r=0;else{this.time=r;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),r>=t||r<0){const a=Math.floor(r/t);r-=t*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const h=e<0;this._setEndings(h,!h,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=r;if(o&&(s&1)===1)return t-r}return r}_setEndings(e,t,i){const r=this._interpolantSettings;i?(r.endingStart=ja,r.endingEnd=ja):(e?r.endingStart=this.zeroSlopeAtStart?ja:Wa:r.endingStart=$h,t?r.endingEnd=this.zeroSlopeAtEnd?ja:Wa:r.endingEnd=$h)}_scheduleFading(e,t,i){const r=this._mixer,s=r.time;let o=this._weightInterpolant;o===null&&(o=r._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=t,a[1]=s+e,l[1]=i,this}}const Lz=new Float32Array(1);class Nz extends ms{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const i=e._localRoot||this._root,r=e._clip.tracks,s=r.length,o=e._propertyBindings,a=e._interpolants,l=i.uuid,h=this._bindingsByRootAndName;let f=h[l];f===void 0&&(f={},h[l]=f);for(let d=0;d!==s;++d){const p=r[d],m=p.name;let y=f[m];if(y!==void 0)++y.referenceCount,o[d]=y;else{if(y=o[d],y!==void 0){y._cacheIndex===null&&(++y.referenceCount,this._addInactiveBinding(y,l,m));continue}const w=t&&t._propertyBindings[d].binding.parsedPath;y=new dC(zt.create(i,m,w),p.ValueTypeName,p.getValueSize()),++y.referenceCount,this._addInactiveBinding(y,l,m),o[d]=y}a[d].resultBuffer=y.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const i=(e._localRoot||this._root).uuid,r=e._clip.uuid,s=this._actionsByClip[r];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,r,i)}const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,i){const r=this._actions,s=this._actionsByClip;let o=s[t];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[t]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=r.length,r.push(e),o.actionByRoot[i]=e}_removeInactiveAction(e){const t=this._actions,i=t[t.length-1],r=e._cacheIndex;i._cacheIndex=r,t[r]=i,t.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,h=l[l.length-1],f=e._byClipCacheIndex;h._byClipCacheIndex=f,l[f]=h,l.pop(),e._byClipCacheIndex=null;const d=a.actionByRoot,p=(e._localRoot||this._root).uuid;delete d[p],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const t=this._actions,i=e._cacheIndex,r=this._nActiveActions++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_takeBackAction(e){const t=this._actions,i=e._cacheIndex,r=--this._nActiveActions,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_addInactiveBinding(e,t,i){const r=this._bindingsByRootAndName,s=this._bindings;let o=r[t];o===void 0&&(o={},r[t]=o),o[i]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const t=this._bindings,i=e.binding,r=i.rootNode.uuid,s=i.path,o=this._bindingsByRootAndName,a=o[r],l=t[t.length-1],h=e._cacheIndex;l._cacheIndex=h,t[h]=l,t.pop(),delete a[s],Object.keys(a).length===0&&delete o[r]}_lendBinding(e){const t=this._bindings,i=e._cacheIndex,r=this._nActiveBindings++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_takeBackBinding(e){const t=this._bindings,i=e._cacheIndex,r=--this._nActiveBindings,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let i=e[t];return i===void 0&&(i=new o_(new Float32Array(2),new Float32Array(2),1,Lz),i.__cacheIndex=t,e[t]=i),i}_takeBackControlInterpolant(e){const t=this._controlInterpolants,i=e.__cacheIndex,r=--this._nActiveControlInterpolants,s=t[r];e.__cacheIndex=r,t[r]=e,s.__cacheIndex=i,t[i]=s}clipAction(e,t,i){const r=t||this._root,s=r.uuid;let o=typeof e=="string"?lf.findByName(r,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let h=null;if(i===void 0&&(o!==null?i=o.blendMode:i=y1),l!==void 0){const d=l.actionByRoot[s];if(d!==void 0&&d.blendMode===i)return d;h=l.knownActions[0],o===null&&(o=h._clip)}if(o===null)return null;const f=new pC(this,o,t,i);return this._bindAction(f,h),this._addInactiveAction(f,a,s),f}existingAction(e,t){const i=t||this._root,r=i.uuid,s=typeof e=="string"?lf.findByName(i,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[r]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let i=t-1;i>=0;--i)e[i].stop();return this}update(e){e*=this.timeScale;const t=this._actions,i=this._nActiveActions,r=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let h=0;h!==i;++h)t[h]._update(r,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let h=0;h!==l;++h)a[h].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,i=e.uuid,r=this._actionsByClip,s=r[i];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const h=o[a];this._deactivateAction(h);const f=h._cacheIndex,d=t[t.length-1];h._cacheIndex=null,h._byClipCacheIndex=null,d._cacheIndex=f,t[f]=d,t.pop(),this._removeInactiveBindingsForAction(h)}delete r[i]}}uncacheRoot(e){const t=e.uuid,i=this._actionsByClip;for(const o in i){const a=i[o].actionByRoot,l=a[t];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const r=this._bindingsByRootAndName,s=r[t];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,t){const i=this.existingAction(e,t);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}class Dz extends x1{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isRenderTarget3D=!0,this.depth=i,this.texture=new _1(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class Uz extends x1{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isRenderTargetArray=!0,this.depth=i,this.texture=new Mf(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class p_{constructor(e){this.value=e}clone(){return new p_(this.value.clone===void 0?this.value:this.value.clone())}}let kz=0;class Oz extends ms{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:kz++}),this.name="",this.usage=Qh,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){this.dispatchEvent({type:"dispose"})}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let i=0,r=t.length;i<r;i++){const s=Array.isArray(t[i])?t[i]:[t[i]];for(let o=0;o<s.length;o++)this.uniforms.push(s[o].clone())}return this}clone(){return new this.constructor().copy(this)}}class Fz extends w1{constructor(e,t,i=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class zz{constructor(e,t,i,r,s){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=i,this.elementSize=r,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const w5=new gt;class mC{constructor(e,t,i=0,r=1/0){this.ray=new dl(e,t),this.near=i,this.far=r,this.camera=null,this.layers=new $a,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}setFromXRController(e){return w5.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(w5),this}intersectObject(e,t=!0,i=[]){return ax(e,this,i,t),i.sort(E5),i}intersectObjects(e,t=!0,i=[]){for(let r=0,s=e.length;r<s;r++)ax(e[r],this,i,t);return i.sort(E5),i}}function E5(n,e){return n.distance-e.distance}function ax(n,e,t,i){let r=!0;if(n.layers.test(e.layers)&&n.raycast(e,t)===!1&&(r=!1),r===!0&&i===!0){const s=n.children;for(let o=0,a=s.length;o<a;o++)ax(s[o],e,t,!0)}}class lx{constructor(e=1,t=0,i=0){this.radius=e,this.phi=t,this.theta=i}set(e,t,i){return this.radius=e,this.phi=t,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=xt(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+t*t+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(xt(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class Bz{constructor(e=1,t=0,i=0){this.radius=e,this.theta=t,this.y=i}set(e,t,i){return this.radius=e,this.theta=t,this.y=i,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+i*i),this.theta=Math.atan2(e,i),this.y=t,this}clone(){return new this.constructor().copy(this)}}class m_{constructor(e,t,i,r){m_.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,t,i,r)}identity(){return this.set(1,0,0,1),this}fromArray(e,t=0){for(let i=0;i<4;i++)this.elements[i]=e[i+t];return this}set(e,t,i,r){const s=this.elements;return s[0]=e,s[2]=t,s[1]=i,s[3]=r,this}}const T5=new ge;class Vz{constructor(e=new ge(1/0,1/0),t=new ge(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=T5.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,T5).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const A5=new B,L0=new B;class Hz{constructor(e=new B,t=new B){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){A5.subVectors(e,this.start),L0.subVectors(this.end,this.start);const i=L0.dot(L0);let s=L0.dot(A5)/i;return t&&(s=xt(s,0,1)),s}closestPointToPoint(e,t,i){const r=this.closestPointToPointParameter(e,t);return this.delta(i).multiplyScalar(r).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const b5=new B;class Gz extends Ht{constructor(e,t){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const i=new Tt,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const h=o/l*Math.PI*2,f=a/l*Math.PI*2;r.push(Math.cos(h),Math.sin(h),1,Math.cos(f),Math.sin(f),1)}i.setAttribute("position",new Ke(r,3));const s=new Ai({fog:!1,toneMapped:!1});this.cone=new gs(i,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),b5.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(b5),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const xo=new B,N0=new gt,x2=new gt;class Wz extends gs{constructor(e){const t=gC(e),i=new Tt,r=[],s=[],o=new ke(0,0,1),a=new ke(0,1,0);for(let h=0;h<t.length;h++){const f=t[h];f.parent&&f.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}i.setAttribute("position",new Ke(r,3)),i.setAttribute("color",new Ke(s,3));const l=new Ai({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,i=this.geometry,r=i.getAttribute("position");x2.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<t.length;s++){const a=t[s];a.parent&&a.parent.isBone&&(N0.multiplyMatrices(x2,a.matrixWorld),xo.setFromMatrixPosition(N0),r.setXYZ(o,xo.x,xo.y,xo.z),N0.multiplyMatrices(x2,a.parent.matrixWorld),xo.setFromMatrixPosition(N0),r.setXYZ(o+1,xo.x,xo.y,xo.z),o+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function gC(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push(...gC(n.children[t]));return e}class jz extends Pn{constructor(e,t,i){const r=new Cf(t,4,2),s=new ia({wireframe:!0,fog:!1,toneMapped:!1});super(r,s),this.light=e,this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const Xz=new B,C5=new ke,P5=new ke;class qz extends Ht{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="HemisphereLightHelper";const r=new bf(t);r.rotateY(Math.PI*.5),this.material=new ia({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=r.getAttribute("position"),o=new Float32Array(s.count*3);r.setAttribute("color",new Zt(o,3)),this.add(new Pn(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");C5.copy(this.light.color),P5.copy(this.light.groundColor);for(let i=0,r=t.count;i<r;i++){const s=i<r/2?C5:P5;t.setXYZ(i,s.r,s.g,s.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(Xz.setFromMatrixPosition(this.light.matrixWorld).negate())}}class Yz extends gs{constructor(e=10,t=10,i=4473924,r=8947848){i=new ke(i),r=new ke(r);const s=t/2,o=e/t,a=e/2,l=[],h=[];for(let p=0,m=0,y=-a;p<=t;p++,y+=o){l.push(-a,0,y,a,0,y),l.push(y,0,-a,y,0,a);const w=p===s?i:r;w.toArray(h,m),m+=3,w.toArray(h,m),m+=3,w.toArray(h,m),m+=3,w.toArray(h,m),m+=3}const f=new Tt;f.setAttribute("position",new Ke(l,3)),f.setAttribute("color",new Ke(h,3));const d=new Ai({vertexColors:!0,toneMapped:!1});super(f,d),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class Zz extends gs{constructor(e=10,t=16,i=8,r=64,s=4473924,o=8947848){s=new ke(s),o=new ke(o);const a=[],l=[];if(t>1)for(let d=0;d<t;d++){const p=d/t*(Math.PI*2),m=Math.sin(p)*e,y=Math.cos(p)*e;a.push(0,0,0),a.push(m,0,y);const w=d&1?s:o;l.push(w.r,w.g,w.b),l.push(w.r,w.g,w.b)}for(let d=0;d<i;d++){const p=d&1?s:o,m=e-e/i*d;for(let y=0;y<r;y++){let w=y/r*(Math.PI*2),S=Math.sin(w)*m,g=Math.cos(w)*m;a.push(S,0,g),l.push(p.r,p.g,p.b),w=(y+1)/r*(Math.PI*2),S=Math.sin(w)*m,g=Math.cos(w)*m,a.push(S,0,g),l.push(p.r,p.g,p.b)}}const h=new Tt;h.setAttribute("position",new Ke(a,3)),h.setAttribute("color",new Ke(l,3));const f=new Ai({vertexColors:!0,toneMapped:!1});super(h,f),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const R5=new B,D0=new B,I5=new B;class Kz extends Ht{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="DirectionalLightHelper",t===void 0&&(t=1);let r=new Tt;r.setAttribute("position",new Ke([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const s=new Ai({fog:!1,toneMapped:!1});this.lightPlane=new Ko(r,s),this.add(this.lightPlane),r=new Tt,r.setAttribute("position",new Ke([0,0,0,0,0,1],3)),this.targetLine=new Ko(r,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),R5.setFromMatrixPosition(this.light.matrixWorld),D0.setFromMatrixPosition(this.light.target.matrixWorld),I5.subVectors(D0,R5),this.lightPlane.lookAt(D0),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(D0),this.targetLine.scale.z=I5.length()}}const U0=new B,pn=new wf;class $z extends gs{constructor(e){const t=new Tt,i=new Ai({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],s=[],o={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(y,w){l(y),l(w)}function l(y){r.push(0,0,0),s.push(0,0,0),o[y]===void 0&&(o[y]=[]),o[y].push(r.length/3-1)}t.setAttribute("position",new Ke(r,3)),t.setAttribute("color",new Ke(s,3)),super(t,i),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const h=new ke(16755200),f=new ke(16711680),d=new ke(43775),p=new ke(16777215),m=new ke(3355443);this.setColors(h,f,d,p,m)}setColors(e,t,i,r,s){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,t.r,t.g,t.b),a.setXYZ(25,t.r,t.g,t.b),a.setXYZ(26,t.r,t.g,t.b),a.setXYZ(27,t.r,t.g,t.b),a.setXYZ(28,t.r,t.g,t.b),a.setXYZ(29,t.r,t.g,t.b),a.setXYZ(30,t.r,t.g,t.b),a.setXYZ(31,t.r,t.g,t.b),a.setXYZ(32,i.r,i.g,i.b),a.setXYZ(33,i.r,i.g,i.b),a.setXYZ(34,i.r,i.g,i.b),a.setXYZ(35,i.r,i.g,i.b),a.setXYZ(36,i.r,i.g,i.b),a.setXYZ(37,i.r,i.g,i.b),a.setXYZ(38,r.r,r.g,r.b),a.setXYZ(39,r.r,r.g,r.b),a.setXYZ(40,s.r,s.g,s.b),a.setXYZ(41,s.r,s.g,s.b),a.setXYZ(42,s.r,s.g,s.b),a.setXYZ(43,s.r,s.g,s.b),a.setXYZ(44,s.r,s.g,s.b),a.setXYZ(45,s.r,s.g,s.b),a.setXYZ(46,s.r,s.g,s.b),a.setXYZ(47,s.r,s.g,s.b),a.setXYZ(48,s.r,s.g,s.b),a.setXYZ(49,s.r,s.g,s.b),a.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,i=1,r=1;pn.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse);const s=this.camera.coordinateSystem===wr?-1:0;_n("c",t,e,pn,0,0,s),_n("t",t,e,pn,0,0,1),_n("n1",t,e,pn,-1,-1,s),_n("n2",t,e,pn,i,-1,s),_n("n3",t,e,pn,-1,r,s),_n("n4",t,e,pn,i,r,s),_n("f1",t,e,pn,-1,-1,1),_n("f2",t,e,pn,i,-1,1),_n("f3",t,e,pn,-1,r,1),_n("f4",t,e,pn,i,r,1),_n("u1",t,e,pn,i*.7,r*1.1,s),_n("u2",t,e,pn,-1*.7,r*1.1,s),_n("u3",t,e,pn,0,r*2,s),_n("cf1",t,e,pn,-1,0,1),_n("cf2",t,e,pn,i,0,1),_n("cf3",t,e,pn,0,-1,1),_n("cf4",t,e,pn,0,r,1),_n("cn1",t,e,pn,-1,0,s),_n("cn2",t,e,pn,i,0,s),_n("cn3",t,e,pn,0,-1,s),_n("cn4",t,e,pn,0,r,s),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function _n(n,e,t,i,r,s,o){U0.set(r,s,o).unproject(i);const a=e[n];if(a!==void 0){const l=t.getAttribute("position");for(let h=0,f=a.length;h<f;h++)l.setXYZ(a[h],U0.x,U0.y,U0.z)}}const k0=new fi;class Jz extends gs{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(8*3),s=new Tt;s.setIndex(new Zt(i,1)),s.setAttribute("position",new Zt(r,3)),super(s,new Ai({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(this.object!==void 0&&k0.setFromObject(this.object),k0.isEmpty())return;const e=k0.min,t=k0.max,i=this.geometry.attributes.position,r=i.array;r[0]=t.x,r[1]=t.y,r[2]=t.z,r[3]=e.x,r[4]=t.y,r[5]=t.z,r[6]=e.x,r[7]=e.y,r[8]=t.z,r[9]=t.x,r[10]=e.y,r[11]=t.z,r[12]=t.x,r[13]=t.y,r[14]=e.z,r[15]=e.x,r[16]=t.y,r[17]=e.z,r[18]=e.x,r[19]=e.y,r[20]=e.z,r[21]=t.x,r[22]=e.y,r[23]=e.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Qz extends gs{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new Tt;s.setIndex(new Zt(i,1)),s.setAttribute("position",new Ke(r,3)),super(s,new Ai({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class eB extends Ko{constructor(e,t=1,i=16776960){const r=i,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new Tt;o.setAttribute("position",new Ke(s,3)),o.computeBoundingSphere(),super(o,new Ai({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new Tt;l.setAttribute("position",new Ke(a,3)),l.computeBoundingSphere(),this.add(new Pn(l,new ia({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const L5=new B;let O0,_2;class tB extends Ht{constructor(e=new B(0,0,1),t=new B(0,0,0),i=1,r=16776960,s=i*.2,o=s*.2){super(),this.type="ArrowHelper",O0===void 0&&(O0=new Tt,O0.setAttribute("position",new Ke([0,0,0,0,1,0],3)),_2=new Af(.5,1,5,1),_2.translate(0,-.5,0)),this.position.copy(t),this.line=new Ko(O0,new Ai({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Pn(_2,new ia({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(i,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{L5.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(L5,t)}}setLength(e,t=e*.2,i=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(i,t,i),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class nB extends gs{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new Tt;r.setAttribute("position",new Ke(t,3)),r.setAttribute("color",new Ke(i,3));const s=new Ai({vertexColors:!0,toneMapped:!1});super(r,s),this.type="AxesHelper"}setColors(e,t,i){const r=new ke,s=this.geometry.attributes.color.array;return r.set(e),r.toArray(s,0),r.toArray(s,3),r.set(t),r.toArray(s,6),r.toArray(s,9),r.set(i),r.toArray(s,12),r.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class iB{constructor(){this.type="ShapePath",this.color=new ke,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new Lm,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,i,r){return this.currentPath.quadraticCurveTo(e,t,i,r),this}bezierCurveTo(e,t,i,r,s,o){return this.currentPath.bezierCurveTo(e,t,i,r,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(g){const x=[];for(let M=0,E=g.length;M<E;M++){const C=g[M],P=new Ja;P.curves=C.curves,x.push(P)}return x}function i(g,x){const M=x.length;let E=!1;for(let C=M-1,P=0;P<M;C=P++){let I=x[C],L=x[P],R=L.x-I.x,A=L.y-I.y;if(Math.abs(A)>Number.EPSILON){if(A<0&&(I=x[P],R=-R,L=x[C],A=-A),g.y<I.y||g.y>L.y)continue;if(g.y===I.y){if(g.x===I.x)return!0}else{const k=A*(g.x-I.x)-R*(g.y-I.y);if(k===0)return!0;if(k<0)continue;E=!E}}else{if(g.y!==I.y)continue;if(L.x<=g.x&&g.x<=I.x||I.x<=g.x&&g.x<=L.x)return!0}}return E}const r=Vr.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,a,l;const h=[];if(s.length===1)return a=s[0],l=new Ja,l.curves=a.curves,h.push(l),h;let f=!r(s[0].getPoints());f=e?!f:f;const d=[],p=[];let m=[],y=0,w;p[y]=void 0,m[y]=[];for(let g=0,x=s.length;g<x;g++)a=s[g],w=a.getPoints(),o=r(w),o=e?!o:o,o?(!f&&p[y]&&y++,p[y]={s:new Ja,p:w},p[y].s.curves=a.curves,f&&y++,m[y]=[]):m[y].push({h:a,p:w[0]});if(!p[0])return t(s);if(p.length>1){let g=!1,x=0;for(let M=0,E=p.length;M<E;M++)d[M]=[];for(let M=0,E=p.length;M<E;M++){const C=m[M];for(let P=0;P<C.length;P++){const I=C[P];let L=!0;for(let R=0;R<p.length;R++)i(I.p,p[R].p)&&(M!==R&&x++,L?(L=!1,d[R].push(I)):g=!0);L&&d[M].push(I)}}x>0&&g===!1&&(m=d)}let S;for(let g=0,x=p.length;g<x;g++){l=p[g].s,h.push(l),S=m[g];for(let M=0,E=S.length;M<E;M++)l.holes.push(S[M].h)}return h}}class rB extends ms{constructor(e,t=null){super(),this.object=e,this.domElement=t,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(e){if(e===void 0){console.warn("THREE.Controls: connect() now requires an element.");return}this.domElement!==null&&this.disconnect(),this.domElement=e}disconnect(){}dispose(){}update(){}}function sB(n,e){const t=n.image&&n.image.width?n.image.width/n.image.height:1;return t>e?(n.repeat.x=1,n.repeat.y=t/e,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2):(n.repeat.x=e/t,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0),n}function oB(n,e){const t=n.image&&n.image.width?n.image.width/n.image.height:1;return t>e?(n.repeat.x=e/t,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0):(n.repeat.x=1,n.repeat.y=t/e,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2),n}function aB(n){return n.repeat.x=1,n.repeat.y=1,n.offset.x=0,n.offset.y=0,n}function cx(n,e,t,i){const r=lB(i);switch(t){case O3:return n*e;case m1:return n*e/r.components*r.byteLength;case Sf:return n*e/r.components*r.byteLength;case z3:return n*e*2/r.components*r.byteLength;case g1:return n*e*2/r.components*r.byteLength;case F3:return n*e*3/r.components*r.byteLength;case ui:return n*e*4/r.components*r.byteLength;case v1:return n*e*4/r.components*r.byteLength;case gh:case vh:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case yh:case xh:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case im:case sm:return Math.max(n,16)*Math.max(e,8)/4;case nm:case rm:return Math.max(n,8)*Math.max(e,8)/2;case om:case am:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case lm:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case cm:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case um:return Math.floor((n+4)/5)*Math.floor((e+3)/4)*16;case hm:return Math.floor((n+4)/5)*Math.floor((e+4)/5)*16;case fm:return Math.floor((n+5)/6)*Math.floor((e+4)/5)*16;case dm:return Math.floor((n+5)/6)*Math.floor((e+5)/6)*16;case pm:return Math.floor((n+7)/8)*Math.floor((e+4)/5)*16;case mm:return Math.floor((n+7)/8)*Math.floor((e+5)/6)*16;case gm:return Math.floor((n+7)/8)*Math.floor((e+7)/8)*16;case vm:return Math.floor((n+9)/10)*Math.floor((e+4)/5)*16;case ym:return Math.floor((n+9)/10)*Math.floor((e+5)/6)*16;case xm:return Math.floor((n+9)/10)*Math.floor((e+7)/8)*16;case _m:return Math.floor((n+9)/10)*Math.floor((e+9)/10)*16;case Sm:return Math.floor((n+11)/12)*Math.floor((e+9)/10)*16;case Mm:return Math.floor((n+11)/12)*Math.floor((e+11)/12)*16;case _h:case wm:case Em:return Math.ceil(n/4)*Math.ceil(e/4)*16;case B3:case Tm:return Math.ceil(n/4)*Math.ceil(e/4)*8;case Am:case bm:return Math.ceil(n/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${t} format.`)}function lB(n){switch(n){case br:case D3:return{byteLength:1,components:1};case zc:case U3:case eu:return{byteLength:2,components:1};case d1:case p1:return{byteLength:2,components:4};case $s:case f1:case zi:return{byteLength:4,components:1};case k3:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${n}.`)}class cB{static contain(e,t){return sB(e,t)}static cover(e,t){return oB(e,t)}static fill(e){return aB(e)}static getByteLength(e,t,i,r){return cx(e,t,i,r)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:c1}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=c1);/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function vC(){let n=null,e=!1,t=null,i=null;function r(s,o){t(s,o),i=n.requestAnimationFrame(r)}return{start:function(){e!==!0&&t!==null&&(i=n.requestAnimationFrame(r),e=!0)},stop:function(){n.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function uB(n){const e=new WeakMap;function t(a,l){const h=a.array,f=a.usage,d=h.byteLength,p=n.createBuffer();n.bindBuffer(l,p),n.bufferData(l,h,f),a.onUploadCallback();let m;if(h instanceof Float32Array)m=n.FLOAT;else if(h instanceof Uint16Array)a.isFloat16BufferAttribute?m=n.HALF_FLOAT:m=n.UNSIGNED_SHORT;else if(h instanceof Int16Array)m=n.SHORT;else if(h instanceof Uint32Array)m=n.UNSIGNED_INT;else if(h instanceof Int32Array)m=n.INT;else if(h instanceof Int8Array)m=n.BYTE;else if(h instanceof Uint8Array)m=n.UNSIGNED_BYTE;else if(h instanceof Uint8ClampedArray)m=n.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+h);return{buffer:p,type:m,bytesPerElement:h.BYTES_PER_ELEMENT,version:a.version,size:d}}function i(a,l,h){const f=l.array,d=l.updateRanges;if(n.bindBuffer(h,a),d.length===0)n.bufferSubData(h,0,f);else{d.sort((m,y)=>m.start-y.start);let p=0;for(let m=1;m<d.length;m++){const y=d[p],w=d[m];w.start<=y.start+y.count+1?y.count=Math.max(y.count,w.start+w.count-y.start):(++p,d[p]=w)}d.length=p+1;for(let m=0,y=d.length;m<y;m++){const w=d[m];n.bufferSubData(h,w.start*f.BYTES_PER_ELEMENT,f,w.start,w.count)}l.clearUpdateRanges()}l.onUploadCallback()}function r(a){return a.isInterleavedBufferAttribute&&(a=a.data),e.get(a)}function s(a){a.isInterleavedBufferAttribute&&(a=a.data);const l=e.get(a);l&&(n.deleteBuffer(l.buffer),e.delete(a))}function o(a,l){if(a.isInterleavedBufferAttribute&&(a=a.data),a.isGLBufferAttribute){const f=e.get(a);(!f||f.version<a.version)&&e.set(a,{buffer:a.buffer,type:a.type,bytesPerElement:a.elementSize,version:a.version});return}const h=e.get(a);if(h===void 0)e.set(a,t(a,l));else if(h.version<a.version){if(h.size!==a.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");i(h.buffer,a,l),h.version=a.version}}return{get:r,remove:s,update:o}}var hB=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,fB=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,dB=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,pB=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,mB=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,gB=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,vB=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,yB=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,xB=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,_B=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,SB=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,MB=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,wB=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,EB=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,TB=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,AB=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,bB=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,CB=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,PB=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,RB=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,IB=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,LB=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,NB=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,DB=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,UB=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,kB=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,OB=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,FB=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,zB=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,BB=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,VB="gl_FragColor = linearToOutputTexel( gl_FragColor );",HB=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,GB=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,WB=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,jB=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,XB=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,qB=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,YB=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,ZB=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,KB=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,$B=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,JB=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,QB=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,eV=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,tV=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,nV=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,iV=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,rV=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,sV=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,oV=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,aV=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,lV=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,cV=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,uV=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,hV=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,fV=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,dV=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,pV=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,mV=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,gV=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,vV=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,yV=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,xV=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,_V=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,SV=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,MV=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,wV=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,EV=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,TV=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,AV=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,bV=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,CV=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,PV=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,RV=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,IV=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,LV=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,NV=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,DV=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,UV=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,kV=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,OV=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,FV=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,zV=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,BV=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,VV=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,HV=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,GV=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,WV=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,jV=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,XV=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,qV=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,YV=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,ZV=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,KV=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,$V=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,JV=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,QV=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,eH=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,tH=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,nH=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,iH=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,rH=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,sH=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,oH=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,aH=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,lH=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,cH=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const uH=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,hH=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,fH=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,dH=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,pH=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,mH=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,gH=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,vH=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,yH=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,xH=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,_H=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,SH=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,MH=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,wH=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,EH=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,TH=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,AH=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,bH=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,CH=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,PH=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,RH=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,IH=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,LH=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,NH=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,DH=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,UH=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,kH=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,OH=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,FH=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,zH=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,BH=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,VH=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,HH=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,GH=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,At={alphahash_fragment:hB,alphahash_pars_fragment:fB,alphamap_fragment:dB,alphamap_pars_fragment:pB,alphatest_fragment:mB,alphatest_pars_fragment:gB,aomap_fragment:vB,aomap_pars_fragment:yB,batching_pars_vertex:xB,batching_vertex:_B,begin_vertex:SB,beginnormal_vertex:MB,bsdfs:wB,iridescence_fragment:EB,bumpmap_pars_fragment:TB,clipping_planes_fragment:AB,clipping_planes_pars_fragment:bB,clipping_planes_pars_vertex:CB,clipping_planes_vertex:PB,color_fragment:RB,color_pars_fragment:IB,color_pars_vertex:LB,color_vertex:NB,common:DB,cube_uv_reflection_fragment:UB,defaultnormal_vertex:kB,displacementmap_pars_vertex:OB,displacementmap_vertex:FB,emissivemap_fragment:zB,emissivemap_pars_fragment:BB,colorspace_fragment:VB,colorspace_pars_fragment:HB,envmap_fragment:GB,envmap_common_pars_fragment:WB,envmap_pars_fragment:jB,envmap_pars_vertex:XB,envmap_physical_pars_fragment:iV,envmap_vertex:qB,fog_vertex:YB,fog_pars_vertex:ZB,fog_fragment:KB,fog_pars_fragment:$B,gradientmap_pars_fragment:JB,lightmap_pars_fragment:QB,lights_lambert_fragment:eV,lights_lambert_pars_fragment:tV,lights_pars_begin:nV,lights_toon_fragment:rV,lights_toon_pars_fragment:sV,lights_phong_fragment:oV,lights_phong_pars_fragment:aV,lights_physical_fragment:lV,lights_physical_pars_fragment:cV,lights_fragment_begin:uV,lights_fragment_maps:hV,lights_fragment_end:fV,logdepthbuf_fragment:dV,logdepthbuf_pars_fragment:pV,logdepthbuf_pars_vertex:mV,logdepthbuf_vertex:gV,map_fragment:vV,map_pars_fragment:yV,map_particle_fragment:xV,map_particle_pars_fragment:_V,metalnessmap_fragment:SV,metalnessmap_pars_fragment:MV,morphinstance_vertex:wV,morphcolor_vertex:EV,morphnormal_vertex:TV,morphtarget_pars_vertex:AV,morphtarget_vertex:bV,normal_fragment_begin:CV,normal_fragment_maps:PV,normal_pars_fragment:RV,normal_pars_vertex:IV,normal_vertex:LV,normalmap_pars_fragment:NV,clearcoat_normal_fragment_begin:DV,clearcoat_normal_fragment_maps:UV,clearcoat_pars_fragment:kV,iridescence_pars_fragment:OV,opaque_fragment:FV,packing:zV,premultiplied_alpha_fragment:BV,project_vertex:VV,dithering_fragment:HV,dithering_pars_fragment:GV,roughnessmap_fragment:WV,roughnessmap_pars_fragment:jV,shadowmap_pars_fragment:XV,shadowmap_pars_vertex:qV,shadowmap_vertex:YV,shadowmask_pars_fragment:ZV,skinbase_vertex:KV,skinning_pars_vertex:$V,skinning_vertex:JV,skinnormal_vertex:QV,specularmap_fragment:eH,specularmap_pars_fragment:tH,tonemapping_fragment:nH,tonemapping_pars_fragment:iH,transmission_fragment:rH,transmission_pars_fragment:sH,uv_pars_fragment:oH,uv_pars_vertex:aH,uv_vertex:lH,worldpos_vertex:cH,background_vert:uH,background_frag:hH,backgroundCube_vert:fH,backgroundCube_frag:dH,cube_vert:pH,cube_frag:mH,depth_vert:gH,depth_frag:vH,distanceRGBA_vert:yH,distanceRGBA_frag:xH,equirect_vert:_H,equirect_frag:SH,linedashed_vert:MH,linedashed_frag:wH,meshbasic_vert:EH,meshbasic_frag:TH,meshlambert_vert:AH,meshlambert_frag:bH,meshmatcap_vert:CH,meshmatcap_frag:PH,meshnormal_vert:RH,meshnormal_frag:IH,meshphong_vert:LH,meshphong_frag:NH,meshphysical_vert:DH,meshphysical_frag:UH,meshtoon_vert:kH,meshtoon_frag:OH,points_vert:FH,points_frag:zH,shadow_vert:BH,shadow_frag:VH,sprite_vert:HH,sprite_frag:GH},Fe={common:{diffuse:{value:new ke(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Mt},alphaMap:{value:null},alphaMapTransform:{value:new Mt},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Mt}},envmap:{envMap:{value:null},envMapRotation:{value:new Mt},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Mt}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Mt}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Mt},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Mt},normalScale:{value:new ge(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Mt},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Mt}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Mt}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Mt}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new ke(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new ke(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Mt},alphaTest:{value:0},uvTransform:{value:new Mt}},sprite:{diffuse:{value:new ke(16777215)},opacity:{value:1},center:{value:new ge(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Mt},alphaMap:{value:null},alphaMapTransform:{value:new Mt},alphaTest:{value:0}}},zr={basic:{uniforms:yi([Fe.common,Fe.specularmap,Fe.envmap,Fe.aomap,Fe.lightmap,Fe.fog]),vertexShader:At.meshbasic_vert,fragmentShader:At.meshbasic_frag},lambert:{uniforms:yi([Fe.common,Fe.specularmap,Fe.envmap,Fe.aomap,Fe.lightmap,Fe.emissivemap,Fe.bumpmap,Fe.normalmap,Fe.displacementmap,Fe.fog,Fe.lights,{emissive:{value:new ke(0)}}]),vertexShader:At.meshlambert_vert,fragmentShader:At.meshlambert_frag},phong:{uniforms:yi([Fe.common,Fe.specularmap,Fe.envmap,Fe.aomap,Fe.lightmap,Fe.emissivemap,Fe.bumpmap,Fe.normalmap,Fe.displacementmap,Fe.fog,Fe.lights,{emissive:{value:new ke(0)},specular:{value:new ke(1118481)},shininess:{value:30}}]),vertexShader:At.meshphong_vert,fragmentShader:At.meshphong_frag},standard:{uniforms:yi([Fe.common,Fe.envmap,Fe.aomap,Fe.lightmap,Fe.emissivemap,Fe.bumpmap,Fe.normalmap,Fe.displacementmap,Fe.roughnessmap,Fe.metalnessmap,Fe.fog,Fe.lights,{emissive:{value:new ke(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:At.meshphysical_vert,fragmentShader:At.meshphysical_frag},toon:{uniforms:yi([Fe.common,Fe.aomap,Fe.lightmap,Fe.emissivemap,Fe.bumpmap,Fe.normalmap,Fe.displacementmap,Fe.gradientmap,Fe.fog,Fe.lights,{emissive:{value:new ke(0)}}]),vertexShader:At.meshtoon_vert,fragmentShader:At.meshtoon_frag},matcap:{uniforms:yi([Fe.common,Fe.bumpmap,Fe.normalmap,Fe.displacementmap,Fe.fog,{matcap:{value:null}}]),vertexShader:At.meshmatcap_vert,fragmentShader:At.meshmatcap_frag},points:{uniforms:yi([Fe.points,Fe.fog]),vertexShader:At.points_vert,fragmentShader:At.points_frag},dashed:{uniforms:yi([Fe.common,Fe.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:At.linedashed_vert,fragmentShader:At.linedashed_frag},depth:{uniforms:yi([Fe.common,Fe.displacementmap]),vertexShader:At.depth_vert,fragmentShader:At.depth_frag},normal:{uniforms:yi([Fe.common,Fe.bumpmap,Fe.normalmap,Fe.displacementmap,{opacity:{value:1}}]),vertexShader:At.meshnormal_vert,fragmentShader:At.meshnormal_frag},sprite:{uniforms:yi([Fe.sprite,Fe.fog]),vertexShader:At.sprite_vert,fragmentShader:At.sprite_frag},background:{uniforms:{uvTransform:{value:new Mt},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:At.background_vert,fragmentShader:At.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new Mt}},vertexShader:At.backgroundCube_vert,fragmentShader:At.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:At.cube_vert,fragmentShader:At.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:At.equirect_vert,fragmentShader:At.equirect_frag},distanceRGBA:{uniforms:yi([Fe.common,Fe.displacementmap,{referencePosition:{value:new B},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:At.distanceRGBA_vert,fragmentShader:At.distanceRGBA_frag},shadow:{uniforms:yi([Fe.lights,Fe.fog,{color:{value:new ke(0)},opacity:{value:1}}]),vertexShader:At.shadow_vert,fragmentShader:At.shadow_frag}};zr.physical={uniforms:yi([zr.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Mt},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Mt},clearcoatNormalScale:{value:new ge(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Mt},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Mt},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Mt},sheen:{value:0},sheenColor:{value:new ke(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Mt},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Mt},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Mt},transmissionSamplerSize:{value:new ge},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Mt},attenuationDistance:{value:0},attenuationColor:{value:new ke(0)},specularColor:{value:new ke(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Mt},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Mt},anisotropyVector:{value:new ge},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Mt}}]),vertexShader:At.meshphysical_vert,fragmentShader:At.meshphysical_frag};const F0={r:0,b:0,g:0},Ca=new sr,WH=new gt;function jH(n,e,t,i,r,s,o){const a=new ke(0);let l=s===!0?0:1,h,f,d=null,p=0,m=null;function y(M){let E=M.isScene===!0?M.background:null;return E&&E.isTexture&&(E=(M.backgroundBlurriness>0?t:e).get(E)),E}function w(M){let E=!1;const C=y(M);C===null?g(a,l):C&&C.isColor&&(g(C,1),E=!0);const P=n.xr.getEnvironmentBlendMode();P==="additive"?i.buffers.color.setClear(0,0,0,1,o):P==="alpha-blend"&&i.buffers.color.setClear(0,0,0,0,o),(n.autoClear||E)&&(i.buffers.depth.setTest(!0),i.buffers.depth.setMask(!0),i.buffers.color.setMask(!0),n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil))}function S(M,E){const C=y(E);C&&(C.isCubeTexture||C.mapping===Qc)?(f===void 0&&(f=new Pn(new pl(1,1,1),new jr({name:"BackgroundCubeMaterial",uniforms:Wc(zr.backgroundCube.uniforms),vertexShader:zr.backgroundCube.vertexShader,fragmentShader:zr.backgroundCube.fragmentShader,side:wi,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),f.geometry.deleteAttribute("normal"),f.geometry.deleteAttribute("uv"),f.onBeforeRender=function(P,I,L){this.matrixWorld.copyPosition(L.matrixWorld)},Object.defineProperty(f.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(f)),Ca.copy(E.backgroundRotation),Ca.x*=-1,Ca.y*=-1,Ca.z*=-1,C.isCubeTexture&&C.isRenderTargetTexture===!1&&(Ca.y*=-1,Ca.z*=-1),f.material.uniforms.envMap.value=C,f.material.uniforms.flipEnvMap.value=C.isCubeTexture&&C.isRenderTargetTexture===!1?-1:1,f.material.uniforms.backgroundBlurriness.value=E.backgroundBlurriness,f.material.uniforms.backgroundIntensity.value=E.backgroundIntensity,f.material.uniforms.backgroundRotation.value.setFromMatrix4(WH.makeRotationFromEuler(Ca)),f.material.toneMapped=Ft.getTransfer(C.colorSpace)!==qt,(d!==C||p!==C.version||m!==n.toneMapping)&&(f.material.needsUpdate=!0,d=C,p=C.version,m=n.toneMapping),f.layers.enableAll(),M.unshift(f,f.geometry,f.material,0,0,null)):C&&C.isTexture&&(h===void 0&&(h=new Pn(new nu(2,2),new jr({name:"BackgroundMaterial",uniforms:Wc(zr.background.uniforms),vertexShader:zr.background.vertexShader,fragmentShader:zr.background.fragmentShader,side:Zs,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),h.geometry.deleteAttribute("normal"),Object.defineProperty(h.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(h)),h.material.uniforms.t2D.value=C,h.material.uniforms.backgroundIntensity.value=E.backgroundIntensity,h.material.toneMapped=Ft.getTransfer(C.colorSpace)!==qt,C.matrixAutoUpdate===!0&&C.updateMatrix(),h.material.uniforms.uvTransform.value.copy(C.matrix),(d!==C||p!==C.version||m!==n.toneMapping)&&(h.material.needsUpdate=!0,d=C,p=C.version,m=n.toneMapping),h.layers.enableAll(),M.unshift(h,h.geometry,h.material,0,0,null))}function g(M,E){M.getRGB(F0,g8(n)),i.buffers.color.setClear(F0.r,F0.g,F0.b,E,o)}function x(){f!==void 0&&(f.geometry.dispose(),f.material.dispose(),f=void 0),h!==void 0&&(h.geometry.dispose(),h.material.dispose(),h=void 0)}return{getClearColor:function(){return a},setClearColor:function(M,E=1){a.set(M),l=E,g(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(M){l=M,g(a,l)},render:w,addToRenderList:S,dispose:x}}function XH(n,e){const t=n.getParameter(n.MAX_VERTEX_ATTRIBS),i={},r=p(null);let s=r,o=!1;function a(A,k,X,q,ne){let se=!1;const te=d(q,X,k);s!==te&&(s=te,h(s.object)),se=m(A,q,X,ne),se&&y(A,q,X,ne),ne!==null&&e.update(ne,n.ELEMENT_ARRAY_BUFFER),(se||o)&&(o=!1,E(A,k,X,q),ne!==null&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,e.get(ne).buffer))}function l(){return n.createVertexArray()}function h(A){return n.bindVertexArray(A)}function f(A){return n.deleteVertexArray(A)}function d(A,k,X){const q=X.wireframe===!0;let ne=i[A.id];ne===void 0&&(ne={},i[A.id]=ne);let se=ne[k.id];se===void 0&&(se={},ne[k.id]=se);let te=se[q];return te===void 0&&(te=p(l()),se[q]=te),te}function p(A){const k=[],X=[],q=[];for(let ne=0;ne<t;ne++)k[ne]=0,X[ne]=0,q[ne]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:k,enabledAttributes:X,attributeDivisors:q,object:A,attributes:{},index:null}}function m(A,k,X,q){const ne=s.attributes,se=k.attributes;let te=0;const le=X.getAttributes();for(const U in le)if(le[U].location>=0){const H=ne[U];let Z=se[U];if(Z===void 0&&(U==="instanceMatrix"&&A.instanceMatrix&&(Z=A.instanceMatrix),U==="instanceColor"&&A.instanceColor&&(Z=A.instanceColor)),H===void 0||H.attribute!==Z||Z&&H.data!==Z.data)return!0;te++}return s.attributesNum!==te||s.index!==q}function y(A,k,X,q){const ne={},se=k.attributes;let te=0;const le=X.getAttributes();for(const U in le)if(le[U].location>=0){let H=se[U];H===void 0&&(U==="instanceMatrix"&&A.instanceMatrix&&(H=A.instanceMatrix),U==="instanceColor"&&A.instanceColor&&(H=A.instanceColor));const Z={};Z.attribute=H,H&&H.data&&(Z.data=H.data),ne[U]=Z,te++}s.attributes=ne,s.attributesNum=te,s.index=q}function w(){const A=s.newAttributes;for(let k=0,X=A.length;k<X;k++)A[k]=0}function S(A){g(A,0)}function g(A,k){const X=s.newAttributes,q=s.enabledAttributes,ne=s.attributeDivisors;X[A]=1,q[A]===0&&(n.enableVertexAttribArray(A),q[A]=1),ne[A]!==k&&(n.vertexAttribDivisor(A,k),ne[A]=k)}function x(){const A=s.newAttributes,k=s.enabledAttributes;for(let X=0,q=k.length;X<q;X++)k[X]!==A[X]&&(n.disableVertexAttribArray(X),k[X]=0)}function M(A,k,X,q,ne,se,te){te===!0?n.vertexAttribIPointer(A,k,X,ne,se):n.vertexAttribPointer(A,k,X,q,ne,se)}function E(A,k,X,q){w();const ne=q.attributes,se=X.getAttributes(),te=k.defaultAttributeValues;for(const le in se){const U=se[le];if(U.location>=0){let W=ne[le];if(W===void 0&&(le==="instanceMatrix"&&A.instanceMatrix&&(W=A.instanceMatrix),le==="instanceColor"&&A.instanceColor&&(W=A.instanceColor)),W!==void 0){const H=W.normalized,Z=W.itemSize,de=e.get(W);if(de===void 0)continue;const Te=de.buffer,ie=de.type,_e=de.bytesPerElement,we=ie===n.INT||ie===n.UNSIGNED_INT||W.gpuType===f1;if(W.isInterleavedBufferAttribute){const Ae=W.data,tt=Ae.stride,dt=W.offset;if(Ae.isInstancedInterleavedBuffer){for(let $e=0;$e<U.locationSize;$e++)g(U.location+$e,Ae.meshPerAttribute);A.isInstancedMesh!==!0&&q._maxInstanceCount===void 0&&(q._maxInstanceCount=Ae.meshPerAttribute*Ae.count)}else for(let $e=0;$e<U.locationSize;$e++)S(U.location+$e);n.bindBuffer(n.ARRAY_BUFFER,Te);for(let $e=0;$e<U.locationSize;$e++)M(U.location+$e,Z/U.locationSize,ie,H,tt*_e,(dt+Z/U.locationSize*$e)*_e,we)}else{if(W.isInstancedBufferAttribute){for(let Ae=0;Ae<U.locationSize;Ae++)g(U.location+Ae,W.meshPerAttribute);A.isInstancedMesh!==!0&&q._maxInstanceCount===void 0&&(q._maxInstanceCount=W.meshPerAttribute*W.count)}else for(let Ae=0;Ae<U.locationSize;Ae++)S(U.location+Ae);n.bindBuffer(n.ARRAY_BUFFER,Te);for(let Ae=0;Ae<U.locationSize;Ae++)M(U.location+Ae,Z/U.locationSize,ie,H,Z*_e,Z/U.locationSize*Ae*_e,we)}}else if(te!==void 0){const H=te[le];if(H!==void 0)switch(H.length){case 2:n.vertexAttrib2fv(U.location,H);break;case 3:n.vertexAttrib3fv(U.location,H);break;case 4:n.vertexAttrib4fv(U.location,H);break;default:n.vertexAttrib1fv(U.location,H)}}}}x()}function C(){L();for(const A in i){const k=i[A];for(const X in k){const q=k[X];for(const ne in q)f(q[ne].object),delete q[ne];delete k[X]}delete i[A]}}function P(A){if(i[A.id]===void 0)return;const k=i[A.id];for(const X in k){const q=k[X];for(const ne in q)f(q[ne].object),delete q[ne];delete k[X]}delete i[A.id]}function I(A){for(const k in i){const X=i[k];if(X[A.id]===void 0)continue;const q=X[A.id];for(const ne in q)f(q[ne].object),delete q[ne];delete X[A.id]}}function L(){R(),o=!0,s!==r&&(s=r,h(s.object))}function R(){r.geometry=null,r.program=null,r.wireframe=!1}return{setup:a,reset:L,resetDefaultState:R,dispose:C,releaseStatesOfGeometry:P,releaseStatesOfProgram:I,initAttributes:w,enableAttribute:S,disableUnusedAttributes:x}}function qH(n,e,t){let i;function r(h){i=h}function s(h,f){n.drawArrays(i,h,f),t.update(f,i,1)}function o(h,f,d){d!==0&&(n.drawArraysInstanced(i,h,f,d),t.update(f,i,d))}function a(h,f,d){if(d===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(i,h,0,f,0,d);let m=0;for(let y=0;y<d;y++)m+=f[y];t.update(m,i,1)}function l(h,f,d,p){if(d===0)return;const m=e.get("WEBGL_multi_draw");if(m===null)for(let y=0;y<h.length;y++)o(h[y],f[y],p[y]);else{m.multiDrawArraysInstancedWEBGL(i,h,0,f,0,p,0,d);let y=0;for(let w=0;w<d;w++)y+=f[w]*p[w];t.update(y,i,1)}}this.setMode=r,this.render=s,this.renderInstances=o,this.renderMultiDraw=a,this.renderMultiDrawInstances=l}function YH(n,e,t,i){let r;function s(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const I=e.get("EXT_texture_filter_anisotropic");r=n.getParameter(I.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function o(I){return!(I!==ui&&i.convert(I)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_FORMAT))}function a(I){const L=I===eu&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(I!==br&&i.convert(I)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_TYPE)&&I!==zi&&!L)}function l(I){if(I==="highp"){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";I="mediump"}return I==="mediump"&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let h=t.precision!==void 0?t.precision:"highp";const f=l(h);f!==h&&(console.warn("THREE.WebGLRenderer:",h,"not supported, using",f,"instead."),h=f);const d=t.logarithmicDepthBuffer===!0,p=t.reverseDepthBuffer===!0&&e.has("EXT_clip_control"),m=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),y=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),w=n.getParameter(n.MAX_TEXTURE_SIZE),S=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),g=n.getParameter(n.MAX_VERTEX_ATTRIBS),x=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),M=n.getParameter(n.MAX_VARYING_VECTORS),E=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),C=y>0,P=n.getParameter(n.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:s,getMaxPrecision:l,textureFormatReadable:o,textureTypeReadable:a,precision:h,logarithmicDepthBuffer:d,reverseDepthBuffer:p,maxTextures:m,maxVertexTextures:y,maxTextureSize:w,maxCubemapSize:S,maxAttributes:g,maxVertexUniforms:x,maxVaryings:M,maxFragmentUniforms:E,vertexTextures:C,maxSamples:P}}function ZH(n){const e=this;let t=null,i=0,r=!1,s=!1;const o=new Ls,a=new Mt,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(d,p){const m=d.length!==0||p||i!==0||r;return r=p,i=d.length,m},this.beginShadows=function(){s=!0,f(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(d,p){t=f(d,p,0)},this.setState=function(d,p,m){const y=d.clippingPlanes,w=d.clipIntersection,S=d.clipShadows,g=n.get(d);if(!r||y===null||y.length===0||s&&!S)s?f(null):h();else{const x=s?0:i,M=x*4;let E=g.clippingState||null;l.value=E,E=f(y,p,M,m);for(let C=0;C!==M;++C)E[C]=t[C];g.clippingState=E,this.numIntersection=w?this.numPlanes:0,this.numPlanes+=x}};function h(){l.value!==t&&(l.value=t,l.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function f(d,p,m,y){const w=d!==null?d.length:0;let S=null;if(w!==0){if(S=l.value,y!==!0||S===null){const g=m+w*4,x=p.matrixWorldInverse;a.getNormalMatrix(x),(S===null||S.length<g)&&(S=new Float32Array(g));for(let M=0,E=m;M!==w;++M,E+=4)o.copy(d[M]).applyMatrix4(x,a),o.normal.toArray(S,E),S[E+3]=o.constant}l.value=S,l.needsUpdate=!0}return e.numPlanes=w,e.numIntersection=0,S}}function KH(n){let e=new WeakMap;function t(o,a){return a===Xh?o.mapping=Ks:a===qh&&(o.mapping=Zo),o}function i(o){if(o&&o.isTexture){const a=o.mapping;if(a===Xh||a===qh)if(e.has(o)){const l=e.get(o).texture;return t(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const h=new x8(l.height);return h.fromEquirectangularTexture(n,o),e.set(o,h),o.addEventListener("dispose",r),t(h.texture,o.mapping)}else return null}}return o}function r(o){const a=o.target;a.removeEventListener("dispose",r);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:i,dispose:s}}const _c=4,N5=[.125,.215,.35,.446,.526,.582],za=20,S2=new Wo,D5=new ke;let M2=null,w2=0,E2=0,T2=!1;const Fa=(1+Math.sqrt(5))/2,Kl=1/Fa,U5=[new B(-Fa,Kl,0),new B(Fa,Kl,0),new B(-Kl,0,Fa),new B(Kl,0,Fa),new B(0,Fa,-Kl),new B(0,Fa,Kl),new B(-1,1,-1),new B(1,1,-1),new B(-1,1,1),new B(1,1,1)],$H=new B;class ux{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,i=.1,r=100,s={}){const{size:o=256,position:a=$H}=s;M2=this._renderer.getRenderTarget(),w2=this._renderer.getActiveCubeFace(),E2=this._renderer.getActiveMipmapLevel(),T2=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(o);const l=this._allocateTargets();return l.depthBuffer=!0,this._sceneToCubeUV(e,i,r,l,a),t>0&&this._blur(l,0,0,t),this._applyPMREM(l),this._cleanup(l),l}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=F5(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=O5(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(M2,w2,E2),this._renderer.xr.enabled=T2,e.scissorTest=!1,z0(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===Ks||e.mapping===Zo?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),M2=this._renderer.getRenderTarget(),w2=this._renderer.getActiveCubeFace(),E2=this._renderer.getActiveMipmapLevel(),T2=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const i=t||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,i={magFilter:Dn,minFilter:Dn,generateMipmaps:!1,type:eu,format:ui,colorSpace:sl,depthBuffer:!1},r=k5(e,t,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=k5(e,t,i);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=JH(s)),this._blurMaterial=QH(s,e,t)}return r}_compileMaterial(e){const t=new Pn(this._lodPlanes[0],e);this._renderer.compile(t,S2)}_sceneToCubeUV(e,t,i,r,s){const l=new Mn(90,1,t,i),h=[1,-1,1,1,1,1],f=[1,1,1,-1,-1,-1],d=this._renderer,p=d.autoClear,m=d.toneMapping;d.getClearColor(D5),d.toneMapping=fs,d.autoClear=!1;const y=new ia({name:"PMREM.Background",side:wi,depthWrite:!1,depthTest:!1}),w=new Pn(new pl,y);let S=!1;const g=e.background;g?g.isColor&&(y.color.copy(g),e.background=null,S=!0):(y.color.copy(D5),S=!0);for(let x=0;x<6;x++){const M=x%3;M===0?(l.up.set(0,h[x],0),l.position.set(s.x,s.y,s.z),l.lookAt(s.x+f[x],s.y,s.z)):M===1?(l.up.set(0,0,h[x]),l.position.set(s.x,s.y,s.z),l.lookAt(s.x,s.y+f[x],s.z)):(l.up.set(0,h[x],0),l.position.set(s.x,s.y,s.z),l.lookAt(s.x,s.y,s.z+f[x]));const E=this._cubeSize;z0(r,M*E,x>2?E:0,E,E),d.setRenderTarget(r),S&&d.render(w,l),d.render(e,l)}w.geometry.dispose(),w.material.dispose(),d.toneMapping=m,d.autoClear=p,e.background=g}_textureToCubeUV(e,t){const i=this._renderer,r=e.mapping===Ks||e.mapping===Zo;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=F5()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=O5());const s=r?this._cubemapMaterial:this._equirectMaterial,o=new Pn(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;z0(t,0,0,3*l,2*l),i.setRenderTarget(t),i.render(o,S2)}_applyPMREM(e){const t=this._renderer,i=t.autoClear;t.autoClear=!1;const r=this._lodPlanes.length;for(let s=1;s<r;s++){const o=Math.sqrt(this._sigmas[s]*this._sigmas[s]-this._sigmas[s-1]*this._sigmas[s-1]),a=U5[(r-s-1)%U5.length];this._blur(e,s-1,s,o,a)}t.autoClear=i}_blur(e,t,i,r,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,i,r,"latitudinal",s),this._halfBlur(o,e,i,i,r,"longitudinal",s)}_halfBlur(e,t,i,r,s,o,a){const l=this._renderer,h=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const f=3,d=new Pn(this._lodPlanes[r],h),p=h.uniforms,m=this._sizeLods[i]-1,y=isFinite(s)?Math.PI/(2*m):2*Math.PI/(2*za-1),w=s/y,S=isFinite(s)?1+Math.floor(f*w):za;S>za&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${S} samples when the maximum is set to ${za}`);const g=[];let x=0;for(let I=0;I<za;++I){const L=I/w,R=Math.exp(-L*L/2);g.push(R),I===0?x+=R:I<S&&(x+=2*R)}for(let I=0;I<g.length;I++)g[I]=g[I]/x;p.envMap.value=e.texture,p.samples.value=S,p.weights.value=g,p.latitudinal.value=o==="latitudinal",a&&(p.poleAxis.value=a);const{_lodMax:M}=this;p.dTheta.value=y,p.mipInt.value=M-i;const E=this._sizeLods[r],C=3*E*(r>M-_c?r-M+_c:0),P=4*(this._cubeSize-E);z0(t,C,P,3*E,2*E),l.setRenderTarget(t),l.render(d,S2)}}function JH(n){const e=[],t=[],i=[];let r=n;const s=n-_c+1+N5.length;for(let o=0;o<s;o++){const a=Math.pow(2,r);t.push(a);let l=1/a;o>n-_c?l=N5[o-n+_c-1]:o===0&&(l=0),i.push(l);const h=1/(a-2),f=-h,d=1+h,p=[f,f,d,f,d,d,f,f,d,d,f,d],m=6,y=6,w=3,S=2,g=1,x=new Float32Array(w*y*m),M=new Float32Array(S*y*m),E=new Float32Array(g*y*m);for(let P=0;P<m;P++){const I=P%3*2/3-1,L=P>2?0:-1,R=[I,L,0,I+2/3,L,0,I+2/3,L+1,0,I,L,0,I+2/3,L+1,0,I,L+1,0];x.set(R,w*y*P),M.set(p,S*y*P);const A=[P,P,P,P,P,P];E.set(A,g*y*P)}const C=new Tt;C.setAttribute("position",new Zt(x,w)),C.setAttribute("uv",new Zt(M,S)),C.setAttribute("faceIndex",new Zt(E,g)),e.push(C),r>_c&&r--}return{lodPlanes:e,sizeLods:t,sigmas:i}}function k5(n,e,t){const i=new ps(n,e,t);return i.texture.mapping=Qc,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function z0(n,e,t,i,r){n.viewport.set(e,t,i,r),n.scissor.set(e,t,i,r)}function QH(n,e,t){const i=new Float32Array(za),r=new B(0,1,0);return new jr({name:"SphericalGaussianBlur",defines:{n:za,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:g_(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Hs,depthTest:!1,depthWrite:!1})}function O5(){return new jr({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:g_(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Hs,depthTest:!1,depthWrite:!1})}function F5(){return new jr({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:g_(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Hs,depthTest:!1,depthWrite:!1})}function g_(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function eG(n){let e=new WeakMap,t=null;function i(a){if(a&&a.isTexture){const l=a.mapping,h=l===Xh||l===qh,f=l===Ks||l===Zo;if(h||f){let d=e.get(a);const p=d!==void 0?d.texture.pmremVersion:0;if(a.isRenderTargetTexture&&a.pmremVersion!==p)return t===null&&(t=new ux(n)),d=h?t.fromEquirectangular(a,d):t.fromCubemap(a,d),d.texture.pmremVersion=a.pmremVersion,e.set(a,d),d.texture;if(d!==void 0)return d.texture;{const m=a.image;return h&&m&&m.height>0||f&&m&&r(m)?(t===null&&(t=new ux(n)),d=h?t.fromEquirectangular(a):t.fromCubemap(a),d.texture.pmremVersion=a.pmremVersion,e.set(a,d),a.addEventListener("dispose",s),d.texture):null}}}return a}function r(a){let l=0;const h=6;for(let f=0;f<h;f++)a[f]!==void 0&&l++;return l===h}function s(a){const l=a.target;l.removeEventListener("dispose",s);const h=e.get(l);h!==void 0&&(e.delete(l),h.dispose())}function o(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:i,dispose:o}}function tG(n){const e={};function t(i){if(e[i]!==void 0)return e[i];let r;switch(i){case"WEBGL_depth_texture":r=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=n.getExtension(i)}return e[i]=r,r}return{has:function(i){return t(i)!==null},init:function(){t("EXT_color_buffer_float"),t("WEBGL_clip_cull_distance"),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture"),t("WEBGL_render_shared_exponent")},get:function(i){const r=t(i);return r===null&&sp("THREE.WebGLRenderer: "+i+" extension not supported."),r}}}function nG(n,e,t,i){const r={},s=new WeakMap;function o(d){const p=d.target;p.index!==null&&e.remove(p.index);for(const y in p.attributes)e.remove(p.attributes[y]);p.removeEventListener("dispose",o),delete r[p.id];const m=s.get(p);m&&(e.remove(m),s.delete(p)),i.releaseStatesOfGeometry(p),p.isInstancedBufferGeometry===!0&&delete p._maxInstanceCount,t.memory.geometries--}function a(d,p){return r[p.id]===!0||(p.addEventListener("dispose",o),r[p.id]=!0,t.memory.geometries++),p}function l(d){const p=d.attributes;for(const m in p)e.update(p[m],n.ARRAY_BUFFER)}function h(d){const p=[],m=d.index,y=d.attributes.position;let w=0;if(m!==null){const x=m.array;w=m.version;for(let M=0,E=x.length;M<E;M+=3){const C=x[M+0],P=x[M+1],I=x[M+2];p.push(C,P,P,I,I,C)}}else if(y!==void 0){const x=y.array;w=y.version;for(let M=0,E=x.length/3-1;M<E;M+=3){const C=M+0,P=M+1,I=M+2;p.push(C,P,P,I,I,C)}}else return;const S=new(f8(p)?j3:W3)(p,1);S.version=w;const g=s.get(d);g&&e.remove(g),s.set(d,S)}function f(d){const p=s.get(d);if(p){const m=d.index;m!==null&&p.version<m.version&&h(d)}else h(d);return s.get(d)}return{get:a,update:l,getWireframeAttribute:f}}function iG(n,e,t){let i;function r(p){i=p}let s,o;function a(p){s=p.type,o=p.bytesPerElement}function l(p,m){n.drawElements(i,m,s,p*o),t.update(m,i,1)}function h(p,m,y){y!==0&&(n.drawElementsInstanced(i,m,s,p*o,y),t.update(m,i,y))}function f(p,m,y){if(y===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(i,m,0,s,p,0,y);let S=0;for(let g=0;g<y;g++)S+=m[g];t.update(S,i,1)}function d(p,m,y,w){if(y===0)return;const S=e.get("WEBGL_multi_draw");if(S===null)for(let g=0;g<p.length;g++)h(p[g]/o,m[g],w[g]);else{S.multiDrawElementsInstancedWEBGL(i,m,0,s,p,0,w,0,y);let g=0;for(let x=0;x<y;x++)g+=m[x]*w[x];t.update(g,i,1)}}this.setMode=r,this.setIndex=a,this.render=l,this.renderInstances=h,this.renderMultiDraw=f,this.renderMultiDrawInstances=d}function rG(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function i(s,o,a){switch(t.calls++,o){case n.TRIANGLES:t.triangles+=a*(s/3);break;case n.LINES:t.lines+=a*(s/2);break;case n.LINE_STRIP:t.lines+=a*(s-1);break;case n.LINE_LOOP:t.lines+=a*s;break;case n.POINTS:t.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function r(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:r,update:i}}function sG(n,e,t){const i=new WeakMap,r=new Bt;function s(o,a,l){const h=o.morphTargetInfluences,f=a.morphAttributes.position||a.morphAttributes.normal||a.morphAttributes.color,d=f!==void 0?f.length:0;let p=i.get(a);if(p===void 0||p.count!==d){let A=function(){L.dispose(),i.delete(a),a.removeEventListener("dispose",A)};var m=A;p!==void 0&&p.texture.dispose();const y=a.morphAttributes.position!==void 0,w=a.morphAttributes.normal!==void 0,S=a.morphAttributes.color!==void 0,g=a.morphAttributes.position||[],x=a.morphAttributes.normal||[],M=a.morphAttributes.color||[];let E=0;y===!0&&(E=1),w===!0&&(E=2),S===!0&&(E=3);let C=a.attributes.position.count*E,P=1;C>e.maxTextureSize&&(P=Math.ceil(C/e.maxTextureSize),C=e.maxTextureSize);const I=new Float32Array(C*P*4*d),L=new Mf(I,C,P,d);L.type=zi,L.needsUpdate=!0;const R=E*4;for(let k=0;k<d;k++){const X=g[k],q=x[k],ne=M[k],se=C*P*4*k;for(let te=0;te<X.count;te++){const le=te*R;y===!0&&(r.fromBufferAttribute(X,te),I[se+le+0]=r.x,I[se+le+1]=r.y,I[se+le+2]=r.z,I[se+le+3]=0),w===!0&&(r.fromBufferAttribute(q,te),I[se+le+4]=r.x,I[se+le+5]=r.y,I[se+le+6]=r.z,I[se+le+7]=0),S===!0&&(r.fromBufferAttribute(ne,te),I[se+le+8]=r.x,I[se+le+9]=r.y,I[se+le+10]=r.z,I[se+le+11]=ne.itemSize===4?r.w:1)}}p={count:d,texture:L,size:new ge(C,P)},i.set(a,p),a.addEventListener("dispose",A)}if(o.isInstancedMesh===!0&&o.morphTexture!==null)l.getUniforms().setValue(n,"morphTexture",o.morphTexture,t);else{let y=0;for(let S=0;S<h.length;S++)y+=h[S];const w=a.morphTargetsRelative?1:1-y;l.getUniforms().setValue(n,"morphTargetBaseInfluence",w),l.getUniforms().setValue(n,"morphTargetInfluences",h)}l.getUniforms().setValue(n,"morphTargetsTexture",p.texture,t),l.getUniforms().setValue(n,"morphTargetsTextureSize",p.size)}return{update:s}}function oG(n,e,t,i){let r=new WeakMap;function s(l){const h=i.render.frame,f=l.geometry,d=e.get(l,f);if(r.get(d)!==h&&(e.update(d),r.set(d,h)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),r.get(l)!==h&&(t.update(l.instanceMatrix,n.ARRAY_BUFFER),l.instanceColor!==null&&t.update(l.instanceColor,n.ARRAY_BUFFER),r.set(l,h))),l.isSkinnedMesh){const p=l.skeleton;r.get(p)!==h&&(p.update(),r.set(p,h))}return d}function o(){r=new WeakMap}function a(l){const h=l.target;h.removeEventListener("dispose",a),t.remove(h.instanceMatrix),h.instanceColor!==null&&t.remove(h.instanceColor)}return{update:s,dispose:o}}const yC=new yn,z5=new b1(1,1),xC=new Mf,_C=new _1,SC=new Ef,B5=[],V5=[],H5=new Float32Array(16),G5=new Float32Array(9),W5=new Float32Array(4);function iu(n,e,t){const i=n[0];if(i<=0||i>0)return n;const r=e*t;let s=B5[r];if(s===void 0&&(s=new Float32Array(r),B5[r]=s),e!==0){i.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=t,n[o].toArray(s,a)}return s}function Un(n,e){if(n.length!==e.length)return!1;for(let t=0,i=n.length;t<i;t++)if(n[t]!==e[t])return!1;return!0}function kn(n,e){for(let t=0,i=e.length;t<i;t++)n[t]=e[t]}function H1(n,e){let t=V5[e];t===void 0&&(t=new Int32Array(e),V5[e]=t);for(let i=0;i!==e;++i)t[i]=n.allocateTextureUnit();return t}function aG(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function lG(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Un(t,e))return;n.uniform2fv(this.addr,e),kn(t,e)}}function cG(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(Un(t,e))return;n.uniform3fv(this.addr,e),kn(t,e)}}function uG(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Un(t,e))return;n.uniform4fv(this.addr,e),kn(t,e)}}function hG(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Un(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),kn(t,e)}else{if(Un(t,i))return;W5.set(i),n.uniformMatrix2fv(this.addr,!1,W5),kn(t,i)}}function fG(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Un(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),kn(t,e)}else{if(Un(t,i))return;G5.set(i),n.uniformMatrix3fv(this.addr,!1,G5),kn(t,i)}}function dG(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Un(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),kn(t,e)}else{if(Un(t,i))return;H5.set(i),n.uniformMatrix4fv(this.addr,!1,H5),kn(t,i)}}function pG(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function mG(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Un(t,e))return;n.uniform2iv(this.addr,e),kn(t,e)}}function gG(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Un(t,e))return;n.uniform3iv(this.addr,e),kn(t,e)}}function vG(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Un(t,e))return;n.uniform4iv(this.addr,e),kn(t,e)}}function yG(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function xG(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Un(t,e))return;n.uniform2uiv(this.addr,e),kn(t,e)}}function _G(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Un(t,e))return;n.uniform3uiv(this.addr,e),kn(t,e)}}function SG(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Un(t,e))return;n.uniform4uiv(this.addr,e),kn(t,e)}}function MG(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r);let s;this.type===n.SAMPLER_2D_SHADOW?(z5.compareFunction=H3,s=z5):s=yC,t.setTexture2D(e||s,r)}function wG(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture3D(e||_C,r)}function EG(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTextureCube(e||SC,r)}function TG(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2DArray(e||xC,r)}function AG(n){switch(n){case 5126:return aG;case 35664:return lG;case 35665:return cG;case 35666:return uG;case 35674:return hG;case 35675:return fG;case 35676:return dG;case 5124:case 35670:return pG;case 35667:case 35671:return mG;case 35668:case 35672:return gG;case 35669:case 35673:return vG;case 5125:return yG;case 36294:return xG;case 36295:return _G;case 36296:return SG;case 35678:case 36198:case 36298:case 36306:case 35682:return MG;case 35679:case 36299:case 36307:return wG;case 35680:case 36300:case 36308:case 36293:return EG;case 36289:case 36303:case 36311:case 36292:return TG}}function bG(n,e){n.uniform1fv(this.addr,e)}function CG(n,e){const t=iu(e,this.size,2);n.uniform2fv(this.addr,t)}function PG(n,e){const t=iu(e,this.size,3);n.uniform3fv(this.addr,t)}function RG(n,e){const t=iu(e,this.size,4);n.uniform4fv(this.addr,t)}function IG(n,e){const t=iu(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function LG(n,e){const t=iu(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function NG(n,e){const t=iu(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function DG(n,e){n.uniform1iv(this.addr,e)}function UG(n,e){n.uniform2iv(this.addr,e)}function kG(n,e){n.uniform3iv(this.addr,e)}function OG(n,e){n.uniform4iv(this.addr,e)}function FG(n,e){n.uniform1uiv(this.addr,e)}function zG(n,e){n.uniform2uiv(this.addr,e)}function BG(n,e){n.uniform3uiv(this.addr,e)}function VG(n,e){n.uniform4uiv(this.addr,e)}function HG(n,e,t){const i=this.cache,r=e.length,s=H1(t,r);Un(i,s)||(n.uniform1iv(this.addr,s),kn(i,s));for(let o=0;o!==r;++o)t.setTexture2D(e[o]||yC,s[o])}function GG(n,e,t){const i=this.cache,r=e.length,s=H1(t,r);Un(i,s)||(n.uniform1iv(this.addr,s),kn(i,s));for(let o=0;o!==r;++o)t.setTexture3D(e[o]||_C,s[o])}function WG(n,e,t){const i=this.cache,r=e.length,s=H1(t,r);Un(i,s)||(n.uniform1iv(this.addr,s),kn(i,s));for(let o=0;o!==r;++o)t.setTextureCube(e[o]||SC,s[o])}function jG(n,e,t){const i=this.cache,r=e.length,s=H1(t,r);Un(i,s)||(n.uniform1iv(this.addr,s),kn(i,s));for(let o=0;o!==r;++o)t.setTexture2DArray(e[o]||xC,s[o])}function XG(n){switch(n){case 5126:return bG;case 35664:return CG;case 35665:return PG;case 35666:return RG;case 35674:return IG;case 35675:return LG;case 35676:return NG;case 5124:case 35670:return DG;case 35667:case 35671:return UG;case 35668:case 35672:return kG;case 35669:case 35673:return OG;case 5125:return FG;case 36294:return zG;case 36295:return BG;case 36296:return VG;case 35678:case 36198:case 36298:case 36306:case 35682:return HG;case 35679:case 36299:case 36307:return GG;case 35680:case 36300:case 36308:case 36293:return WG;case 36289:case 36303:case 36311:case 36292:return jG}}class qG{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.type=t.type,this.setValue=AG(t.type)}}class YG{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=XG(t.type)}}class ZG{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,i){const r=this.seq;for(let s=0,o=r.length;s!==o;++s){const a=r[s];a.setValue(e,t[a.id],i)}}}const A2=/(\w+)(\])?(\[|\.)?/g;function j5(n,e){n.seq.push(e),n.map[e.id]=e}function KG(n,e,t){const i=n.name,r=i.length;for(A2.lastIndex=0;;){const s=A2.exec(i),o=A2.lastIndex;let a=s[1];const l=s[2]==="]",h=s[3];if(l&&(a=a|0),h===void 0||h==="["&&o+2===r){j5(t,h===void 0?new qG(a,n,e):new YG(a,n,e));break}else{let d=t.map[a];d===void 0&&(d=new ZG(a),j5(t,d)),t=d}}}class ap{constructor(e,t){this.seq=[],this.map={};const i=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let r=0;r<i;++r){const s=e.getActiveUniform(t,r),o=e.getUniformLocation(t,s.name);KG(s,o,this)}}setValue(e,t,i,r){const s=this.map[t];s!==void 0&&s.setValue(e,i,r)}setOptional(e,t,i){const r=t[i];r!==void 0&&this.setValue(e,i,r)}static upload(e,t,i,r){for(let s=0,o=t.length;s!==o;++s){const a=t[s],l=i[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,r)}}static seqWithValue(e,t){const i=[];for(let r=0,s=e.length;r!==s;++r){const o=e[r];o.id in t&&i.push(o)}return i}}function X5(n,e,t){const i=n.createShader(e);return n.shaderSource(i,t),n.compileShader(i),i}const $G=37297;let JG=0;function QG(n,e){const t=n.split(`
`),i=[],r=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let o=r;o<s;o++){const a=o+1;i.push(`${a===e?">":" "} ${a}: ${t[o]}`)}return i.join(`
`)}const q5=new Mt;function eW(n){Ft._getMatrix(q5,Ft.workingColorSpace,n);const e=`mat3( ${q5.elements.map(t=>t.toFixed(4))} )`;switch(Ft.getTransfer(n)){case Jh:return[e,"LinearTransferOETF"];case qt:return[e,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",n),[e,"LinearTransferOETF"]}}function Y5(n,e,t){const i=n.getShaderParameter(e,n.COMPILE_STATUS),r=n.getShaderInfoLog(e).trim();if(i&&r==="")return"";const s=/ERROR: 0:(\d+)/.exec(r);if(s){const o=parseInt(s[1]);return t.toUpperCase()+`

`+r+`

`+QG(n.getShaderSource(e),o)}else return r}function tW(n,e){const t=eW(e);return[`vec4 ${n}( vec4 value ) {`,`	return ${t[1]}( vec4( value.rgb * ${t[0]}, value.a ) );`,"}"].join(`
`)}function nW(n,e){let t;switch(e){case Xb:t="Linear";break;case qb:t="Reinhard";break;case Yb:t="Cineon";break;case L3:t="ACESFilmic";break;case Kb:t="AgX";break;case $b:t="Neutral";break;case Zb:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}const B0=new B;function iW(){Ft.getLuminanceCoefficients(B0);const n=B0.x.toFixed(4),e=B0.y.toFixed(4),t=B0.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${n}, ${e}, ${t} );`,"	return dot( weights, rgb );","}"].join(`
`)}function rW(n){return[n.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",n.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(eh).join(`
`)}function sW(n){const e=[];for(const t in n){const i=n[t];i!==!1&&e.push("#define "+t+" "+i)}return e.join(`
`)}function oW(n,e){const t={},i=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let r=0;r<i;r++){const s=n.getActiveAttrib(e,r),o=s.name;let a=1;s.type===n.FLOAT_MAT2&&(a=2),s.type===n.FLOAT_MAT3&&(a=3),s.type===n.FLOAT_MAT4&&(a=4),t[o]={type:s.type,location:n.getAttribLocation(e,o),locationSize:a}}return t}function eh(n){return n!==""}function Z5(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function K5(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const aW=/^[ \t]*#include +<([\w\d./]+)>/gm;function hx(n){return n.replace(aW,cW)}const lW=new Map;function cW(n,e){let t=At[e];if(t===void 0){const i=lW.get(e);if(i!==void 0)t=At[i],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,i);else throw new Error("Can not resolve #include <"+e+">")}return hx(t)}const uW=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function $5(n){return n.replace(uW,hW)}function hW(n,e,t,i){let r="";for(let s=parseInt(e);s<parseInt(t);s++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return r}function J5(n){let e=`precision ${n.precision} float;
	precision ${n.precision} int;
	precision ${n.precision} sampler2D;
	precision ${n.precision} samplerCube;
	precision ${n.precision} sampler3D;
	precision ${n.precision} sampler2DArray;
	precision ${n.precision} sampler2DShadow;
	precision ${n.precision} samplerCubeShadow;
	precision ${n.precision} sampler2DArrayShadow;
	precision ${n.precision} isampler2D;
	precision ${n.precision} isampler3D;
	precision ${n.precision} isamplerCube;
	precision ${n.precision} isampler2DArray;
	precision ${n.precision} usampler2D;
	precision ${n.precision} usampler3D;
	precision ${n.precision} usamplerCube;
	precision ${n.precision} usampler2DArray;
	`;return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function fW(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===u1?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===ph?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===kr&&(e="SHADOWMAP_TYPE_VSM"),e}function dW(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case Ks:case Zo:e="ENVMAP_TYPE_CUBE";break;case Qc:e="ENVMAP_TYPE_CUBE_UV";break}return e}function pW(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case Zo:e="ENVMAP_MODE_REFRACTION";break}return e}function mW(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case _f:e="ENVMAP_BLENDING_MULTIPLY";break;case Wb:e="ENVMAP_BLENDING_MIX";break;case jb:e="ENVMAP_BLENDING_ADD";break}return e}function gW(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:i,maxMip:t}}function vW(n,e,t,i){const r=n.getContext(),s=t.defines;let o=t.vertexShader,a=t.fragmentShader;const l=fW(t),h=dW(t),f=pW(t),d=mW(t),p=gW(t),m=rW(t),y=sW(s),w=r.createProgram();let S,g,x=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(S=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,y].filter(eh).join(`
`),S.length>0&&(S+=`
`),g=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,y].filter(eh).join(`
`),g.length>0&&(g+=`
`)):(S=[J5(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,y,t.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",t.batching?"#define USE_BATCHING":"",t.batchingColor?"#define USE_BATCHING_COLOR":"",t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.instancingMorph?"#define USE_INSTANCING_MORPH":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+f:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(eh).join(`
`),g=[J5(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,y,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+h:"",t.envMap?"#define "+f:"",t.envMap?"#define "+d:"",p?"#define CUBEUV_TEXEL_WIDTH "+p.texelWidth:"",p?"#define CUBEUV_TEXEL_HEIGHT "+p.texelHeight:"",p?"#define CUBEUV_MAX_MIP "+p.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.dispersion?"#define USE_DISPERSION":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor||t.batchingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==fs?"#define TONE_MAPPING":"",t.toneMapping!==fs?At.tonemapping_pars_fragment:"",t.toneMapping!==fs?nW("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",At.colorspace_pars_fragment,tW("linearToOutputTexel",t.outputColorSpace),iW(),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(eh).join(`
`)),o=hx(o),o=Z5(o,t),o=K5(o,t),a=hx(a),a=Z5(a,t),a=K5(a,t),o=$5(o),a=$5(a),t.isRawShaderMaterial!==!0&&(x=`#version 300 es
`,S=[m,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+S,g=["#define varying in",t.glslVersion===tx?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===tx?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+g);const M=x+S+o,E=x+g+a,C=X5(r,r.VERTEX_SHADER,M),P=X5(r,r.FRAGMENT_SHADER,E);r.attachShader(w,C),r.attachShader(w,P),t.index0AttributeName!==void 0?r.bindAttribLocation(w,0,t.index0AttributeName):t.morphTargets===!0&&r.bindAttribLocation(w,0,"position"),r.linkProgram(w);function I(k){if(n.debug.checkShaderErrors){const X=r.getProgramInfoLog(w).trim(),q=r.getShaderInfoLog(C).trim(),ne=r.getShaderInfoLog(P).trim();let se=!0,te=!0;if(r.getProgramParameter(w,r.LINK_STATUS)===!1)if(se=!1,typeof n.debug.onShaderError=="function")n.debug.onShaderError(r,w,C,P);else{const le=Y5(r,C,"vertex"),U=Y5(r,P,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(w,r.VALIDATE_STATUS)+`

Material Name: `+k.name+`
Material Type: `+k.type+`

Program Info Log: `+X+`
`+le+`
`+U)}else X!==""?console.warn("THREE.WebGLProgram: Program Info Log:",X):(q===""||ne==="")&&(te=!1);te&&(k.diagnostics={runnable:se,programLog:X,vertexShader:{log:q,prefix:S},fragmentShader:{log:ne,prefix:g}})}r.deleteShader(C),r.deleteShader(P),L=new ap(r,w),R=oW(r,w)}let L;this.getUniforms=function(){return L===void 0&&I(this),L};let R;this.getAttributes=function(){return R===void 0&&I(this),R};let A=t.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return A===!1&&(A=r.getProgramParameter(w,$G)),A},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(w),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=JG++,this.cacheKey=e,this.usedTimes=1,this.program=w,this.vertexShader=C,this.fragmentShader=P,this}let yW=0;class xW{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,i=e.fragmentShader,r=this._getShaderStage(t),s=this._getShaderStage(i),o=this._getShaderCacheForMaterial(e);return o.has(r)===!1&&(o.add(r),r.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const i of t)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let i=t.get(e);return i===void 0&&(i=new Set,t.set(e,i)),i}_getShaderStage(e){const t=this.shaderCache;let i=t.get(e);return i===void 0&&(i=new _W(e),t.set(e,i)),i}}class _W{constructor(e){this.id=yW++,this.code=e,this.usedTimes=0}}function SW(n,e,t,i,r,s,o){const a=new $a,l=new xW,h=new Set,f=[],d=r.logarithmicDepthBuffer,p=r.vertexTextures;let m=r.precision;const y={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function w(R){return h.add(R),R===0?"uv":`uv${R}`}function S(R,A,k,X,q){const ne=X.fog,se=q.geometry,te=R.isMeshStandardMaterial?X.environment:null,le=(R.isMeshStandardMaterial?t:e).get(R.envMap||te),U=le&&le.mapping===Qc?le.image.height:null,W=y[R.type];R.precision!==null&&(m=r.getMaxPrecision(R.precision),m!==R.precision&&console.warn("THREE.WebGLProgram.getParameters:",R.precision,"not supported, using",m,"instead."));const H=se.morphAttributes.position||se.morphAttributes.normal||se.morphAttributes.color,Z=H!==void 0?H.length:0;let de=0;se.morphAttributes.position!==void 0&&(de=1),se.morphAttributes.normal!==void 0&&(de=2),se.morphAttributes.color!==void 0&&(de=3);let Te,ie,_e,we;if(W){const It=zr[W];Te=It.vertexShader,ie=It.fragmentShader}else Te=R.vertexShader,ie=R.fragmentShader,l.update(R),_e=l.getVertexShaderID(R),we=l.getFragmentShaderID(R);const Ae=n.getRenderTarget(),tt=n.state.buffers.depth.getReversed(),dt=q.isInstancedMesh===!0,$e=q.isBatchedMesh===!0,vt=!!R.map,wt=!!R.matcap,Qe=!!le,z=!!R.aoMap,Le=!!R.lightMap,Se=!!R.bumpMap,Ce=!!R.normalMap,ye=!!R.displacementMap,Je=!!R.emissiveMap,Me=!!R.metalnessMap,F=!!R.roughnessMap,D=R.anisotropy>0,ee=R.clearcoat>0,ue=R.dispersion>0,xe=R.iridescence>0,fe=R.sheen>0,Ye=R.transmission>0,Ne=D&&!!R.anisotropyMap,st=ee&&!!R.clearcoatMap,ct=ee&&!!R.clearcoatNormalMap,Ee=ee&&!!R.clearcoatRoughnessMap,Ge=xe&&!!R.iridescenceMap,at=xe&&!!R.iridescenceThicknessMap,pt=fe&&!!R.sheenColorMap,We=fe&&!!R.sheenRoughnessMap,Y=!!R.specularMap,me=!!R.specularColorMap,ze=!!R.specularIntensityMap,j=Ye&&!!R.transmissionMap,Re=Ye&&!!R.thicknessMap,ce=!!R.gradientMap,ve=!!R.alphaMap,Ve=R.alphaTest>0,Ue=!!R.alphaHash,lt=!!R.extensions;let Ot=fs;R.toneMapped&&(Ae===null||Ae.isXRRenderTarget===!0)&&(Ot=n.toneMapping);const en={shaderID:W,shaderType:R.type,shaderName:R.name,vertexShader:Te,fragmentShader:ie,defines:R.defines,customVertexShaderID:_e,customFragmentShaderID:we,isRawShaderMaterial:R.isRawShaderMaterial===!0,glslVersion:R.glslVersion,precision:m,batching:$e,batchingColor:$e&&q._colorsTexture!==null,instancing:dt,instancingColor:dt&&q.instanceColor!==null,instancingMorph:dt&&q.morphTexture!==null,supportsVertexTextures:p,outputColorSpace:Ae===null?n.outputColorSpace:Ae.isXRRenderTarget===!0?Ae.texture.colorSpace:sl,alphaToCoverage:!!R.alphaToCoverage,map:vt,matcap:wt,envMap:Qe,envMapMode:Qe&&le.mapping,envMapCubeUVHeight:U,aoMap:z,lightMap:Le,bumpMap:Se,normalMap:Ce,displacementMap:p&&ye,emissiveMap:Je,normalMapObjectSpace:Ce&&R.normalMapType===r8,normalMapTangentSpace:Ce&&R.normalMapType===na,metalnessMap:Me,roughnessMap:F,anisotropy:D,anisotropyMap:Ne,clearcoat:ee,clearcoatMap:st,clearcoatNormalMap:ct,clearcoatRoughnessMap:Ee,dispersion:ue,iridescence:xe,iridescenceMap:Ge,iridescenceThicknessMap:at,sheen:fe,sheenColorMap:pt,sheenRoughnessMap:We,specularMap:Y,specularColorMap:me,specularIntensityMap:ze,transmission:Ye,transmissionMap:j,thicknessMap:Re,gradientMap:ce,opaque:R.transparent===!1&&R.blending===Za&&R.alphaToCoverage===!1,alphaMap:ve,alphaTest:Ve,alphaHash:Ue,combine:R.combine,mapUv:vt&&w(R.map.channel),aoMapUv:z&&w(R.aoMap.channel),lightMapUv:Le&&w(R.lightMap.channel),bumpMapUv:Se&&w(R.bumpMap.channel),normalMapUv:Ce&&w(R.normalMap.channel),displacementMapUv:ye&&w(R.displacementMap.channel),emissiveMapUv:Je&&w(R.emissiveMap.channel),metalnessMapUv:Me&&w(R.metalnessMap.channel),roughnessMapUv:F&&w(R.roughnessMap.channel),anisotropyMapUv:Ne&&w(R.anisotropyMap.channel),clearcoatMapUv:st&&w(R.clearcoatMap.channel),clearcoatNormalMapUv:ct&&w(R.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Ee&&w(R.clearcoatRoughnessMap.channel),iridescenceMapUv:Ge&&w(R.iridescenceMap.channel),iridescenceThicknessMapUv:at&&w(R.iridescenceThicknessMap.channel),sheenColorMapUv:pt&&w(R.sheenColorMap.channel),sheenRoughnessMapUv:We&&w(R.sheenRoughnessMap.channel),specularMapUv:Y&&w(R.specularMap.channel),specularColorMapUv:me&&w(R.specularColorMap.channel),specularIntensityMapUv:ze&&w(R.specularIntensityMap.channel),transmissionMapUv:j&&w(R.transmissionMap.channel),thicknessMapUv:Re&&w(R.thicknessMap.channel),alphaMapUv:ve&&w(R.alphaMap.channel),vertexTangents:!!se.attributes.tangent&&(Ce||D),vertexColors:R.vertexColors,vertexAlphas:R.vertexColors===!0&&!!se.attributes.color&&se.attributes.color.itemSize===4,pointsUvs:q.isPoints===!0&&!!se.attributes.uv&&(vt||ve),fog:!!ne,useFog:R.fog===!0,fogExp2:!!ne&&ne.isFogExp2,flatShading:R.flatShading===!0,sizeAttenuation:R.sizeAttenuation===!0,logarithmicDepthBuffer:d,reverseDepthBuffer:tt,skinning:q.isSkinnedMesh===!0,morphTargets:se.morphAttributes.position!==void 0,morphNormals:se.morphAttributes.normal!==void 0,morphColors:se.morphAttributes.color!==void 0,morphTargetsCount:Z,morphTextureStride:de,numDirLights:A.directional.length,numPointLights:A.point.length,numSpotLights:A.spot.length,numSpotLightMaps:A.spotLightMap.length,numRectAreaLights:A.rectArea.length,numHemiLights:A.hemi.length,numDirLightShadows:A.directionalShadowMap.length,numPointLightShadows:A.pointShadowMap.length,numSpotLightShadows:A.spotShadowMap.length,numSpotLightShadowsWithMaps:A.numSpotLightShadowsWithMaps,numLightProbes:A.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:R.dithering,shadowMapEnabled:n.shadowMap.enabled&&k.length>0,shadowMapType:n.shadowMap.type,toneMapping:Ot,decodeVideoTexture:vt&&R.map.isVideoTexture===!0&&Ft.getTransfer(R.map.colorSpace)===qt,decodeVideoTextureEmissive:Je&&R.emissiveMap.isVideoTexture===!0&&Ft.getTransfer(R.emissiveMap.colorSpace)===qt,premultipliedAlpha:R.premultipliedAlpha,doubleSided:R.side===as,flipSided:R.side===wi,useDepthPacking:R.depthPacking>=0,depthPacking:R.depthPacking||0,index0AttributeName:R.index0AttributeName,extensionClipCullDistance:lt&&R.extensions.clipCullDistance===!0&&i.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(lt&&R.extensions.multiDraw===!0||$e)&&i.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:i.has("KHR_parallel_shader_compile"),customProgramCacheKey:R.customProgramCacheKey()};return en.vertexUv1s=h.has(1),en.vertexUv2s=h.has(2),en.vertexUv3s=h.has(3),h.clear(),en}function g(R){const A=[];if(R.shaderID?A.push(R.shaderID):(A.push(R.customVertexShaderID),A.push(R.customFragmentShaderID)),R.defines!==void 0)for(const k in R.defines)A.push(k),A.push(R.defines[k]);return R.isRawShaderMaterial===!1&&(x(A,R),M(A,R),A.push(n.outputColorSpace)),A.push(R.customProgramCacheKey),A.join()}function x(R,A){R.push(A.precision),R.push(A.outputColorSpace),R.push(A.envMapMode),R.push(A.envMapCubeUVHeight),R.push(A.mapUv),R.push(A.alphaMapUv),R.push(A.lightMapUv),R.push(A.aoMapUv),R.push(A.bumpMapUv),R.push(A.normalMapUv),R.push(A.displacementMapUv),R.push(A.emissiveMapUv),R.push(A.metalnessMapUv),R.push(A.roughnessMapUv),R.push(A.anisotropyMapUv),R.push(A.clearcoatMapUv),R.push(A.clearcoatNormalMapUv),R.push(A.clearcoatRoughnessMapUv),R.push(A.iridescenceMapUv),R.push(A.iridescenceThicknessMapUv),R.push(A.sheenColorMapUv),R.push(A.sheenRoughnessMapUv),R.push(A.specularMapUv),R.push(A.specularColorMapUv),R.push(A.specularIntensityMapUv),R.push(A.transmissionMapUv),R.push(A.thicknessMapUv),R.push(A.combine),R.push(A.fogExp2),R.push(A.sizeAttenuation),R.push(A.morphTargetsCount),R.push(A.morphAttributeCount),R.push(A.numDirLights),R.push(A.numPointLights),R.push(A.numSpotLights),R.push(A.numSpotLightMaps),R.push(A.numHemiLights),R.push(A.numRectAreaLights),R.push(A.numDirLightShadows),R.push(A.numPointLightShadows),R.push(A.numSpotLightShadows),R.push(A.numSpotLightShadowsWithMaps),R.push(A.numLightProbes),R.push(A.shadowMapType),R.push(A.toneMapping),R.push(A.numClippingPlanes),R.push(A.numClipIntersection),R.push(A.depthPacking)}function M(R,A){a.disableAll(),A.supportsVertexTextures&&a.enable(0),A.instancing&&a.enable(1),A.instancingColor&&a.enable(2),A.instancingMorph&&a.enable(3),A.matcap&&a.enable(4),A.envMap&&a.enable(5),A.normalMapObjectSpace&&a.enable(6),A.normalMapTangentSpace&&a.enable(7),A.clearcoat&&a.enable(8),A.iridescence&&a.enable(9),A.alphaTest&&a.enable(10),A.vertexColors&&a.enable(11),A.vertexAlphas&&a.enable(12),A.vertexUv1s&&a.enable(13),A.vertexUv2s&&a.enable(14),A.vertexUv3s&&a.enable(15),A.vertexTangents&&a.enable(16),A.anisotropy&&a.enable(17),A.alphaHash&&a.enable(18),A.batching&&a.enable(19),A.dispersion&&a.enable(20),A.batchingColor&&a.enable(21),R.push(a.mask),a.disableAll(),A.fog&&a.enable(0),A.useFog&&a.enable(1),A.flatShading&&a.enable(2),A.logarithmicDepthBuffer&&a.enable(3),A.reverseDepthBuffer&&a.enable(4),A.skinning&&a.enable(5),A.morphTargets&&a.enable(6),A.morphNormals&&a.enable(7),A.morphColors&&a.enable(8),A.premultipliedAlpha&&a.enable(9),A.shadowMapEnabled&&a.enable(10),A.doubleSided&&a.enable(11),A.flipSided&&a.enable(12),A.useDepthPacking&&a.enable(13),A.dithering&&a.enable(14),A.transmission&&a.enable(15),A.sheen&&a.enable(16),A.opaque&&a.enable(17),A.pointsUvs&&a.enable(18),A.decodeVideoTexture&&a.enable(19),A.decodeVideoTextureEmissive&&a.enable(20),A.alphaToCoverage&&a.enable(21),R.push(a.mask)}function E(R){const A=y[R.type];let k;if(A){const X=zr[A];k=v8.clone(X.uniforms)}else k=R.uniforms;return k}function C(R,A){let k;for(let X=0,q=f.length;X<q;X++){const ne=f[X];if(ne.cacheKey===A){k=ne,++k.usedTimes;break}}return k===void 0&&(k=new vW(n,A,R,s),f.push(k)),k}function P(R){if(--R.usedTimes===0){const A=f.indexOf(R);f[A]=f[f.length-1],f.pop(),R.destroy()}}function I(R){l.remove(R)}function L(){l.dispose()}return{getParameters:S,getProgramCacheKey:g,getUniforms:E,acquireProgram:C,releaseProgram:P,releaseShaderCache:I,programs:f,dispose:L}}function MW(){let n=new WeakMap;function e(o){return n.has(o)}function t(o){let a=n.get(o);return a===void 0&&(a={},n.set(o,a)),a}function i(o){n.delete(o)}function r(o,a,l){n.get(o)[a]=l}function s(){n=new WeakMap}return{has:e,get:t,remove:i,update:r,dispose:s}}function wW(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function Q5(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function e6(){const n=[];let e=0;const t=[],i=[],r=[];function s(){e=0,t.length=0,i.length=0,r.length=0}function o(d,p,m,y,w,S){let g=n[e];return g===void 0?(g={id:d.id,object:d,geometry:p,material:m,groupOrder:y,renderOrder:d.renderOrder,z:w,group:S},n[e]=g):(g.id=d.id,g.object=d,g.geometry=p,g.material=m,g.groupOrder=y,g.renderOrder=d.renderOrder,g.z=w,g.group=S),e++,g}function a(d,p,m,y,w,S){const g=o(d,p,m,y,w,S);m.transmission>0?i.push(g):m.transparent===!0?r.push(g):t.push(g)}function l(d,p,m,y,w,S){const g=o(d,p,m,y,w,S);m.transmission>0?i.unshift(g):m.transparent===!0?r.unshift(g):t.unshift(g)}function h(d,p){t.length>1&&t.sort(d||wW),i.length>1&&i.sort(p||Q5),r.length>1&&r.sort(p||Q5)}function f(){for(let d=e,p=n.length;d<p;d++){const m=n[d];if(m.id===null)break;m.id=null,m.object=null,m.geometry=null,m.material=null,m.group=null}}return{opaque:t,transmissive:i,transparent:r,init:s,push:a,unshift:l,finish:f,sort:h}}function EW(){let n=new WeakMap;function e(i,r){const s=n.get(i);let o;return s===void 0?(o=new e6,n.set(i,[o])):r>=s.length?(o=new e6,s.push(o)):o=s[r],o}function t(){n=new WeakMap}return{get:e,dispose:t}}function TW(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new B,color:new ke};break;case"SpotLight":t={position:new B,direction:new B,color:new ke,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new B,color:new ke,distance:0,decay:0};break;case"HemisphereLight":t={direction:new B,skyColor:new ke,groundColor:new ke};break;case"RectAreaLight":t={color:new ke,position:new B,halfWidth:new B,halfHeight:new B};break}return n[e.id]=t,t}}}function AW(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ge};break;case"SpotLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ge};break;case"PointLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ge,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let bW=0;function CW(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function PW(n){const e=new TW,t=AW(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let h=0;h<9;h++)i.probe.push(new B);const r=new B,s=new gt,o=new gt;function a(h){let f=0,d=0,p=0;for(let R=0;R<9;R++)i.probe[R].set(0,0,0);let m=0,y=0,w=0,S=0,g=0,x=0,M=0,E=0,C=0,P=0,I=0;h.sort(CW);for(let R=0,A=h.length;R<A;R++){const k=h[R],X=k.color,q=k.intensity,ne=k.distance,se=k.shadow&&k.shadow.map?k.shadow.map.texture:null;if(k.isAmbientLight)f+=X.r*q,d+=X.g*q,p+=X.b*q;else if(k.isLightProbe){for(let te=0;te<9;te++)i.probe[te].addScaledVector(k.sh.coefficients[te],q);I++}else if(k.isDirectionalLight){const te=e.get(k);if(te.color.copy(k.color).multiplyScalar(k.intensity),k.castShadow){const le=k.shadow,U=t.get(k);U.shadowIntensity=le.intensity,U.shadowBias=le.bias,U.shadowNormalBias=le.normalBias,U.shadowRadius=le.radius,U.shadowMapSize=le.mapSize,i.directionalShadow[m]=U,i.directionalShadowMap[m]=se,i.directionalShadowMatrix[m]=k.shadow.matrix,x++}i.directional[m]=te,m++}else if(k.isSpotLight){const te=e.get(k);te.position.setFromMatrixPosition(k.matrixWorld),te.color.copy(X).multiplyScalar(q),te.distance=ne,te.coneCos=Math.cos(k.angle),te.penumbraCos=Math.cos(k.angle*(1-k.penumbra)),te.decay=k.decay,i.spot[w]=te;const le=k.shadow;if(k.map&&(i.spotLightMap[C]=k.map,C++,le.updateMatrices(k),k.castShadow&&P++),i.spotLightMatrix[w]=le.matrix,k.castShadow){const U=t.get(k);U.shadowIntensity=le.intensity,U.shadowBias=le.bias,U.shadowNormalBias=le.normalBias,U.shadowRadius=le.radius,U.shadowMapSize=le.mapSize,i.spotShadow[w]=U,i.spotShadowMap[w]=se,E++}w++}else if(k.isRectAreaLight){const te=e.get(k);te.color.copy(X).multiplyScalar(q),te.halfWidth.set(k.width*.5,0,0),te.halfHeight.set(0,k.height*.5,0),i.rectArea[S]=te,S++}else if(k.isPointLight){const te=e.get(k);if(te.color.copy(k.color).multiplyScalar(k.intensity),te.distance=k.distance,te.decay=k.decay,k.castShadow){const le=k.shadow,U=t.get(k);U.shadowIntensity=le.intensity,U.shadowBias=le.bias,U.shadowNormalBias=le.normalBias,U.shadowRadius=le.radius,U.shadowMapSize=le.mapSize,U.shadowCameraNear=le.camera.near,U.shadowCameraFar=le.camera.far,i.pointShadow[y]=U,i.pointShadowMap[y]=se,i.pointShadowMatrix[y]=k.shadow.matrix,M++}i.point[y]=te,y++}else if(k.isHemisphereLight){const te=e.get(k);te.skyColor.copy(k.color).multiplyScalar(q),te.groundColor.copy(k.groundColor).multiplyScalar(q),i.hemi[g]=te,g++}}S>0&&(n.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=Fe.LTC_FLOAT_1,i.rectAreaLTC2=Fe.LTC_FLOAT_2):(i.rectAreaLTC1=Fe.LTC_HALF_1,i.rectAreaLTC2=Fe.LTC_HALF_2)),i.ambient[0]=f,i.ambient[1]=d,i.ambient[2]=p;const L=i.hash;(L.directionalLength!==m||L.pointLength!==y||L.spotLength!==w||L.rectAreaLength!==S||L.hemiLength!==g||L.numDirectionalShadows!==x||L.numPointShadows!==M||L.numSpotShadows!==E||L.numSpotMaps!==C||L.numLightProbes!==I)&&(i.directional.length=m,i.spot.length=w,i.rectArea.length=S,i.point.length=y,i.hemi.length=g,i.directionalShadow.length=x,i.directionalShadowMap.length=x,i.pointShadow.length=M,i.pointShadowMap.length=M,i.spotShadow.length=E,i.spotShadowMap.length=E,i.directionalShadowMatrix.length=x,i.pointShadowMatrix.length=M,i.spotLightMatrix.length=E+C-P,i.spotLightMap.length=C,i.numSpotLightShadowsWithMaps=P,i.numLightProbes=I,L.directionalLength=m,L.pointLength=y,L.spotLength=w,L.rectAreaLength=S,L.hemiLength=g,L.numDirectionalShadows=x,L.numPointShadows=M,L.numSpotShadows=E,L.numSpotMaps=C,L.numLightProbes=I,i.version=bW++)}function l(h,f){let d=0,p=0,m=0,y=0,w=0;const S=f.matrixWorldInverse;for(let g=0,x=h.length;g<x;g++){const M=h[g];if(M.isDirectionalLight){const E=i.directional[d];E.direction.setFromMatrixPosition(M.matrixWorld),r.setFromMatrixPosition(M.target.matrixWorld),E.direction.sub(r),E.direction.transformDirection(S),d++}else if(M.isSpotLight){const E=i.spot[m];E.position.setFromMatrixPosition(M.matrixWorld),E.position.applyMatrix4(S),E.direction.setFromMatrixPosition(M.matrixWorld),r.setFromMatrixPosition(M.target.matrixWorld),E.direction.sub(r),E.direction.transformDirection(S),m++}else if(M.isRectAreaLight){const E=i.rectArea[y];E.position.setFromMatrixPosition(M.matrixWorld),E.position.applyMatrix4(S),o.identity(),s.copy(M.matrixWorld),s.premultiply(S),o.extractRotation(s),E.halfWidth.set(M.width*.5,0,0),E.halfHeight.set(0,M.height*.5,0),E.halfWidth.applyMatrix4(o),E.halfHeight.applyMatrix4(o),y++}else if(M.isPointLight){const E=i.point[p];E.position.setFromMatrixPosition(M.matrixWorld),E.position.applyMatrix4(S),p++}else if(M.isHemisphereLight){const E=i.hemi[w];E.direction.setFromMatrixPosition(M.matrixWorld),E.direction.transformDirection(S),w++}}}return{setup:a,setupView:l,state:i}}function t6(n){const e=new PW(n),t=[],i=[];function r(f){h.camera=f,t.length=0,i.length=0}function s(f){t.push(f)}function o(f){i.push(f)}function a(){e.setup(t)}function l(f){e.setupView(t,f)}const h={lightsArray:t,shadowsArray:i,camera:null,lights:e,transmissionRenderTarget:{}};return{init:r,state:h,setupLights:a,setupLightsView:l,pushLight:s,pushShadow:o}}function RW(n){let e=new WeakMap;function t(r,s=0){const o=e.get(r);let a;return o===void 0?(a=new t6(n),e.set(r,[a])):s>=o.length?(a=new t6(n),o.push(a)):a=o[s],a}function i(){e=new WeakMap}return{get:t,dispose:i}}const IW=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,LW=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function NW(n,e,t){let i=new tu;const r=new ge,s=new ge,o=new Bt,a=new i_({depthPacking:i8}),l=new r_,h={},f=t.maxTextureSize,d={[Zs]:wi,[wi]:Zs,[as]:as},p=new jr({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new ge},radius:{value:4}},vertexShader:IW,fragmentShader:LW}),m=p.clone();m.defines.HORIZONTAL_PASS=1;const y=new Tt;y.setAttribute("position",new Zt(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const w=new Pn(y,p),S=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=u1;let g=this.type;this.render=function(P,I,L){if(S.enabled===!1||S.autoUpdate===!1&&S.needsUpdate===!1||P.length===0)return;const R=n.getRenderTarget(),A=n.getActiveCubeFace(),k=n.getActiveMipmapLevel(),X=n.state;X.setBlending(Hs),X.buffers.color.setClear(1,1,1,1),X.buffers.depth.setTest(!0),X.setScissorTest(!1);const q=g!==kr&&this.type===kr,ne=g===kr&&this.type!==kr;for(let se=0,te=P.length;se<te;se++){const le=P[se],U=le.shadow;if(U===void 0){console.warn("THREE.WebGLShadowMap:",le,"has no shadow.");continue}if(U.autoUpdate===!1&&U.needsUpdate===!1)continue;r.copy(U.mapSize);const W=U.getFrameExtents();if(r.multiply(W),s.copy(U.mapSize),(r.x>f||r.y>f)&&(r.x>f&&(s.x=Math.floor(f/W.x),r.x=s.x*W.x,U.mapSize.x=s.x),r.y>f&&(s.y=Math.floor(f/W.y),r.y=s.y*W.y,U.mapSize.y=s.y)),U.map===null||q===!0||ne===!0){const Z=this.type!==kr?{minFilter:Yn,magFilter:Yn}:{};U.map!==null&&U.map.dispose(),U.map=new ps(r.x,r.y,Z),U.map.texture.name=le.name+".shadowMap",U.camera.updateProjectionMatrix()}n.setRenderTarget(U.map),n.clear();const H=U.getViewportCount();for(let Z=0;Z<H;Z++){const de=U.getViewport(Z);o.set(s.x*de.x,s.y*de.y,s.x*de.z,s.y*de.w),X.viewport(o),U.updateMatrices(le,Z),i=U.getFrustum(),E(I,L,U.camera,le,this.type)}U.isPointLightShadow!==!0&&this.type===kr&&x(U,L),U.needsUpdate=!1}g=this.type,S.needsUpdate=!1,n.setRenderTarget(R,A,k)};function x(P,I){const L=e.update(w);p.defines.VSM_SAMPLES!==P.blurSamples&&(p.defines.VSM_SAMPLES=P.blurSamples,m.defines.VSM_SAMPLES=P.blurSamples,p.needsUpdate=!0,m.needsUpdate=!0),P.mapPass===null&&(P.mapPass=new ps(r.x,r.y)),p.uniforms.shadow_pass.value=P.map.texture,p.uniforms.resolution.value=P.mapSize,p.uniforms.radius.value=P.radius,n.setRenderTarget(P.mapPass),n.clear(),n.renderBufferDirect(I,null,L,p,w,null),m.uniforms.shadow_pass.value=P.mapPass.texture,m.uniforms.resolution.value=P.mapSize,m.uniforms.radius.value=P.radius,n.setRenderTarget(P.map),n.clear(),n.renderBufferDirect(I,null,L,m,w,null)}function M(P,I,L,R){let A=null;const k=L.isPointLight===!0?P.customDistanceMaterial:P.customDepthMaterial;if(k!==void 0)A=k;else if(A=L.isPointLight===!0?l:a,n.localClippingEnabled&&I.clipShadows===!0&&Array.isArray(I.clippingPlanes)&&I.clippingPlanes.length!==0||I.displacementMap&&I.displacementScale!==0||I.alphaMap&&I.alphaTest>0||I.map&&I.alphaTest>0||I.alphaToCoverage===!0){const X=A.uuid,q=I.uuid;let ne=h[X];ne===void 0&&(ne={},h[X]=ne);let se=ne[q];se===void 0&&(se=A.clone(),ne[q]=se,I.addEventListener("dispose",C)),A=se}if(A.visible=I.visible,A.wireframe=I.wireframe,R===kr?A.side=I.shadowSide!==null?I.shadowSide:I.side:A.side=I.shadowSide!==null?I.shadowSide:d[I.side],A.alphaMap=I.alphaMap,A.alphaTest=I.alphaToCoverage===!0?.5:I.alphaTest,A.map=I.map,A.clipShadows=I.clipShadows,A.clippingPlanes=I.clippingPlanes,A.clipIntersection=I.clipIntersection,A.displacementMap=I.displacementMap,A.displacementScale=I.displacementScale,A.displacementBias=I.displacementBias,A.wireframeLinewidth=I.wireframeLinewidth,A.linewidth=I.linewidth,L.isPointLight===!0&&A.isMeshDistanceMaterial===!0){const X=n.properties.get(A);X.light=L}return A}function E(P,I,L,R,A){if(P.visible===!1)return;if(P.layers.test(I.layers)&&(P.isMesh||P.isLine||P.isPoints)&&(P.castShadow||P.receiveShadow&&A===kr)&&(!P.frustumCulled||i.intersectsObject(P))){P.modelViewMatrix.multiplyMatrices(L.matrixWorldInverse,P.matrixWorld);const q=e.update(P),ne=P.material;if(Array.isArray(ne)){const se=q.groups;for(let te=0,le=se.length;te<le;te++){const U=se[te],W=ne[U.materialIndex];if(W&&W.visible){const H=M(P,W,R,A);P.onBeforeShadow(n,P,I,L,q,H,U),n.renderBufferDirect(L,null,q,H,P,U),P.onAfterShadow(n,P,I,L,q,H,U)}}}else if(ne.visible){const se=M(P,ne,R,A);P.onBeforeShadow(n,P,I,L,q,se,null),n.renderBufferDirect(L,null,q,se,P,null),P.onAfterShadow(n,P,I,L,q,se,null)}}const X=P.children;for(let q=0,ne=X.length;q<ne;q++)E(X[q],I,L,R,A)}function C(P){P.target.removeEventListener("dispose",C);for(const L in h){const R=h[L],A=P.target.uuid;A in R&&(R[A].dispose(),delete R[A])}}}const DW={[Zp]:Kp,[$p]:em,[Jp]:tm,[rl]:Qp,[Kp]:Zp,[em]:$p,[tm]:Jp,[Qp]:rl};function UW(n,e){function t(){let j=!1;const Re=new Bt;let ce=null;const ve=new Bt(0,0,0,0);return{setMask:function(Ve){ce!==Ve&&!j&&(n.colorMask(Ve,Ve,Ve,Ve),ce=Ve)},setLocked:function(Ve){j=Ve},setClear:function(Ve,Ue,lt,Ot,en){en===!0&&(Ve*=Ot,Ue*=Ot,lt*=Ot),Re.set(Ve,Ue,lt,Ot),ve.equals(Re)===!1&&(n.clearColor(Ve,Ue,lt,Ot),ve.copy(Re))},reset:function(){j=!1,ce=null,ve.set(-1,0,0,0)}}}function i(){let j=!1,Re=!1,ce=null,ve=null,Ve=null;return{setReversed:function(Ue){if(Re!==Ue){const lt=e.get("EXT_clip_control");Ue?lt.clipControlEXT(lt.LOWER_LEFT_EXT,lt.ZERO_TO_ONE_EXT):lt.clipControlEXT(lt.LOWER_LEFT_EXT,lt.NEGATIVE_ONE_TO_ONE_EXT),Re=Ue;const Ot=Ve;Ve=null,this.setClear(Ot)}},getReversed:function(){return Re},setTest:function(Ue){Ue?Ae(n.DEPTH_TEST):tt(n.DEPTH_TEST)},setMask:function(Ue){ce!==Ue&&!j&&(n.depthMask(Ue),ce=Ue)},setFunc:function(Ue){if(Re&&(Ue=DW[Ue]),ve!==Ue){switch(Ue){case Zp:n.depthFunc(n.NEVER);break;case Kp:n.depthFunc(n.ALWAYS);break;case $p:n.depthFunc(n.LESS);break;case rl:n.depthFunc(n.LEQUAL);break;case Jp:n.depthFunc(n.EQUAL);break;case Qp:n.depthFunc(n.GEQUAL);break;case em:n.depthFunc(n.GREATER);break;case tm:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}ve=Ue}},setLocked:function(Ue){j=Ue},setClear:function(Ue){Ve!==Ue&&(Re&&(Ue=1-Ue),n.clearDepth(Ue),Ve=Ue)},reset:function(){j=!1,ce=null,ve=null,Ve=null,Re=!1}}}function r(){let j=!1,Re=null,ce=null,ve=null,Ve=null,Ue=null,lt=null,Ot=null,en=null;return{setTest:function(It){j||(It?Ae(n.STENCIL_TEST):tt(n.STENCIL_TEST))},setMask:function(It){Re!==It&&!j&&(n.stencilMask(It),Re=It)},setFunc:function(It,wn,Jn){(ce!==It||ve!==wn||Ve!==Jn)&&(n.stencilFunc(It,wn,Jn),ce=It,ve=wn,Ve=Jn)},setOp:function(It,wn,Jn){(Ue!==It||lt!==wn||Ot!==Jn)&&(n.stencilOp(It,wn,Jn),Ue=It,lt=wn,Ot=Jn)},setLocked:function(It){j=It},setClear:function(It){en!==It&&(n.clearStencil(It),en=It)},reset:function(){j=!1,Re=null,ce=null,ve=null,Ve=null,Ue=null,lt=null,Ot=null,en=null}}}const s=new t,o=new i,a=new r,l=new WeakMap,h=new WeakMap;let f={},d={},p=new WeakMap,m=[],y=null,w=!1,S=null,g=null,x=null,M=null,E=null,C=null,P=null,I=new ke(0,0,0),L=0,R=!1,A=null,k=null,X=null,q=null,ne=null;const se=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let te=!1,le=0;const U=n.getParameter(n.VERSION);U.indexOf("WebGL")!==-1?(le=parseFloat(/^WebGL (\d)/.exec(U)[1]),te=le>=1):U.indexOf("OpenGL ES")!==-1&&(le=parseFloat(/^OpenGL ES (\d)/.exec(U)[1]),te=le>=2);let W=null,H={};const Z=n.getParameter(n.SCISSOR_BOX),de=n.getParameter(n.VIEWPORT),Te=new Bt().fromArray(Z),ie=new Bt().fromArray(de);function _e(j,Re,ce,ve){const Ve=new Uint8Array(4),Ue=n.createTexture();n.bindTexture(j,Ue),n.texParameteri(j,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(j,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let lt=0;lt<ce;lt++)j===n.TEXTURE_3D||j===n.TEXTURE_2D_ARRAY?n.texImage3D(Re,0,n.RGBA,1,1,ve,0,n.RGBA,n.UNSIGNED_BYTE,Ve):n.texImage2D(Re+lt,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,Ve);return Ue}const we={};we[n.TEXTURE_2D]=_e(n.TEXTURE_2D,n.TEXTURE_2D,1),we[n.TEXTURE_CUBE_MAP]=_e(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),we[n.TEXTURE_2D_ARRAY]=_e(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),we[n.TEXTURE_3D]=_e(n.TEXTURE_3D,n.TEXTURE_3D,1,1),s.setClear(0,0,0,1),o.setClear(1),a.setClear(0),Ae(n.DEPTH_TEST),o.setFunc(rl),Se(!1),Ce(Zy),Ae(n.CULL_FACE),z(Hs);function Ae(j){f[j]!==!0&&(n.enable(j),f[j]=!0)}function tt(j){f[j]!==!1&&(n.disable(j),f[j]=!1)}function dt(j,Re){return d[j]!==Re?(n.bindFramebuffer(j,Re),d[j]=Re,j===n.DRAW_FRAMEBUFFER&&(d[n.FRAMEBUFFER]=Re),j===n.FRAMEBUFFER&&(d[n.DRAW_FRAMEBUFFER]=Re),!0):!1}function $e(j,Re){let ce=m,ve=!1;if(j){ce=p.get(Re),ce===void 0&&(ce=[],p.set(Re,ce));const Ve=j.textures;if(ce.length!==Ve.length||ce[0]!==n.COLOR_ATTACHMENT0){for(let Ue=0,lt=Ve.length;Ue<lt;Ue++)ce[Ue]=n.COLOR_ATTACHMENT0+Ue;ce.length=Ve.length,ve=!0}}else ce[0]!==n.BACK&&(ce[0]=n.BACK,ve=!0);ve&&n.drawBuffers(ce)}function vt(j){return y!==j?(n.useProgram(j),y=j,!0):!1}const wt={[bo]:n.FUNC_ADD,[bb]:n.FUNC_SUBTRACT,[Cb]:n.FUNC_REVERSE_SUBTRACT};wt[Pb]=n.MIN,wt[Rb]=n.MAX;const Qe={[Ib]:n.ZERO,[Lb]:n.ONE,[Nb]:n.SRC_COLOR,[qp]:n.SRC_ALPHA,[zb]:n.SRC_ALPHA_SATURATE,[Ob]:n.DST_COLOR,[Ub]:n.DST_ALPHA,[Db]:n.ONE_MINUS_SRC_COLOR,[Yp]:n.ONE_MINUS_SRC_ALPHA,[Fb]:n.ONE_MINUS_DST_COLOR,[kb]:n.ONE_MINUS_DST_ALPHA,[Bb]:n.CONSTANT_COLOR,[Vb]:n.ONE_MINUS_CONSTANT_COLOR,[Hb]:n.CONSTANT_ALPHA,[Gb]:n.ONE_MINUS_CONSTANT_ALPHA};function z(j,Re,ce,ve,Ve,Ue,lt,Ot,en,It){if(j===Hs){w===!0&&(tt(n.BLEND),w=!1);return}if(w===!1&&(Ae(n.BLEND),w=!0),j!==Ab){if(j!==S||It!==R){if((g!==bo||E!==bo)&&(n.blendEquation(n.FUNC_ADD),g=bo,E=bo),It)switch(j){case Za:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case Ky:n.blendFunc(n.ONE,n.ONE);break;case $y:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case Jy:n.blendFuncSeparate(n.ZERO,n.SRC_COLOR,n.ZERO,n.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",j);break}else switch(j){case Za:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case Ky:n.blendFunc(n.SRC_ALPHA,n.ONE);break;case $y:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case Jy:n.blendFunc(n.ZERO,n.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",j);break}x=null,M=null,C=null,P=null,I.set(0,0,0),L=0,S=j,R=It}return}Ve=Ve||Re,Ue=Ue||ce,lt=lt||ve,(Re!==g||Ve!==E)&&(n.blendEquationSeparate(wt[Re],wt[Ve]),g=Re,E=Ve),(ce!==x||ve!==M||Ue!==C||lt!==P)&&(n.blendFuncSeparate(Qe[ce],Qe[ve],Qe[Ue],Qe[lt]),x=ce,M=ve,C=Ue,P=lt),(Ot.equals(I)===!1||en!==L)&&(n.blendColor(Ot.r,Ot.g,Ot.b,en),I.copy(Ot),L=en),S=j,R=!1}function Le(j,Re){j.side===as?tt(n.CULL_FACE):Ae(n.CULL_FACE);let ce=j.side===wi;Re&&(ce=!ce),Se(ce),j.blending===Za&&j.transparent===!1?z(Hs):z(j.blending,j.blendEquation,j.blendSrc,j.blendDst,j.blendEquationAlpha,j.blendSrcAlpha,j.blendDstAlpha,j.blendColor,j.blendAlpha,j.premultipliedAlpha),o.setFunc(j.depthFunc),o.setTest(j.depthTest),o.setMask(j.depthWrite),s.setMask(j.colorWrite);const ve=j.stencilWrite;a.setTest(ve),ve&&(a.setMask(j.stencilWriteMask),a.setFunc(j.stencilFunc,j.stencilRef,j.stencilFuncMask),a.setOp(j.stencilFail,j.stencilZFail,j.stencilZPass)),Je(j.polygonOffset,j.polygonOffsetFactor,j.polygonOffsetUnits),j.alphaToCoverage===!0?Ae(n.SAMPLE_ALPHA_TO_COVERAGE):tt(n.SAMPLE_ALPHA_TO_COVERAGE)}function Se(j){A!==j&&(j?n.frontFace(n.CW):n.frontFace(n.CCW),A=j)}function Ce(j){j!==wb?(Ae(n.CULL_FACE),j!==k&&(j===Zy?n.cullFace(n.BACK):j===Eb?n.cullFace(n.FRONT):n.cullFace(n.FRONT_AND_BACK))):tt(n.CULL_FACE),k=j}function ye(j){j!==X&&(te&&n.lineWidth(j),X=j)}function Je(j,Re,ce){j?(Ae(n.POLYGON_OFFSET_FILL),(q!==Re||ne!==ce)&&(n.polygonOffset(Re,ce),q=Re,ne=ce)):tt(n.POLYGON_OFFSET_FILL)}function Me(j){j?Ae(n.SCISSOR_TEST):tt(n.SCISSOR_TEST)}function F(j){j===void 0&&(j=n.TEXTURE0+se-1),W!==j&&(n.activeTexture(j),W=j)}function D(j,Re,ce){ce===void 0&&(W===null?ce=n.TEXTURE0+se-1:ce=W);let ve=H[ce];ve===void 0&&(ve={type:void 0,texture:void 0},H[ce]=ve),(ve.type!==j||ve.texture!==Re)&&(W!==ce&&(n.activeTexture(ce),W=ce),n.bindTexture(j,Re||we[j]),ve.type=j,ve.texture=Re)}function ee(){const j=H[W];j!==void 0&&j.type!==void 0&&(n.bindTexture(j.type,null),j.type=void 0,j.texture=void 0)}function ue(){try{n.compressedTexImage2D(...arguments)}catch(j){console.error("THREE.WebGLState:",j)}}function xe(){try{n.compressedTexImage3D(...arguments)}catch(j){console.error("THREE.WebGLState:",j)}}function fe(){try{n.texSubImage2D(...arguments)}catch(j){console.error("THREE.WebGLState:",j)}}function Ye(){try{n.texSubImage3D(...arguments)}catch(j){console.error("THREE.WebGLState:",j)}}function Ne(){try{n.compressedTexSubImage2D(...arguments)}catch(j){console.error("THREE.WebGLState:",j)}}function st(){try{n.compressedTexSubImage3D(...arguments)}catch(j){console.error("THREE.WebGLState:",j)}}function ct(){try{n.texStorage2D(...arguments)}catch(j){console.error("THREE.WebGLState:",j)}}function Ee(){try{n.texStorage3D(...arguments)}catch(j){console.error("THREE.WebGLState:",j)}}function Ge(){try{n.texImage2D(...arguments)}catch(j){console.error("THREE.WebGLState:",j)}}function at(){try{n.texImage3D(...arguments)}catch(j){console.error("THREE.WebGLState:",j)}}function pt(j){Te.equals(j)===!1&&(n.scissor(j.x,j.y,j.z,j.w),Te.copy(j))}function We(j){ie.equals(j)===!1&&(n.viewport(j.x,j.y,j.z,j.w),ie.copy(j))}function Y(j,Re){let ce=h.get(Re);ce===void 0&&(ce=new WeakMap,h.set(Re,ce));let ve=ce.get(j);ve===void 0&&(ve=n.getUniformBlockIndex(Re,j.name),ce.set(j,ve))}function me(j,Re){const ve=h.get(Re).get(j);l.get(Re)!==ve&&(n.uniformBlockBinding(Re,ve,j.__bindingPointIndex),l.set(Re,ve))}function ze(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.blendColor(0,0,0,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),o.setReversed(!1),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),f={},W=null,H={},d={},p=new WeakMap,m=[],y=null,w=!1,S=null,g=null,x=null,M=null,E=null,C=null,P=null,I=new ke(0,0,0),L=0,R=!1,A=null,k=null,X=null,q=null,ne=null,Te.set(0,0,n.canvas.width,n.canvas.height),ie.set(0,0,n.canvas.width,n.canvas.height),s.reset(),o.reset(),a.reset()}return{buffers:{color:s,depth:o,stencil:a},enable:Ae,disable:tt,bindFramebuffer:dt,drawBuffers:$e,useProgram:vt,setBlending:z,setMaterial:Le,setFlipSided:Se,setCullFace:Ce,setLineWidth:ye,setPolygonOffset:Je,setScissorTest:Me,activeTexture:F,bindTexture:D,unbindTexture:ee,compressedTexImage2D:ue,compressedTexImage3D:xe,texImage2D:Ge,texImage3D:at,updateUBOMapping:Y,uniformBlockBinding:me,texStorage2D:ct,texStorage3D:Ee,texSubImage2D:fe,texSubImage3D:Ye,compressedTexSubImage2D:Ne,compressedTexSubImage3D:st,scissor:pt,viewport:We,reset:ze}}function kW(n,e,t,i,r,s,o){const a=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,l=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),h=new ge,f=new WeakMap;let d;const p=new WeakMap;let m=!1;try{m=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function y(F,D){return m?new OffscreenCanvas(F,D):tf("canvas")}function w(F,D,ee){let ue=1;const xe=Me(F);if((xe.width>ee||xe.height>ee)&&(ue=ee/Math.max(xe.width,xe.height)),ue<1)if(typeof HTMLImageElement<"u"&&F instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&F instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&F instanceof ImageBitmap||typeof VideoFrame<"u"&&F instanceof VideoFrame){const fe=Math.floor(ue*xe.width),Ye=Math.floor(ue*xe.height);d===void 0&&(d=y(fe,Ye));const Ne=D?y(fe,Ye):d;return Ne.width=fe,Ne.height=Ye,Ne.getContext("2d").drawImage(F,0,0,fe,Ye),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+xe.width+"x"+xe.height+") to ("+fe+"x"+Ye+")."),Ne}else return"data"in F&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+xe.width+"x"+xe.height+")."),F;return F}function S(F){return F.generateMipmaps}function g(F){n.generateMipmap(F)}function x(F){return F.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:F.isWebGL3DRenderTarget?n.TEXTURE_3D:F.isWebGLArrayRenderTarget||F.isCompressedArrayTexture?n.TEXTURE_2D_ARRAY:n.TEXTURE_2D}function M(F,D,ee,ue,xe=!1){if(F!==null){if(n[F]!==void 0)return n[F];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+F+"'")}let fe=D;if(D===n.RED&&(ee===n.FLOAT&&(fe=n.R32F),ee===n.HALF_FLOAT&&(fe=n.R16F),ee===n.UNSIGNED_BYTE&&(fe=n.R8)),D===n.RED_INTEGER&&(ee===n.UNSIGNED_BYTE&&(fe=n.R8UI),ee===n.UNSIGNED_SHORT&&(fe=n.R16UI),ee===n.UNSIGNED_INT&&(fe=n.R32UI),ee===n.BYTE&&(fe=n.R8I),ee===n.SHORT&&(fe=n.R16I),ee===n.INT&&(fe=n.R32I)),D===n.RG&&(ee===n.FLOAT&&(fe=n.RG32F),ee===n.HALF_FLOAT&&(fe=n.RG16F),ee===n.UNSIGNED_BYTE&&(fe=n.RG8)),D===n.RG_INTEGER&&(ee===n.UNSIGNED_BYTE&&(fe=n.RG8UI),ee===n.UNSIGNED_SHORT&&(fe=n.RG16UI),ee===n.UNSIGNED_INT&&(fe=n.RG32UI),ee===n.BYTE&&(fe=n.RG8I),ee===n.SHORT&&(fe=n.RG16I),ee===n.INT&&(fe=n.RG32I)),D===n.RGB_INTEGER&&(ee===n.UNSIGNED_BYTE&&(fe=n.RGB8UI),ee===n.UNSIGNED_SHORT&&(fe=n.RGB16UI),ee===n.UNSIGNED_INT&&(fe=n.RGB32UI),ee===n.BYTE&&(fe=n.RGB8I),ee===n.SHORT&&(fe=n.RGB16I),ee===n.INT&&(fe=n.RGB32I)),D===n.RGBA_INTEGER&&(ee===n.UNSIGNED_BYTE&&(fe=n.RGBA8UI),ee===n.UNSIGNED_SHORT&&(fe=n.RGBA16UI),ee===n.UNSIGNED_INT&&(fe=n.RGBA32UI),ee===n.BYTE&&(fe=n.RGBA8I),ee===n.SHORT&&(fe=n.RGBA16I),ee===n.INT&&(fe=n.RGBA32I)),D===n.RGB&&ee===n.UNSIGNED_INT_5_9_9_9_REV&&(fe=n.RGB9_E5),D===n.RGBA){const Ye=xe?Jh:Ft.getTransfer(ue);ee===n.FLOAT&&(fe=n.RGBA32F),ee===n.HALF_FLOAT&&(fe=n.RGBA16F),ee===n.UNSIGNED_BYTE&&(fe=Ye===qt?n.SRGB8_ALPHA8:n.RGBA8),ee===n.UNSIGNED_SHORT_4_4_4_4&&(fe=n.RGBA4),ee===n.UNSIGNED_SHORT_5_5_5_1&&(fe=n.RGB5_A1)}return(fe===n.R16F||fe===n.R32F||fe===n.RG16F||fe===n.RG32F||fe===n.RGBA16F||fe===n.RGBA32F)&&e.get("EXT_color_buffer_float"),fe}function E(F,D){let ee;return F?D===null||D===$s||D===Bc?ee=n.DEPTH24_STENCIL8:D===zi?ee=n.DEPTH32F_STENCIL8:D===zc&&(ee=n.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):D===null||D===$s||D===Bc?ee=n.DEPTH_COMPONENT24:D===zi?ee=n.DEPTH_COMPONENT32F:D===zc&&(ee=n.DEPTH_COMPONENT16),ee}function C(F,D){return S(F)===!0||F.isFramebufferTexture&&F.minFilter!==Yn&&F.minFilter!==Dn?Math.log2(Math.max(D.width,D.height))+1:F.mipmaps!==void 0&&F.mipmaps.length>0?F.mipmaps.length:F.isCompressedTexture&&Array.isArray(F.image)?D.mipmaps.length:1}function P(F){const D=F.target;D.removeEventListener("dispose",P),L(D),D.isVideoTexture&&f.delete(D)}function I(F){const D=F.target;D.removeEventListener("dispose",I),A(D)}function L(F){const D=i.get(F);if(D.__webglInit===void 0)return;const ee=F.source,ue=p.get(ee);if(ue){const xe=ue[D.__cacheKey];xe.usedTimes--,xe.usedTimes===0&&R(F),Object.keys(ue).length===0&&p.delete(ee)}i.remove(F)}function R(F){const D=i.get(F);n.deleteTexture(D.__webglTexture);const ee=F.source,ue=p.get(ee);delete ue[D.__cacheKey],o.memory.textures--}function A(F){const D=i.get(F);if(F.depthTexture&&(F.depthTexture.dispose(),i.remove(F.depthTexture)),F.isWebGLCubeRenderTarget)for(let ue=0;ue<6;ue++){if(Array.isArray(D.__webglFramebuffer[ue]))for(let xe=0;xe<D.__webglFramebuffer[ue].length;xe++)n.deleteFramebuffer(D.__webglFramebuffer[ue][xe]);else n.deleteFramebuffer(D.__webglFramebuffer[ue]);D.__webglDepthbuffer&&n.deleteRenderbuffer(D.__webglDepthbuffer[ue])}else{if(Array.isArray(D.__webglFramebuffer))for(let ue=0;ue<D.__webglFramebuffer.length;ue++)n.deleteFramebuffer(D.__webglFramebuffer[ue]);else n.deleteFramebuffer(D.__webglFramebuffer);if(D.__webglDepthbuffer&&n.deleteRenderbuffer(D.__webglDepthbuffer),D.__webglMultisampledFramebuffer&&n.deleteFramebuffer(D.__webglMultisampledFramebuffer),D.__webglColorRenderbuffer)for(let ue=0;ue<D.__webglColorRenderbuffer.length;ue++)D.__webglColorRenderbuffer[ue]&&n.deleteRenderbuffer(D.__webglColorRenderbuffer[ue]);D.__webglDepthRenderbuffer&&n.deleteRenderbuffer(D.__webglDepthRenderbuffer)}const ee=F.textures;for(let ue=0,xe=ee.length;ue<xe;ue++){const fe=i.get(ee[ue]);fe.__webglTexture&&(n.deleteTexture(fe.__webglTexture),o.memory.textures--),i.remove(ee[ue])}i.remove(F)}let k=0;function X(){k=0}function q(){const F=k;return F>=r.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+F+" texture units while this GPU supports only "+r.maxTextures),k+=1,F}function ne(F){const D=[];return D.push(F.wrapS),D.push(F.wrapT),D.push(F.wrapR||0),D.push(F.magFilter),D.push(F.minFilter),D.push(F.anisotropy),D.push(F.internalFormat),D.push(F.format),D.push(F.type),D.push(F.generateMipmaps),D.push(F.premultiplyAlpha),D.push(F.flipY),D.push(F.unpackAlignment),D.push(F.colorSpace),D.join()}function se(F,D){const ee=i.get(F);if(F.isVideoTexture&&ye(F),F.isRenderTargetTexture===!1&&F.version>0&&ee.__version!==F.version){const ue=F.image;if(ue===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(ue.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{ie(ee,F,D);return}}t.bindTexture(n.TEXTURE_2D,ee.__webglTexture,n.TEXTURE0+D)}function te(F,D){const ee=i.get(F);if(F.version>0&&ee.__version!==F.version){ie(ee,F,D);return}t.bindTexture(n.TEXTURE_2D_ARRAY,ee.__webglTexture,n.TEXTURE0+D)}function le(F,D){const ee=i.get(F);if(F.version>0&&ee.__version!==F.version){ie(ee,F,D);return}t.bindTexture(n.TEXTURE_3D,ee.__webglTexture,n.TEXTURE0+D)}function U(F,D){const ee=i.get(F);if(F.version>0&&ee.__version!==F.version){_e(ee,F,D);return}t.bindTexture(n.TEXTURE_CUBE_MAP,ee.__webglTexture,n.TEXTURE0+D)}const W={[Yh]:n.REPEAT,[Mr]:n.CLAMP_TO_EDGE,[Zh]:n.MIRRORED_REPEAT},H={[Yn]:n.NEAREST,[N3]:n.NEAREST_MIPMAP_NEAREST,[vc]:n.NEAREST_MIPMAP_LINEAR,[Dn]:n.LINEAR,[mh]:n.LINEAR_MIPMAP_NEAREST,[ls]:n.LINEAR_MIPMAP_LINEAR},Z={[s8]:n.NEVER,[h8]:n.ALWAYS,[o8]:n.LESS,[H3]:n.LEQUAL,[a8]:n.EQUAL,[u8]:n.GEQUAL,[l8]:n.GREATER,[c8]:n.NOTEQUAL};function de(F,D){if(D.type===zi&&e.has("OES_texture_float_linear")===!1&&(D.magFilter===Dn||D.magFilter===mh||D.magFilter===vc||D.magFilter===ls||D.minFilter===Dn||D.minFilter===mh||D.minFilter===vc||D.minFilter===ls)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),n.texParameteri(F,n.TEXTURE_WRAP_S,W[D.wrapS]),n.texParameteri(F,n.TEXTURE_WRAP_T,W[D.wrapT]),(F===n.TEXTURE_3D||F===n.TEXTURE_2D_ARRAY)&&n.texParameteri(F,n.TEXTURE_WRAP_R,W[D.wrapR]),n.texParameteri(F,n.TEXTURE_MAG_FILTER,H[D.magFilter]),n.texParameteri(F,n.TEXTURE_MIN_FILTER,H[D.minFilter]),D.compareFunction&&(n.texParameteri(F,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(F,n.TEXTURE_COMPARE_FUNC,Z[D.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(D.magFilter===Yn||D.minFilter!==vc&&D.minFilter!==ls||D.type===zi&&e.has("OES_texture_float_linear")===!1)return;if(D.anisotropy>1||i.get(D).__currentAnisotropy){const ee=e.get("EXT_texture_filter_anisotropic");n.texParameterf(F,ee.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(D.anisotropy,r.getMaxAnisotropy())),i.get(D).__currentAnisotropy=D.anisotropy}}}function Te(F,D){let ee=!1;F.__webglInit===void 0&&(F.__webglInit=!0,D.addEventListener("dispose",P));const ue=D.source;let xe=p.get(ue);xe===void 0&&(xe={},p.set(ue,xe));const fe=ne(D);if(fe!==F.__cacheKey){xe[fe]===void 0&&(xe[fe]={texture:n.createTexture(),usedTimes:0},o.memory.textures++,ee=!0),xe[fe].usedTimes++;const Ye=xe[F.__cacheKey];Ye!==void 0&&(xe[F.__cacheKey].usedTimes--,Ye.usedTimes===0&&R(D)),F.__cacheKey=fe,F.__webglTexture=xe[fe].texture}return ee}function ie(F,D,ee){let ue=n.TEXTURE_2D;(D.isDataArrayTexture||D.isCompressedArrayTexture)&&(ue=n.TEXTURE_2D_ARRAY),D.isData3DTexture&&(ue=n.TEXTURE_3D);const xe=Te(F,D),fe=D.source;t.bindTexture(ue,F.__webglTexture,n.TEXTURE0+ee);const Ye=i.get(fe);if(fe.version!==Ye.__version||xe===!0){t.activeTexture(n.TEXTURE0+ee);const Ne=Ft.getPrimaries(Ft.workingColorSpace),st=D.colorSpace===Ns?null:Ft.getPrimaries(D.colorSpace),ct=D.colorSpace===Ns||Ne===st?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,D.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,D.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,D.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,ct);let Ee=w(D.image,!1,r.maxTextureSize);Ee=Je(D,Ee);const Ge=s.convert(D.format,D.colorSpace),at=s.convert(D.type);let pt=M(D.internalFormat,Ge,at,D.colorSpace,D.isVideoTexture);de(ue,D);let We;const Y=D.mipmaps,me=D.isVideoTexture!==!0,ze=Ye.__version===void 0||xe===!0,j=fe.dataReady,Re=C(D,Ee);if(D.isDepthTexture)pt=E(D.format===Hc,D.type),ze&&(me?t.texStorage2D(n.TEXTURE_2D,1,pt,Ee.width,Ee.height):t.texImage2D(n.TEXTURE_2D,0,pt,Ee.width,Ee.height,0,Ge,at,null));else if(D.isDataTexture)if(Y.length>0){me&&ze&&t.texStorage2D(n.TEXTURE_2D,Re,pt,Y[0].width,Y[0].height);for(let ce=0,ve=Y.length;ce<ve;ce++)We=Y[ce],me?j&&t.texSubImage2D(n.TEXTURE_2D,ce,0,0,We.width,We.height,Ge,at,We.data):t.texImage2D(n.TEXTURE_2D,ce,pt,We.width,We.height,0,Ge,at,We.data);D.generateMipmaps=!1}else me?(ze&&t.texStorage2D(n.TEXTURE_2D,Re,pt,Ee.width,Ee.height),j&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,Ee.width,Ee.height,Ge,at,Ee.data)):t.texImage2D(n.TEXTURE_2D,0,pt,Ee.width,Ee.height,0,Ge,at,Ee.data);else if(D.isCompressedTexture)if(D.isCompressedArrayTexture){me&&ze&&t.texStorage3D(n.TEXTURE_2D_ARRAY,Re,pt,Y[0].width,Y[0].height,Ee.depth);for(let ce=0,ve=Y.length;ce<ve;ce++)if(We=Y[ce],D.format!==ui)if(Ge!==null)if(me){if(j)if(D.layerUpdates.size>0){const Ve=cx(We.width,We.height,D.format,D.type);for(const Ue of D.layerUpdates){const lt=We.data.subarray(Ue*Ve/We.data.BYTES_PER_ELEMENT,(Ue+1)*Ve/We.data.BYTES_PER_ELEMENT);t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,ce,0,0,Ue,We.width,We.height,1,Ge,lt)}D.clearLayerUpdates()}else t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,ce,0,0,0,We.width,We.height,Ee.depth,Ge,We.data)}else t.compressedTexImage3D(n.TEXTURE_2D_ARRAY,ce,pt,We.width,We.height,Ee.depth,0,We.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else me?j&&t.texSubImage3D(n.TEXTURE_2D_ARRAY,ce,0,0,0,We.width,We.height,Ee.depth,Ge,at,We.data):t.texImage3D(n.TEXTURE_2D_ARRAY,ce,pt,We.width,We.height,Ee.depth,0,Ge,at,We.data)}else{me&&ze&&t.texStorage2D(n.TEXTURE_2D,Re,pt,Y[0].width,Y[0].height);for(let ce=0,ve=Y.length;ce<ve;ce++)We=Y[ce],D.format!==ui?Ge!==null?me?j&&t.compressedTexSubImage2D(n.TEXTURE_2D,ce,0,0,We.width,We.height,Ge,We.data):t.compressedTexImage2D(n.TEXTURE_2D,ce,pt,We.width,We.height,0,We.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):me?j&&t.texSubImage2D(n.TEXTURE_2D,ce,0,0,We.width,We.height,Ge,at,We.data):t.texImage2D(n.TEXTURE_2D,ce,pt,We.width,We.height,0,Ge,at,We.data)}else if(D.isDataArrayTexture)if(me){if(ze&&t.texStorage3D(n.TEXTURE_2D_ARRAY,Re,pt,Ee.width,Ee.height,Ee.depth),j)if(D.layerUpdates.size>0){const ce=cx(Ee.width,Ee.height,D.format,D.type);for(const ve of D.layerUpdates){const Ve=Ee.data.subarray(ve*ce/Ee.data.BYTES_PER_ELEMENT,(ve+1)*ce/Ee.data.BYTES_PER_ELEMENT);t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,ve,Ee.width,Ee.height,1,Ge,at,Ve)}D.clearLayerUpdates()}else t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,Ee.width,Ee.height,Ee.depth,Ge,at,Ee.data)}else t.texImage3D(n.TEXTURE_2D_ARRAY,0,pt,Ee.width,Ee.height,Ee.depth,0,Ge,at,Ee.data);else if(D.isData3DTexture)me?(ze&&t.texStorage3D(n.TEXTURE_3D,Re,pt,Ee.width,Ee.height,Ee.depth),j&&t.texSubImage3D(n.TEXTURE_3D,0,0,0,0,Ee.width,Ee.height,Ee.depth,Ge,at,Ee.data)):t.texImage3D(n.TEXTURE_3D,0,pt,Ee.width,Ee.height,Ee.depth,0,Ge,at,Ee.data);else if(D.isFramebufferTexture){if(ze)if(me)t.texStorage2D(n.TEXTURE_2D,Re,pt,Ee.width,Ee.height);else{let ce=Ee.width,ve=Ee.height;for(let Ve=0;Ve<Re;Ve++)t.texImage2D(n.TEXTURE_2D,Ve,pt,ce,ve,0,Ge,at,null),ce>>=1,ve>>=1}}else if(Y.length>0){if(me&&ze){const ce=Me(Y[0]);t.texStorage2D(n.TEXTURE_2D,Re,pt,ce.width,ce.height)}for(let ce=0,ve=Y.length;ce<ve;ce++)We=Y[ce],me?j&&t.texSubImage2D(n.TEXTURE_2D,ce,0,0,Ge,at,We):t.texImage2D(n.TEXTURE_2D,ce,pt,Ge,at,We);D.generateMipmaps=!1}else if(me){if(ze){const ce=Me(Ee);t.texStorage2D(n.TEXTURE_2D,Re,pt,ce.width,ce.height)}j&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,Ge,at,Ee)}else t.texImage2D(n.TEXTURE_2D,0,pt,Ge,at,Ee);S(D)&&g(ue),Ye.__version=fe.version,D.onUpdate&&D.onUpdate(D)}F.__version=D.version}function _e(F,D,ee){if(D.image.length!==6)return;const ue=Te(F,D),xe=D.source;t.bindTexture(n.TEXTURE_CUBE_MAP,F.__webglTexture,n.TEXTURE0+ee);const fe=i.get(xe);if(xe.version!==fe.__version||ue===!0){t.activeTexture(n.TEXTURE0+ee);const Ye=Ft.getPrimaries(Ft.workingColorSpace),Ne=D.colorSpace===Ns?null:Ft.getPrimaries(D.colorSpace),st=D.colorSpace===Ns||Ye===Ne?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,D.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,D.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,D.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,st);const ct=D.isCompressedTexture||D.image[0].isCompressedTexture,Ee=D.image[0]&&D.image[0].isDataTexture,Ge=[];for(let ve=0;ve<6;ve++)!ct&&!Ee?Ge[ve]=w(D.image[ve],!0,r.maxCubemapSize):Ge[ve]=Ee?D.image[ve].image:D.image[ve],Ge[ve]=Je(D,Ge[ve]);const at=Ge[0],pt=s.convert(D.format,D.colorSpace),We=s.convert(D.type),Y=M(D.internalFormat,pt,We,D.colorSpace),me=D.isVideoTexture!==!0,ze=fe.__version===void 0||ue===!0,j=xe.dataReady;let Re=C(D,at);de(n.TEXTURE_CUBE_MAP,D);let ce;if(ct){me&&ze&&t.texStorage2D(n.TEXTURE_CUBE_MAP,Re,Y,at.width,at.height);for(let ve=0;ve<6;ve++){ce=Ge[ve].mipmaps;for(let Ve=0;Ve<ce.length;Ve++){const Ue=ce[Ve];D.format!==ui?pt!==null?me?j&&t.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ve,Ve,0,0,Ue.width,Ue.height,pt,Ue.data):t.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ve,Ve,Y,Ue.width,Ue.height,0,Ue.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):me?j&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ve,Ve,0,0,Ue.width,Ue.height,pt,We,Ue.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ve,Ve,Y,Ue.width,Ue.height,0,pt,We,Ue.data)}}}else{if(ce=D.mipmaps,me&&ze){ce.length>0&&Re++;const ve=Me(Ge[0]);t.texStorage2D(n.TEXTURE_CUBE_MAP,Re,Y,ve.width,ve.height)}for(let ve=0;ve<6;ve++)if(Ee){me?j&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ve,0,0,0,Ge[ve].width,Ge[ve].height,pt,We,Ge[ve].data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ve,0,Y,Ge[ve].width,Ge[ve].height,0,pt,We,Ge[ve].data);for(let Ve=0;Ve<ce.length;Ve++){const lt=ce[Ve].image[ve].image;me?j&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ve,Ve+1,0,0,lt.width,lt.height,pt,We,lt.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ve,Ve+1,Y,lt.width,lt.height,0,pt,We,lt.data)}}else{me?j&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ve,0,0,0,pt,We,Ge[ve]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ve,0,Y,pt,We,Ge[ve]);for(let Ve=0;Ve<ce.length;Ve++){const Ue=ce[Ve];me?j&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ve,Ve+1,0,0,pt,We,Ue.image[ve]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ve,Ve+1,Y,pt,We,Ue.image[ve])}}}S(D)&&g(n.TEXTURE_CUBE_MAP),fe.__version=xe.version,D.onUpdate&&D.onUpdate(D)}F.__version=D.version}function we(F,D,ee,ue,xe,fe){const Ye=s.convert(ee.format,ee.colorSpace),Ne=s.convert(ee.type),st=M(ee.internalFormat,Ye,Ne,ee.colorSpace),ct=i.get(D),Ee=i.get(ee);if(Ee.__renderTarget=D,!ct.__hasExternalTextures){const Ge=Math.max(1,D.width>>fe),at=Math.max(1,D.height>>fe);xe===n.TEXTURE_3D||xe===n.TEXTURE_2D_ARRAY?t.texImage3D(xe,fe,st,Ge,at,D.depth,0,Ye,Ne,null):t.texImage2D(xe,fe,st,Ge,at,0,Ye,Ne,null)}t.bindFramebuffer(n.FRAMEBUFFER,F),Ce(D)?a.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,ue,xe,Ee.__webglTexture,0,Se(D)):(xe===n.TEXTURE_2D||xe>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&xe<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,ue,xe,Ee.__webglTexture,fe),t.bindFramebuffer(n.FRAMEBUFFER,null)}function Ae(F,D,ee){if(n.bindRenderbuffer(n.RENDERBUFFER,F),D.depthBuffer){const ue=D.depthTexture,xe=ue&&ue.isDepthTexture?ue.type:null,fe=E(D.stencilBuffer,xe),Ye=D.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Ne=Se(D);Ce(D)?a.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Ne,fe,D.width,D.height):ee?n.renderbufferStorageMultisample(n.RENDERBUFFER,Ne,fe,D.width,D.height):n.renderbufferStorage(n.RENDERBUFFER,fe,D.width,D.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,Ye,n.RENDERBUFFER,F)}else{const ue=D.textures;for(let xe=0;xe<ue.length;xe++){const fe=ue[xe],Ye=s.convert(fe.format,fe.colorSpace),Ne=s.convert(fe.type),st=M(fe.internalFormat,Ye,Ne,fe.colorSpace),ct=Se(D);ee&&Ce(D)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,ct,st,D.width,D.height):Ce(D)?a.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,ct,st,D.width,D.height):n.renderbufferStorage(n.RENDERBUFFER,st,D.width,D.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function tt(F,D){if(D&&D.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(n.FRAMEBUFFER,F),!(D.depthTexture&&D.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const ue=i.get(D.depthTexture);ue.__renderTarget=D,(!ue.__webglTexture||D.depthTexture.image.width!==D.width||D.depthTexture.image.height!==D.height)&&(D.depthTexture.image.width=D.width,D.depthTexture.image.height=D.height,D.depthTexture.needsUpdate=!0),se(D.depthTexture,0);const xe=ue.__webglTexture,fe=Se(D);if(D.depthTexture.format===Vc)Ce(D)?a.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,xe,0,fe):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,xe,0);else if(D.depthTexture.format===Hc)Ce(D)?a.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,xe,0,fe):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,xe,0);else throw new Error("Unknown depthTexture format")}function dt(F){const D=i.get(F),ee=F.isWebGLCubeRenderTarget===!0;if(D.__boundDepthTexture!==F.depthTexture){const ue=F.depthTexture;if(D.__depthDisposeCallback&&D.__depthDisposeCallback(),ue){const xe=()=>{delete D.__boundDepthTexture,delete D.__depthDisposeCallback,ue.removeEventListener("dispose",xe)};ue.addEventListener("dispose",xe),D.__depthDisposeCallback=xe}D.__boundDepthTexture=ue}if(F.depthTexture&&!D.__autoAllocateDepthBuffer){if(ee)throw new Error("target.depthTexture not supported in Cube render targets");const ue=F.texture.mipmaps;ue&&ue.length>0?tt(D.__webglFramebuffer[0],F):tt(D.__webglFramebuffer,F)}else if(ee){D.__webglDepthbuffer=[];for(let ue=0;ue<6;ue++)if(t.bindFramebuffer(n.FRAMEBUFFER,D.__webglFramebuffer[ue]),D.__webglDepthbuffer[ue]===void 0)D.__webglDepthbuffer[ue]=n.createRenderbuffer(),Ae(D.__webglDepthbuffer[ue],F,!1);else{const xe=F.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,fe=D.__webglDepthbuffer[ue];n.bindRenderbuffer(n.RENDERBUFFER,fe),n.framebufferRenderbuffer(n.FRAMEBUFFER,xe,n.RENDERBUFFER,fe)}}else{const ue=F.texture.mipmaps;if(ue&&ue.length>0?t.bindFramebuffer(n.FRAMEBUFFER,D.__webglFramebuffer[0]):t.bindFramebuffer(n.FRAMEBUFFER,D.__webglFramebuffer),D.__webglDepthbuffer===void 0)D.__webglDepthbuffer=n.createRenderbuffer(),Ae(D.__webglDepthbuffer,F,!1);else{const xe=F.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,fe=D.__webglDepthbuffer;n.bindRenderbuffer(n.RENDERBUFFER,fe),n.framebufferRenderbuffer(n.FRAMEBUFFER,xe,n.RENDERBUFFER,fe)}}t.bindFramebuffer(n.FRAMEBUFFER,null)}function $e(F,D,ee){const ue=i.get(F);D!==void 0&&we(ue.__webglFramebuffer,F,F.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,0),ee!==void 0&&dt(F)}function vt(F){const D=F.texture,ee=i.get(F),ue=i.get(D);F.addEventListener("dispose",I);const xe=F.textures,fe=F.isWebGLCubeRenderTarget===!0,Ye=xe.length>1;if(Ye||(ue.__webglTexture===void 0&&(ue.__webglTexture=n.createTexture()),ue.__version=D.version,o.memory.textures++),fe){ee.__webglFramebuffer=[];for(let Ne=0;Ne<6;Ne++)if(D.mipmaps&&D.mipmaps.length>0){ee.__webglFramebuffer[Ne]=[];for(let st=0;st<D.mipmaps.length;st++)ee.__webglFramebuffer[Ne][st]=n.createFramebuffer()}else ee.__webglFramebuffer[Ne]=n.createFramebuffer()}else{if(D.mipmaps&&D.mipmaps.length>0){ee.__webglFramebuffer=[];for(let Ne=0;Ne<D.mipmaps.length;Ne++)ee.__webglFramebuffer[Ne]=n.createFramebuffer()}else ee.__webglFramebuffer=n.createFramebuffer();if(Ye)for(let Ne=0,st=xe.length;Ne<st;Ne++){const ct=i.get(xe[Ne]);ct.__webglTexture===void 0&&(ct.__webglTexture=n.createTexture(),o.memory.textures++)}if(F.samples>0&&Ce(F)===!1){ee.__webglMultisampledFramebuffer=n.createFramebuffer(),ee.__webglColorRenderbuffer=[],t.bindFramebuffer(n.FRAMEBUFFER,ee.__webglMultisampledFramebuffer);for(let Ne=0;Ne<xe.length;Ne++){const st=xe[Ne];ee.__webglColorRenderbuffer[Ne]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,ee.__webglColorRenderbuffer[Ne]);const ct=s.convert(st.format,st.colorSpace),Ee=s.convert(st.type),Ge=M(st.internalFormat,ct,Ee,st.colorSpace,F.isXRRenderTarget===!0),at=Se(F);n.renderbufferStorageMultisample(n.RENDERBUFFER,at,Ge,F.width,F.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Ne,n.RENDERBUFFER,ee.__webglColorRenderbuffer[Ne])}n.bindRenderbuffer(n.RENDERBUFFER,null),F.depthBuffer&&(ee.__webglDepthRenderbuffer=n.createRenderbuffer(),Ae(ee.__webglDepthRenderbuffer,F,!0)),t.bindFramebuffer(n.FRAMEBUFFER,null)}}if(fe){t.bindTexture(n.TEXTURE_CUBE_MAP,ue.__webglTexture),de(n.TEXTURE_CUBE_MAP,D);for(let Ne=0;Ne<6;Ne++)if(D.mipmaps&&D.mipmaps.length>0)for(let st=0;st<D.mipmaps.length;st++)we(ee.__webglFramebuffer[Ne][st],F,D,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+Ne,st);else we(ee.__webglFramebuffer[Ne],F,D,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+Ne,0);S(D)&&g(n.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(Ye){for(let Ne=0,st=xe.length;Ne<st;Ne++){const ct=xe[Ne],Ee=i.get(ct);t.bindTexture(n.TEXTURE_2D,Ee.__webglTexture),de(n.TEXTURE_2D,ct),we(ee.__webglFramebuffer,F,ct,n.COLOR_ATTACHMENT0+Ne,n.TEXTURE_2D,0),S(ct)&&g(n.TEXTURE_2D)}t.unbindTexture()}else{let Ne=n.TEXTURE_2D;if((F.isWebGL3DRenderTarget||F.isWebGLArrayRenderTarget)&&(Ne=F.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY),t.bindTexture(Ne,ue.__webglTexture),de(Ne,D),D.mipmaps&&D.mipmaps.length>0)for(let st=0;st<D.mipmaps.length;st++)we(ee.__webglFramebuffer[st],F,D,n.COLOR_ATTACHMENT0,Ne,st);else we(ee.__webglFramebuffer,F,D,n.COLOR_ATTACHMENT0,Ne,0);S(D)&&g(Ne),t.unbindTexture()}F.depthBuffer&&dt(F)}function wt(F){const D=F.textures;for(let ee=0,ue=D.length;ee<ue;ee++){const xe=D[ee];if(S(xe)){const fe=x(F),Ye=i.get(xe).__webglTexture;t.bindTexture(fe,Ye),g(fe),t.unbindTexture()}}}const Qe=[],z=[];function Le(F){if(F.samples>0){if(Ce(F)===!1){const D=F.textures,ee=F.width,ue=F.height;let xe=n.COLOR_BUFFER_BIT;const fe=F.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Ye=i.get(F),Ne=D.length>1;if(Ne)for(let ct=0;ct<D.length;ct++)t.bindFramebuffer(n.FRAMEBUFFER,Ye.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+ct,n.RENDERBUFFER,null),t.bindFramebuffer(n.FRAMEBUFFER,Ye.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+ct,n.TEXTURE_2D,null,0);t.bindFramebuffer(n.READ_FRAMEBUFFER,Ye.__webglMultisampledFramebuffer);const st=F.texture.mipmaps;st&&st.length>0?t.bindFramebuffer(n.DRAW_FRAMEBUFFER,Ye.__webglFramebuffer[0]):t.bindFramebuffer(n.DRAW_FRAMEBUFFER,Ye.__webglFramebuffer);for(let ct=0;ct<D.length;ct++){if(F.resolveDepthBuffer&&(F.depthBuffer&&(xe|=n.DEPTH_BUFFER_BIT),F.stencilBuffer&&F.resolveStencilBuffer&&(xe|=n.STENCIL_BUFFER_BIT)),Ne){n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,Ye.__webglColorRenderbuffer[ct]);const Ee=i.get(D[ct]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,Ee,0)}n.blitFramebuffer(0,0,ee,ue,0,0,ee,ue,xe,n.NEAREST),l===!0&&(Qe.length=0,z.length=0,Qe.push(n.COLOR_ATTACHMENT0+ct),F.depthBuffer&&F.resolveDepthBuffer===!1&&(Qe.push(fe),z.push(fe),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,z)),n.invalidateFramebuffer(n.READ_FRAMEBUFFER,Qe))}if(t.bindFramebuffer(n.READ_FRAMEBUFFER,null),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),Ne)for(let ct=0;ct<D.length;ct++){t.bindFramebuffer(n.FRAMEBUFFER,Ye.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+ct,n.RENDERBUFFER,Ye.__webglColorRenderbuffer[ct]);const Ee=i.get(D[ct]).__webglTexture;t.bindFramebuffer(n.FRAMEBUFFER,Ye.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+ct,n.TEXTURE_2D,Ee,0)}t.bindFramebuffer(n.DRAW_FRAMEBUFFER,Ye.__webglMultisampledFramebuffer)}else if(F.depthBuffer&&F.resolveDepthBuffer===!1&&l){const D=F.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT;n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[D])}}}function Se(F){return Math.min(r.maxSamples,F.samples)}function Ce(F){const D=i.get(F);return F.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&D.__useRenderToTexture!==!1}function ye(F){const D=o.render.frame;f.get(F)!==D&&(f.set(F,D),F.update())}function Je(F,D){const ee=F.colorSpace,ue=F.format,xe=F.type;return F.isCompressedTexture===!0||F.isVideoTexture===!0||ee!==sl&&ee!==Ns&&(Ft.getTransfer(ee)===qt?(ue!==ui||xe!==br)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",ee)),D}function Me(F){return typeof HTMLImageElement<"u"&&F instanceof HTMLImageElement?(h.width=F.naturalWidth||F.width,h.height=F.naturalHeight||F.height):typeof VideoFrame<"u"&&F instanceof VideoFrame?(h.width=F.displayWidth,h.height=F.displayHeight):(h.width=F.width,h.height=F.height),h}this.allocateTextureUnit=q,this.resetTextureUnits=X,this.setTexture2D=se,this.setTexture2DArray=te,this.setTexture3D=le,this.setTextureCube=U,this.rebindTextures=$e,this.setupRenderTarget=vt,this.updateRenderTargetMipmap=wt,this.updateMultisampleRenderTarget=Le,this.setupDepthRenderbuffer=dt,this.setupFrameBufferTexture=we,this.useMultisampledRTT=Ce}function MC(n,e){function t(i,r=Ns){let s;const o=Ft.getTransfer(r);if(i===br)return n.UNSIGNED_BYTE;if(i===d1)return n.UNSIGNED_SHORT_4_4_4_4;if(i===p1)return n.UNSIGNED_SHORT_5_5_5_1;if(i===k3)return n.UNSIGNED_INT_5_9_9_9_REV;if(i===D3)return n.BYTE;if(i===U3)return n.SHORT;if(i===zc)return n.UNSIGNED_SHORT;if(i===f1)return n.INT;if(i===$s)return n.UNSIGNED_INT;if(i===zi)return n.FLOAT;if(i===eu)return n.HALF_FLOAT;if(i===O3)return n.ALPHA;if(i===F3)return n.RGB;if(i===ui)return n.RGBA;if(i===Vc)return n.DEPTH_COMPONENT;if(i===Hc)return n.DEPTH_STENCIL;if(i===m1)return n.RED;if(i===Sf)return n.RED_INTEGER;if(i===z3)return n.RG;if(i===g1)return n.RG_INTEGER;if(i===v1)return n.RGBA_INTEGER;if(i===gh||i===vh||i===yh||i===xh)if(o===qt)if(s=e.get("WEBGL_compressed_texture_s3tc_srgb"),s!==null){if(i===gh)return s.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(i===vh)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(i===yh)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(i===xh)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(s=e.get("WEBGL_compressed_texture_s3tc"),s!==null){if(i===gh)return s.COMPRESSED_RGB_S3TC_DXT1_EXT;if(i===vh)return s.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(i===yh)return s.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(i===xh)return s.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(i===nm||i===im||i===rm||i===sm)if(s=e.get("WEBGL_compressed_texture_pvrtc"),s!==null){if(i===nm)return s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(i===im)return s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(i===rm)return s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(i===sm)return s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(i===om||i===am||i===lm)if(s=e.get("WEBGL_compressed_texture_etc"),s!==null){if(i===om||i===am)return o===qt?s.COMPRESSED_SRGB8_ETC2:s.COMPRESSED_RGB8_ETC2;if(i===lm)return o===qt?s.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:s.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(i===cm||i===um||i===hm||i===fm||i===dm||i===pm||i===mm||i===gm||i===vm||i===ym||i===xm||i===_m||i===Sm||i===Mm)if(s=e.get("WEBGL_compressed_texture_astc"),s!==null){if(i===cm)return o===qt?s.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:s.COMPRESSED_RGBA_ASTC_4x4_KHR;if(i===um)return o===qt?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:s.COMPRESSED_RGBA_ASTC_5x4_KHR;if(i===hm)return o===qt?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:s.COMPRESSED_RGBA_ASTC_5x5_KHR;if(i===fm)return o===qt?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:s.COMPRESSED_RGBA_ASTC_6x5_KHR;if(i===dm)return o===qt?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:s.COMPRESSED_RGBA_ASTC_6x6_KHR;if(i===pm)return o===qt?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:s.COMPRESSED_RGBA_ASTC_8x5_KHR;if(i===mm)return o===qt?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:s.COMPRESSED_RGBA_ASTC_8x6_KHR;if(i===gm)return o===qt?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:s.COMPRESSED_RGBA_ASTC_8x8_KHR;if(i===vm)return o===qt?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:s.COMPRESSED_RGBA_ASTC_10x5_KHR;if(i===ym)return o===qt?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:s.COMPRESSED_RGBA_ASTC_10x6_KHR;if(i===xm)return o===qt?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:s.COMPRESSED_RGBA_ASTC_10x8_KHR;if(i===_m)return o===qt?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:s.COMPRESSED_RGBA_ASTC_10x10_KHR;if(i===Sm)return o===qt?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:s.COMPRESSED_RGBA_ASTC_12x10_KHR;if(i===Mm)return o===qt?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:s.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(i===_h||i===wm||i===Em)if(s=e.get("EXT_texture_compression_bptc"),s!==null){if(i===_h)return o===qt?s.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:s.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(i===wm)return s.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(i===Em)return s.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(i===B3||i===Tm||i===Am||i===bm)if(s=e.get("EXT_texture_compression_rgtc"),s!==null){if(i===_h)return s.COMPRESSED_RED_RGTC1_EXT;if(i===Tm)return s.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(i===Am)return s.COMPRESSED_RED_GREEN_RGTC2_EXT;if(i===bm)return s.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return i===Bc?n.UNSIGNED_INT_24_8:n[i]!==void 0?n[i]:null}return{convert:t}}const OW=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,FW=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class zW{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t,i){if(this.texture===null){const r=new yn,s=e.properties.get(r);s.__webglTexture=t.texture,(t.depthNear!==i.depthNear||t.depthFar!==i.depthFar)&&(this.depthNear=t.depthNear,this.depthFar=t.depthFar),this.texture=r}}getMesh(e){if(this.texture!==null&&this.mesh===null){const t=e.cameras[0].viewport,i=new jr({vertexShader:OW,fragmentShader:FW,uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new Pn(new nu(20,20),i)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class BW extends ms{constructor(e,t){super();const i=this;let r=null,s=1,o=null,a="local-floor",l=1,h=null,f=null,d=null,p=null,m=null,y=null;const w=new zW,S=t.getContextAttributes();let g=null,x=null;const M=[],E=[],C=new ge;let P=null;const I=new Mn;I.viewport=new Bt;const L=new Mn;L.viewport=new Bt;const R=[I,L],A=new hC;let k=null,X=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(ie){let _e=M[ie];return _e===void 0&&(_e=new op,M[ie]=_e),_e.getTargetRaySpace()},this.getControllerGrip=function(ie){let _e=M[ie];return _e===void 0&&(_e=new op,M[ie]=_e),_e.getGripSpace()},this.getHand=function(ie){let _e=M[ie];return _e===void 0&&(_e=new op,M[ie]=_e),_e.getHandSpace()};function q(ie){const _e=E.indexOf(ie.inputSource);if(_e===-1)return;const we=M[_e];we!==void 0&&(we.update(ie.inputSource,ie.frame,h||o),we.dispatchEvent({type:ie.type,data:ie.inputSource}))}function ne(){r.removeEventListener("select",q),r.removeEventListener("selectstart",q),r.removeEventListener("selectend",q),r.removeEventListener("squeeze",q),r.removeEventListener("squeezestart",q),r.removeEventListener("squeezeend",q),r.removeEventListener("end",ne),r.removeEventListener("inputsourceschange",se);for(let ie=0;ie<M.length;ie++){const _e=E[ie];_e!==null&&(E[ie]=null,M[ie].disconnect(_e))}k=null,X=null,w.reset(),e.setRenderTarget(g),m=null,p=null,d=null,r=null,x=null,Te.stop(),i.isPresenting=!1,e.setPixelRatio(P),e.setSize(C.width,C.height,!1),i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(ie){s=ie,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(ie){a=ie,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return h||o},this.setReferenceSpace=function(ie){h=ie},this.getBaseLayer=function(){return p!==null?p:m},this.getBinding=function(){return d},this.getFrame=function(){return y},this.getSession=function(){return r},this.setSession=async function(ie){if(r=ie,r!==null){if(g=e.getRenderTarget(),r.addEventListener("select",q),r.addEventListener("selectstart",q),r.addEventListener("selectend",q),r.addEventListener("squeeze",q),r.addEventListener("squeezestart",q),r.addEventListener("squeezeend",q),r.addEventListener("end",ne),r.addEventListener("inputsourceschange",se),S.xrCompatible!==!0&&await t.makeXRCompatible(),P=e.getPixelRatio(),e.getSize(C),typeof XRWebGLBinding<"u"&&"createProjectionLayer"in XRWebGLBinding.prototype){let we=null,Ae=null,tt=null;S.depth&&(tt=S.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,we=S.stencil?Hc:Vc,Ae=S.stencil?Bc:$s);const dt={colorFormat:t.RGBA8,depthFormat:tt,scaleFactor:s};d=new XRWebGLBinding(r,t),p=d.createProjectionLayer(dt),r.updateRenderState({layers:[p]}),e.setPixelRatio(1),e.setSize(p.textureWidth,p.textureHeight,!1),x=new ps(p.textureWidth,p.textureHeight,{format:ui,type:br,depthTexture:new b1(p.textureWidth,p.textureHeight,Ae,void 0,void 0,void 0,void 0,void 0,void 0,we),stencilBuffer:S.stencil,colorSpace:e.outputColorSpace,samples:S.antialias?4:0,resolveDepthBuffer:p.ignoreDepthValues===!1,resolveStencilBuffer:p.ignoreDepthValues===!1})}else{const we={antialias:S.antialias,alpha:!0,depth:S.depth,stencil:S.stencil,framebufferScaleFactor:s};m=new XRWebGLLayer(r,t,we),r.updateRenderState({baseLayer:m}),e.setPixelRatio(1),e.setSize(m.framebufferWidth,m.framebufferHeight,!1),x=new ps(m.framebufferWidth,m.framebufferHeight,{format:ui,type:br,colorSpace:e.outputColorSpace,stencilBuffer:S.stencil,resolveDepthBuffer:m.ignoreDepthValues===!1,resolveStencilBuffer:m.ignoreDepthValues===!1})}x.isXRRenderTarget=!0,this.setFoveation(l),h=null,o=await r.requestReferenceSpace(a),Te.setContext(r),Te.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(r!==null)return r.environmentBlendMode},this.getDepthTexture=function(){return w.getDepthTexture()};function se(ie){for(let _e=0;_e<ie.removed.length;_e++){const we=ie.removed[_e],Ae=E.indexOf(we);Ae>=0&&(E[Ae]=null,M[Ae].disconnect(we))}for(let _e=0;_e<ie.added.length;_e++){const we=ie.added[_e];let Ae=E.indexOf(we);if(Ae===-1){for(let dt=0;dt<M.length;dt++)if(dt>=E.length){E.push(we),Ae=dt;break}else if(E[dt]===null){E[dt]=we,Ae=dt;break}if(Ae===-1)break}const tt=M[Ae];tt&&tt.connect(we)}}const te=new B,le=new B;function U(ie,_e,we){te.setFromMatrixPosition(_e.matrixWorld),le.setFromMatrixPosition(we.matrixWorld);const Ae=te.distanceTo(le),tt=_e.projectionMatrix.elements,dt=we.projectionMatrix.elements,$e=tt[14]/(tt[10]-1),vt=tt[14]/(tt[10]+1),wt=(tt[9]+1)/tt[5],Qe=(tt[9]-1)/tt[5],z=(tt[8]-1)/tt[0],Le=(dt[8]+1)/dt[0],Se=$e*z,Ce=$e*Le,ye=Ae/(-z+Le),Je=ye*-z;if(_e.matrixWorld.decompose(ie.position,ie.quaternion,ie.scale),ie.translateX(Je),ie.translateZ(ye),ie.matrixWorld.compose(ie.position,ie.quaternion,ie.scale),ie.matrixWorldInverse.copy(ie.matrixWorld).invert(),tt[10]===-1)ie.projectionMatrix.copy(_e.projectionMatrix),ie.projectionMatrixInverse.copy(_e.projectionMatrixInverse);else{const Me=$e+ye,F=vt+ye,D=Se-Je,ee=Ce+(Ae-Je),ue=wt*vt/F*Me,xe=Qe*vt/F*Me;ie.projectionMatrix.makePerspective(D,ee,ue,xe,Me,F),ie.projectionMatrixInverse.copy(ie.projectionMatrix).invert()}}function W(ie,_e){_e===null?ie.matrixWorld.copy(ie.matrix):ie.matrixWorld.multiplyMatrices(_e.matrixWorld,ie.matrix),ie.matrixWorldInverse.copy(ie.matrixWorld).invert()}this.updateCamera=function(ie){if(r===null)return;let _e=ie.near,we=ie.far;w.texture!==null&&(w.depthNear>0&&(_e=w.depthNear),w.depthFar>0&&(we=w.depthFar)),A.near=L.near=I.near=_e,A.far=L.far=I.far=we,(k!==A.near||X!==A.far)&&(r.updateRenderState({depthNear:A.near,depthFar:A.far}),k=A.near,X=A.far),I.layers.mask=ie.layers.mask|2,L.layers.mask=ie.layers.mask|4,A.layers.mask=I.layers.mask|L.layers.mask;const Ae=ie.parent,tt=A.cameras;W(A,Ae);for(let dt=0;dt<tt.length;dt++)W(tt[dt],Ae);tt.length===2?U(A,I,L):A.projectionMatrix.copy(I.projectionMatrix),H(ie,A,Ae)};function H(ie,_e,we){we===null?ie.matrix.copy(_e.matrixWorld):(ie.matrix.copy(we.matrixWorld),ie.matrix.invert(),ie.matrix.multiply(_e.matrixWorld)),ie.matrix.decompose(ie.position,ie.quaternion,ie.scale),ie.updateMatrixWorld(!0),ie.projectionMatrix.copy(_e.projectionMatrix),ie.projectionMatrixInverse.copy(_e.projectionMatrixInverse),ie.isPerspectiveCamera&&(ie.fov=Gc*2*Math.atan(1/ie.projectionMatrix.elements[5]),ie.zoom=1)}this.getCamera=function(){return A},this.getFoveation=function(){if(!(p===null&&m===null))return l},this.setFoveation=function(ie){l=ie,p!==null&&(p.fixedFoveation=ie),m!==null&&m.fixedFoveation!==void 0&&(m.fixedFoveation=ie)},this.hasDepthSensing=function(){return w.texture!==null},this.getDepthSensingMesh=function(){return w.getMesh(A)};let Z=null;function de(ie,_e){if(f=_e.getViewerPose(h||o),y=_e,f!==null){const we=f.views;m!==null&&(e.setRenderTargetFramebuffer(x,m.framebuffer),e.setRenderTarget(x));let Ae=!1;we.length!==A.cameras.length&&(A.cameras.length=0,Ae=!0);for(let $e=0;$e<we.length;$e++){const vt=we[$e];let wt=null;if(m!==null)wt=m.getViewport(vt);else{const z=d.getViewSubImage(p,vt);wt=z.viewport,$e===0&&(e.setRenderTargetTextures(x,z.colorTexture,z.depthStencilTexture),e.setRenderTarget(x))}let Qe=R[$e];Qe===void 0&&(Qe=new Mn,Qe.layers.enable($e),Qe.viewport=new Bt,R[$e]=Qe),Qe.matrix.fromArray(vt.transform.matrix),Qe.matrix.decompose(Qe.position,Qe.quaternion,Qe.scale),Qe.projectionMatrix.fromArray(vt.projectionMatrix),Qe.projectionMatrixInverse.copy(Qe.projectionMatrix).invert(),Qe.viewport.set(wt.x,wt.y,wt.width,wt.height),$e===0&&(A.matrix.copy(Qe.matrix),A.matrix.decompose(A.position,A.quaternion,A.scale)),Ae===!0&&A.cameras.push(Qe)}const tt=r.enabledFeatures;if(tt&&tt.includes("depth-sensing")&&r.depthUsage=="gpu-optimized"&&d){const $e=d.getDepthInformation(we[0]);$e&&$e.isValid&&$e.texture&&w.init(e,$e,r.renderState)}}for(let we=0;we<M.length;we++){const Ae=E[we],tt=M[we];Ae!==null&&tt!==void 0&&tt.update(Ae,_e,h||o)}Z&&Z(ie,_e),_e.detectedPlanes&&i.dispatchEvent({type:"planesdetected",data:_e}),y=null}const Te=new vC;Te.setAnimationLoop(de),this.setAnimationLoop=function(ie){Z=ie},this.dispose=function(){}}}const Pa=new sr,VW=new gt;function HW(n,e){function t(S,g){S.matrixAutoUpdate===!0&&S.updateMatrix(),g.value.copy(S.matrix)}function i(S,g){g.color.getRGB(S.fogColor.value,g8(n)),g.isFog?(S.fogNear.value=g.near,S.fogFar.value=g.far):g.isFogExp2&&(S.fogDensity.value=g.density)}function r(S,g,x,M,E){g.isMeshBasicMaterial||g.isMeshLambertMaterial?s(S,g):g.isMeshToonMaterial?(s(S,g),d(S,g)):g.isMeshPhongMaterial?(s(S,g),f(S,g)):g.isMeshStandardMaterial?(s(S,g),p(S,g),g.isMeshPhysicalMaterial&&m(S,g,E)):g.isMeshMatcapMaterial?(s(S,g),y(S,g)):g.isMeshDepthMaterial?s(S,g):g.isMeshDistanceMaterial?(s(S,g),w(S,g)):g.isMeshNormalMaterial?s(S,g):g.isLineBasicMaterial?(o(S,g),g.isLineDashedMaterial&&a(S,g)):g.isPointsMaterial?l(S,g,x,M):g.isSpriteMaterial?h(S,g):g.isShadowMaterial?(S.color.value.copy(g.color),S.opacity.value=g.opacity):g.isShaderMaterial&&(g.uniformsNeedUpdate=!1)}function s(S,g){S.opacity.value=g.opacity,g.color&&S.diffuse.value.copy(g.color),g.emissive&&S.emissive.value.copy(g.emissive).multiplyScalar(g.emissiveIntensity),g.map&&(S.map.value=g.map,t(g.map,S.mapTransform)),g.alphaMap&&(S.alphaMap.value=g.alphaMap,t(g.alphaMap,S.alphaMapTransform)),g.bumpMap&&(S.bumpMap.value=g.bumpMap,t(g.bumpMap,S.bumpMapTransform),S.bumpScale.value=g.bumpScale,g.side===wi&&(S.bumpScale.value*=-1)),g.normalMap&&(S.normalMap.value=g.normalMap,t(g.normalMap,S.normalMapTransform),S.normalScale.value.copy(g.normalScale),g.side===wi&&S.normalScale.value.negate()),g.displacementMap&&(S.displacementMap.value=g.displacementMap,t(g.displacementMap,S.displacementMapTransform),S.displacementScale.value=g.displacementScale,S.displacementBias.value=g.displacementBias),g.emissiveMap&&(S.emissiveMap.value=g.emissiveMap,t(g.emissiveMap,S.emissiveMapTransform)),g.specularMap&&(S.specularMap.value=g.specularMap,t(g.specularMap,S.specularMapTransform)),g.alphaTest>0&&(S.alphaTest.value=g.alphaTest);const x=e.get(g),M=x.envMap,E=x.envMapRotation;M&&(S.envMap.value=M,Pa.copy(E),Pa.x*=-1,Pa.y*=-1,Pa.z*=-1,M.isCubeTexture&&M.isRenderTargetTexture===!1&&(Pa.y*=-1,Pa.z*=-1),S.envMapRotation.value.setFromMatrix4(VW.makeRotationFromEuler(Pa)),S.flipEnvMap.value=M.isCubeTexture&&M.isRenderTargetTexture===!1?-1:1,S.reflectivity.value=g.reflectivity,S.ior.value=g.ior,S.refractionRatio.value=g.refractionRatio),g.lightMap&&(S.lightMap.value=g.lightMap,S.lightMapIntensity.value=g.lightMapIntensity,t(g.lightMap,S.lightMapTransform)),g.aoMap&&(S.aoMap.value=g.aoMap,S.aoMapIntensity.value=g.aoMapIntensity,t(g.aoMap,S.aoMapTransform))}function o(S,g){S.diffuse.value.copy(g.color),S.opacity.value=g.opacity,g.map&&(S.map.value=g.map,t(g.map,S.mapTransform))}function a(S,g){S.dashSize.value=g.dashSize,S.totalSize.value=g.dashSize+g.gapSize,S.scale.value=g.scale}function l(S,g,x,M){S.diffuse.value.copy(g.color),S.opacity.value=g.opacity,S.size.value=g.size*x,S.scale.value=M*.5,g.map&&(S.map.value=g.map,t(g.map,S.uvTransform)),g.alphaMap&&(S.alphaMap.value=g.alphaMap,t(g.alphaMap,S.alphaMapTransform)),g.alphaTest>0&&(S.alphaTest.value=g.alphaTest)}function h(S,g){S.diffuse.value.copy(g.color),S.opacity.value=g.opacity,S.rotation.value=g.rotation,g.map&&(S.map.value=g.map,t(g.map,S.mapTransform)),g.alphaMap&&(S.alphaMap.value=g.alphaMap,t(g.alphaMap,S.alphaMapTransform)),g.alphaTest>0&&(S.alphaTest.value=g.alphaTest)}function f(S,g){S.specular.value.copy(g.specular),S.shininess.value=Math.max(g.shininess,1e-4)}function d(S,g){g.gradientMap&&(S.gradientMap.value=g.gradientMap)}function p(S,g){S.metalness.value=g.metalness,g.metalnessMap&&(S.metalnessMap.value=g.metalnessMap,t(g.metalnessMap,S.metalnessMapTransform)),S.roughness.value=g.roughness,g.roughnessMap&&(S.roughnessMap.value=g.roughnessMap,t(g.roughnessMap,S.roughnessMapTransform)),g.envMap&&(S.envMapIntensity.value=g.envMapIntensity)}function m(S,g,x){S.ior.value=g.ior,g.sheen>0&&(S.sheenColor.value.copy(g.sheenColor).multiplyScalar(g.sheen),S.sheenRoughness.value=g.sheenRoughness,g.sheenColorMap&&(S.sheenColorMap.value=g.sheenColorMap,t(g.sheenColorMap,S.sheenColorMapTransform)),g.sheenRoughnessMap&&(S.sheenRoughnessMap.value=g.sheenRoughnessMap,t(g.sheenRoughnessMap,S.sheenRoughnessMapTransform))),g.clearcoat>0&&(S.clearcoat.value=g.clearcoat,S.clearcoatRoughness.value=g.clearcoatRoughness,g.clearcoatMap&&(S.clearcoatMap.value=g.clearcoatMap,t(g.clearcoatMap,S.clearcoatMapTransform)),g.clearcoatRoughnessMap&&(S.clearcoatRoughnessMap.value=g.clearcoatRoughnessMap,t(g.clearcoatRoughnessMap,S.clearcoatRoughnessMapTransform)),g.clearcoatNormalMap&&(S.clearcoatNormalMap.value=g.clearcoatNormalMap,t(g.clearcoatNormalMap,S.clearcoatNormalMapTransform),S.clearcoatNormalScale.value.copy(g.clearcoatNormalScale),g.side===wi&&S.clearcoatNormalScale.value.negate())),g.dispersion>0&&(S.dispersion.value=g.dispersion),g.iridescence>0&&(S.iridescence.value=g.iridescence,S.iridescenceIOR.value=g.iridescenceIOR,S.iridescenceThicknessMinimum.value=g.iridescenceThicknessRange[0],S.iridescenceThicknessMaximum.value=g.iridescenceThicknessRange[1],g.iridescenceMap&&(S.iridescenceMap.value=g.iridescenceMap,t(g.iridescenceMap,S.iridescenceMapTransform)),g.iridescenceThicknessMap&&(S.iridescenceThicknessMap.value=g.iridescenceThicknessMap,t(g.iridescenceThicknessMap,S.iridescenceThicknessMapTransform))),g.transmission>0&&(S.transmission.value=g.transmission,S.transmissionSamplerMap.value=x.texture,S.transmissionSamplerSize.value.set(x.width,x.height),g.transmissionMap&&(S.transmissionMap.value=g.transmissionMap,t(g.transmissionMap,S.transmissionMapTransform)),S.thickness.value=g.thickness,g.thicknessMap&&(S.thicknessMap.value=g.thicknessMap,t(g.thicknessMap,S.thicknessMapTransform)),S.attenuationDistance.value=g.attenuationDistance,S.attenuationColor.value.copy(g.attenuationColor)),g.anisotropy>0&&(S.anisotropyVector.value.set(g.anisotropy*Math.cos(g.anisotropyRotation),g.anisotropy*Math.sin(g.anisotropyRotation)),g.anisotropyMap&&(S.anisotropyMap.value=g.anisotropyMap,t(g.anisotropyMap,S.anisotropyMapTransform))),S.specularIntensity.value=g.specularIntensity,S.specularColor.value.copy(g.specularColor),g.specularColorMap&&(S.specularColorMap.value=g.specularColorMap,t(g.specularColorMap,S.specularColorMapTransform)),g.specularIntensityMap&&(S.specularIntensityMap.value=g.specularIntensityMap,t(g.specularIntensityMap,S.specularIntensityMapTransform))}function y(S,g){g.matcap&&(S.matcap.value=g.matcap)}function w(S,g){const x=e.get(g).light;S.referencePosition.value.setFromMatrixPosition(x.matrixWorld),S.nearDistance.value=x.shadow.camera.near,S.farDistance.value=x.shadow.camera.far}return{refreshFogUniforms:i,refreshMaterialUniforms:r}}function GW(n,e,t,i){let r={},s={},o=[];const a=n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS);function l(x,M){const E=M.program;i.uniformBlockBinding(x,E)}function h(x,M){let E=r[x.id];E===void 0&&(y(x),E=f(x),r[x.id]=E,x.addEventListener("dispose",S));const C=M.program;i.updateUBOMapping(x,C);const P=e.render.frame;s[x.id]!==P&&(p(x),s[x.id]=P)}function f(x){const M=d();x.__bindingPointIndex=M;const E=n.createBuffer(),C=x.__size,P=x.usage;return n.bindBuffer(n.UNIFORM_BUFFER,E),n.bufferData(n.UNIFORM_BUFFER,C,P),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,M,E),E}function d(){for(let x=0;x<a;x++)if(o.indexOf(x)===-1)return o.push(x),x;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function p(x){const M=r[x.id],E=x.uniforms,C=x.__cache;n.bindBuffer(n.UNIFORM_BUFFER,M);for(let P=0,I=E.length;P<I;P++){const L=Array.isArray(E[P])?E[P]:[E[P]];for(let R=0,A=L.length;R<A;R++){const k=L[R];if(m(k,P,R,C)===!0){const X=k.__offset,q=Array.isArray(k.value)?k.value:[k.value];let ne=0;for(let se=0;se<q.length;se++){const te=q[se],le=w(te);typeof te=="number"||typeof te=="boolean"?(k.__data[0]=te,n.bufferSubData(n.UNIFORM_BUFFER,X+ne,k.__data)):te.isMatrix3?(k.__data[0]=te.elements[0],k.__data[1]=te.elements[1],k.__data[2]=te.elements[2],k.__data[3]=0,k.__data[4]=te.elements[3],k.__data[5]=te.elements[4],k.__data[6]=te.elements[5],k.__data[7]=0,k.__data[8]=te.elements[6],k.__data[9]=te.elements[7],k.__data[10]=te.elements[8],k.__data[11]=0):(te.toArray(k.__data,ne),ne+=le.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,X,k.__data)}}}n.bindBuffer(n.UNIFORM_BUFFER,null)}function m(x,M,E,C){const P=x.value,I=M+"_"+E;if(C[I]===void 0)return typeof P=="number"||typeof P=="boolean"?C[I]=P:C[I]=P.clone(),!0;{const L=C[I];if(typeof P=="number"||typeof P=="boolean"){if(L!==P)return C[I]=P,!0}else if(L.equals(P)===!1)return L.copy(P),!0}return!1}function y(x){const M=x.uniforms;let E=0;const C=16;for(let I=0,L=M.length;I<L;I++){const R=Array.isArray(M[I])?M[I]:[M[I]];for(let A=0,k=R.length;A<k;A++){const X=R[A],q=Array.isArray(X.value)?X.value:[X.value];for(let ne=0,se=q.length;ne<se;ne++){const te=q[ne],le=w(te),U=E%C,W=U%le.boundary,H=U+W;E+=W,H!==0&&C-H<le.storage&&(E+=C-H),X.__data=new Float32Array(le.storage/Float32Array.BYTES_PER_ELEMENT),X.__offset=E,E+=le.storage}}}const P=E%C;return P>0&&(E+=C-P),x.__size=E,x.__cache={},this}function w(x){const M={boundary:0,storage:0};return typeof x=="number"||typeof x=="boolean"?(M.boundary=4,M.storage=4):x.isVector2?(M.boundary=8,M.storage=8):x.isVector3||x.isColor?(M.boundary=16,M.storage=12):x.isVector4?(M.boundary=16,M.storage=16):x.isMatrix3?(M.boundary=48,M.storage=48):x.isMatrix4?(M.boundary=64,M.storage=64):x.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",x),M}function S(x){const M=x.target;M.removeEventListener("dispose",S);const E=o.indexOf(M.__bindingPointIndex);o.splice(E,1),n.deleteBuffer(r[M.id]),delete r[M.id],delete s[M.id]}function g(){for(const x in r)n.deleteBuffer(r[x]);o=[],r={},s={}}return{bind:l,update:h,dispose:g}}class wC{constructor(e={}){const{canvas:t=d8(),context:i=null,depth:r=!0,stencil:s=!1,alpha:o=!1,antialias:a=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:h=!1,powerPreference:f="default",failIfMajorPerformanceCaveat:d=!1,reverseDepthBuffer:p=!1}=e;this.isWebGLRenderer=!0;let m;if(i!==null){if(typeof WebGLRenderingContext<"u"&&i instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");m=i.getContextAttributes().alpha}else m=o;const y=new Uint32Array(4),w=new Int32Array(4);let S=null,g=null;const x=[],M=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=fs,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const E=this;let C=!1;this._outputColorSpace=Ui;let P=0,I=0,L=null,R=-1,A=null;const k=new Bt,X=new Bt;let q=null;const ne=new ke(0);let se=0,te=t.width,le=t.height,U=1,W=null,H=null;const Z=new Bt(0,0,te,le),de=new Bt(0,0,te,le);let Te=!1;const ie=new tu;let _e=!1,we=!1;const Ae=new gt,tt=new gt,dt=new B,$e=new Bt,vt={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let wt=!1;function Qe(){return L===null?U:1}let z=i;function Le(O,Q){return t.getContext(O,Q)}try{const O={alpha:!0,depth:r,stencil:s,antialias:a,premultipliedAlpha:l,preserveDrawingBuffer:h,powerPreference:f,failIfMajorPerformanceCaveat:d};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${c1}`),t.addEventListener("webglcontextlost",ve,!1),t.addEventListener("webglcontextrestored",Ve,!1),t.addEventListener("webglcontextcreationerror",Ue,!1),z===null){const Q="webgl2";if(z=Le(Q,O),z===null)throw Le(Q)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(O){throw console.error("THREE.WebGLRenderer: "+O.message),O}let Se,Ce,ye,Je,Me,F,D,ee,ue,xe,fe,Ye,Ne,st,ct,Ee,Ge,at,pt,We,Y,me,ze,j;function Re(){Se=new tG(z),Se.init(),me=new MC(z,Se),Ce=new YH(z,Se,e,me),ye=new UW(z,Se),Ce.reverseDepthBuffer&&p&&ye.buffers.depth.setReversed(!0),Je=new rG(z),Me=new MW,F=new kW(z,Se,ye,Me,Ce,me,Je),D=new KH(E),ee=new eG(E),ue=new uB(z),ze=new XH(z,ue),xe=new nG(z,ue,Je,ze),fe=new oG(z,xe,ue,Je),pt=new sG(z,Ce,F),Ee=new ZH(Me),Ye=new SW(E,D,ee,Se,Ce,ze,Ee),Ne=new HW(E,Me),st=new EW,ct=new RW(Se),at=new jH(E,D,ee,ye,fe,m,l),Ge=new NW(E,fe,Ce),j=new GW(z,Je,Ce,ye),We=new qH(z,Se,Je),Y=new iG(z,Se,Je),Je.programs=Ye.programs,E.capabilities=Ce,E.extensions=Se,E.properties=Me,E.renderLists=st,E.shadowMap=Ge,E.state=ye,E.info=Je}Re();const ce=new BW(E,z);this.xr=ce,this.getContext=function(){return z},this.getContextAttributes=function(){return z.getContextAttributes()},this.forceContextLoss=function(){const O=Se.get("WEBGL_lose_context");O&&O.loseContext()},this.forceContextRestore=function(){const O=Se.get("WEBGL_lose_context");O&&O.restoreContext()},this.getPixelRatio=function(){return U},this.setPixelRatio=function(O){O!==void 0&&(U=O,this.setSize(te,le,!1))},this.getSize=function(O){return O.set(te,le)},this.setSize=function(O,Q,oe=!0){if(ce.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}te=O,le=Q,t.width=Math.floor(O*U),t.height=Math.floor(Q*U),oe===!0&&(t.style.width=O+"px",t.style.height=Q+"px"),this.setViewport(0,0,O,Q)},this.getDrawingBufferSize=function(O){return O.set(te*U,le*U).floor()},this.setDrawingBufferSize=function(O,Q,oe){te=O,le=Q,U=oe,t.width=Math.floor(O*oe),t.height=Math.floor(Q*oe),this.setViewport(0,0,O,Q)},this.getCurrentViewport=function(O){return O.copy(k)},this.getViewport=function(O){return O.copy(Z)},this.setViewport=function(O,Q,oe,ae){O.isVector4?Z.set(O.x,O.y,O.z,O.w):Z.set(O,Q,oe,ae),ye.viewport(k.copy(Z).multiplyScalar(U).round())},this.getScissor=function(O){return O.copy(de)},this.setScissor=function(O,Q,oe,ae){O.isVector4?de.set(O.x,O.y,O.z,O.w):de.set(O,Q,oe,ae),ye.scissor(X.copy(de).multiplyScalar(U).round())},this.getScissorTest=function(){return Te},this.setScissorTest=function(O){ye.setScissorTest(Te=O)},this.setOpaqueSort=function(O){W=O},this.setTransparentSort=function(O){H=O},this.getClearColor=function(O){return O.copy(at.getClearColor())},this.setClearColor=function(){at.setClearColor(...arguments)},this.getClearAlpha=function(){return at.getClearAlpha()},this.setClearAlpha=function(){at.setClearAlpha(...arguments)},this.clear=function(O=!0,Q=!0,oe=!0){let ae=0;if(O){let J=!1;if(L!==null){const be=L.texture.format;J=be===v1||be===g1||be===Sf}if(J){const be=L.texture.type,Oe=be===br||be===$s||be===zc||be===Bc||be===d1||be===p1,je=at.getClearColor(),Xe=at.getClearAlpha(),ut=je.r,ot=je.g,De=je.b;Oe?(y[0]=ut,y[1]=ot,y[2]=De,y[3]=Xe,z.clearBufferuiv(z.COLOR,0,y)):(w[0]=ut,w[1]=ot,w[2]=De,w[3]=Xe,z.clearBufferiv(z.COLOR,0,w))}else ae|=z.COLOR_BUFFER_BIT}Q&&(ae|=z.DEPTH_BUFFER_BIT),oe&&(ae|=z.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),z.clear(ae)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",ve,!1),t.removeEventListener("webglcontextrestored",Ve,!1),t.removeEventListener("webglcontextcreationerror",Ue,!1),at.dispose(),st.dispose(),ct.dispose(),Me.dispose(),D.dispose(),ee.dispose(),fe.dispose(),ze.dispose(),j.dispose(),Ye.dispose(),ce.dispose(),ce.removeEventListener("sessionstart",Lf),ce.removeEventListener("sessionend",Nf),qr.stop()};function ve(O){O.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),C=!0}function Ve(){console.log("THREE.WebGLRenderer: Context Restored."),C=!1;const O=Je.autoReset,Q=Ge.enabled,oe=Ge.autoUpdate,ae=Ge.needsUpdate,J=Ge.type;Re(),Je.autoReset=O,Ge.enabled=Q,Ge.autoUpdate=oe,Ge.needsUpdate=ae,Ge.type=J}function Ue(O){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",O.statusMessage)}function lt(O){const Q=O.target;Q.removeEventListener("dispose",lt),Ot(Q)}function Ot(O){en(O),Me.remove(O)}function en(O){const Q=Me.get(O).programs;Q!==void 0&&(Q.forEach(function(oe){Ye.releaseProgram(oe)}),O.isShaderMaterial&&Ye.releaseShaderCache(O))}this.renderBufferDirect=function(O,Q,oe,ae,J,be){Q===null&&(Q=vt);const Oe=J.isMesh&&J.matrixWorld.determinant()<0,je=G1(O,Q,oe,ae,J);ye.setMaterial(ae,Oe);let Xe=oe.index,ut=1;if(ae.wireframe===!0){if(Xe=xe.getWireframeAttribute(oe),Xe===void 0)return;ut=2}const ot=oe.drawRange,De=oe.attributes.position;let et=ot.start*ut,Pt=(ot.start+ot.count)*ut;be!==null&&(et=Math.max(et,be.start*ut),Pt=Math.min(Pt,(be.start+be.count)*ut)),Xe!==null?(et=Math.max(et,0),Pt=Math.min(Pt,Xe.count)):De!=null&&(et=Math.max(et,0),Pt=Math.min(Pt,De.count));const Lt=Pt-et;if(Lt<0||Lt===1/0)return;ze.setup(J,ae,je,oe,Xe);let Nt,bt=We;if(Xe!==null&&(Nt=ue.get(Xe),bt=Y,bt.setIndex(Nt)),J.isMesh)ae.wireframe===!0?(ye.setLineWidth(ae.wireframeLinewidth*Qe()),bt.setMode(z.LINES)):bt.setMode(z.TRIANGLES);else if(J.isLine){let nt=ae.linewidth;nt===void 0&&(nt=1),ye.setLineWidth(nt*Qe()),J.isLineSegments?bt.setMode(z.LINES):J.isLineLoop?bt.setMode(z.LINE_LOOP):bt.setMode(z.LINE_STRIP)}else J.isPoints?bt.setMode(z.POINTS):J.isSprite&&bt.setMode(z.TRIANGLES);if(J.isBatchedMesh)if(J._multiDrawInstances!==null)sp("THREE.WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),bt.renderMultiDrawInstances(J._multiDrawStarts,J._multiDrawCounts,J._multiDrawCount,J._multiDrawInstances);else if(Se.get("WEBGL_multi_draw"))bt.renderMultiDraw(J._multiDrawStarts,J._multiDrawCounts,J._multiDrawCount);else{const nt=J._multiDrawStarts,Gt=J._multiDrawCounts,kt=J._multiDrawCount,bi=Xe?ue.get(Xe).bytesPerElement:1,vs=Me.get(ae).currentProgram.getUniforms();for(let On=0;On<kt;On++)vs.setValue(z,"_gl_DrawID",On),bt.render(nt[On]/bi,Gt[On])}else if(J.isInstancedMesh)bt.renderInstances(et,Lt,J.count);else if(oe.isInstancedBufferGeometry){const nt=oe._maxInstanceCount!==void 0?oe._maxInstanceCount:1/0,Gt=Math.min(oe.instanceCount,nt);bt.renderInstances(et,Lt,Gt)}else bt.render(et,Lt)};function It(O,Q,oe){O.transparent===!0&&O.side===as&&O.forceSinglePass===!1?(O.side=wi,O.needsUpdate=!0,xl(O,Q,oe),O.side=Zs,O.needsUpdate=!0,xl(O,Q,oe),O.side=as):xl(O,Q,oe)}this.compile=function(O,Q,oe=null){oe===null&&(oe=O),g=ct.get(oe),g.init(Q),M.push(g),oe.traverseVisible(function(J){J.isLight&&J.layers.test(Q.layers)&&(g.pushLight(J),J.castShadow&&g.pushShadow(J))}),O!==oe&&O.traverseVisible(function(J){J.isLight&&J.layers.test(Q.layers)&&(g.pushLight(J),J.castShadow&&g.pushShadow(J))}),g.setupLights();const ae=new Set;return O.traverse(function(J){if(!(J.isMesh||J.isPoints||J.isLine||J.isSprite))return;const be=J.material;if(be)if(Array.isArray(be))for(let Oe=0;Oe<be.length;Oe++){const je=be[Oe];It(je,oe,J),ae.add(je)}else It(be,oe,J),ae.add(be)}),g=M.pop(),ae},this.compileAsync=function(O,Q,oe=null){const ae=this.compile(O,Q,oe);return new Promise(J=>{function be(){if(ae.forEach(function(Oe){Me.get(Oe).currentProgram.isReady()&&ae.delete(Oe)}),ae.size===0){J(O);return}setTimeout(be,10)}Se.get("KHR_parallel_shader_compile")!==null?be():setTimeout(be,10)})};let wn=null;function Jn(O){wn&&wn(O)}function Lf(){qr.stop()}function Nf(){qr.start()}const qr=new vC;qr.setAnimationLoop(Jn),typeof self<"u"&&qr.setContext(self),this.setAnimationLoop=function(O){wn=O,ce.setAnimationLoop(O),O===null?qr.stop():qr.start()},ce.addEventListener("sessionstart",Lf),ce.addEventListener("sessionend",Nf),this.render=function(O,Q){if(Q!==void 0&&Q.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(C===!0)return;if(O.matrixWorldAutoUpdate===!0&&O.updateMatrixWorld(),Q.parent===null&&Q.matrixWorldAutoUpdate===!0&&Q.updateMatrixWorld(),ce.enabled===!0&&ce.isPresenting===!0&&(ce.cameraAutoUpdate===!0&&ce.updateCamera(Q),Q=ce.getCamera()),O.isScene===!0&&O.onBeforeRender(E,O,Q,L),g=ct.get(O,M.length),g.init(Q),M.push(g),tt.multiplyMatrices(Q.projectionMatrix,Q.matrixWorldInverse),ie.setFromProjectionMatrix(tt),we=this.localClippingEnabled,_e=Ee.init(this.clippingPlanes,we),S=st.get(O,x.length),S.init(),x.push(S),ce.enabled===!0&&ce.isPresenting===!0){const be=E.xr.getDepthSensingMesh();be!==null&&oa(be,Q,-1/0,E.sortObjects)}oa(O,Q,0,E.sortObjects),S.finish(),E.sortObjects===!0&&S.sort(W,H),wt=ce.enabled===!1||ce.isPresenting===!1||ce.hasDepthSensing()===!1,wt&&at.addToRenderList(S,O),this.info.render.frame++,_e===!0&&Ee.beginShadows();const oe=g.state.shadowsArray;Ge.render(oe,O,Q),_e===!0&&Ee.endShadows(),this.info.autoReset===!0&&this.info.reset();const ae=S.opaque,J=S.transmissive;if(g.setupLights(),Q.isArrayCamera){const be=Q.cameras;if(J.length>0)for(let Oe=0,je=be.length;Oe<je;Oe++){const Xe=be[Oe];eo(ae,J,O,Xe)}wt&&at.render(O);for(let Oe=0,je=be.length;Oe<je;Oe++){const Xe=be[Oe];Df(S,O,Xe,Xe.viewport)}}else J.length>0&&eo(ae,J,O,Q),wt&&at.render(O),Df(S,O,Q);L!==null&&I===0&&(F.updateMultisampleRenderTarget(L),F.updateRenderTargetMipmap(L)),O.isScene===!0&&O.onAfterRender(E,O,Q),ze.resetDefaultState(),R=-1,A=null,M.pop(),M.length>0?(g=M[M.length-1],_e===!0&&Ee.setGlobalState(E.clippingPlanes,g.state.camera)):g=null,x.pop(),x.length>0?S=x[x.length-1]:S=null};function oa(O,Q,oe,ae){if(O.visible===!1)return;if(O.layers.test(Q.layers)){if(O.isGroup)oe=O.renderOrder;else if(O.isLOD)O.autoUpdate===!0&&O.update(Q);else if(O.isLight)g.pushLight(O),O.castShadow&&g.pushShadow(O);else if(O.isSprite){if(!O.frustumCulled||ie.intersectsSprite(O)){ae&&$e.setFromMatrixPosition(O.matrixWorld).applyMatrix4(tt);const Oe=fe.update(O),je=O.material;je.visible&&S.push(O,Oe,je,oe,$e.z,null)}}else if((O.isMesh||O.isLine||O.isPoints)&&(!O.frustumCulled||ie.intersectsObject(O))){const Oe=fe.update(O),je=O.material;if(ae&&(O.boundingSphere!==void 0?(O.boundingSphere===null&&O.computeBoundingSphere(),$e.copy(O.boundingSphere.center)):(Oe.boundingSphere===null&&Oe.computeBoundingSphere(),$e.copy(Oe.boundingSphere.center)),$e.applyMatrix4(O.matrixWorld).applyMatrix4(tt)),Array.isArray(je)){const Xe=Oe.groups;for(let ut=0,ot=Xe.length;ut<ot;ut++){const De=Xe[ut],et=je[De.materialIndex];et&&et.visible&&S.push(O,Oe,et,oe,$e.z,De)}}else je.visible&&S.push(O,Oe,je,oe,$e.z,null)}}const be=O.children;for(let Oe=0,je=be.length;Oe<je;Oe++)oa(be[Oe],Q,oe,ae)}function Df(O,Q,oe,ae){const J=O.opaque,be=O.transmissive,Oe=O.transparent;g.setupLightsView(oe),_e===!0&&Ee.setGlobalState(E.clippingPlanes,oe),ae&&ye.viewport(k.copy(ae)),J.length>0&&yl(J,Q,oe),be.length>0&&yl(be,Q,oe),Oe.length>0&&yl(Oe,Q,oe),ye.buffers.depth.setTest(!0),ye.buffers.depth.setMask(!0),ye.buffers.color.setMask(!0),ye.setPolygonOffset(!1)}function eo(O,Q,oe,ae){if((oe.isScene===!0?oe.overrideMaterial:null)!==null)return;g.state.transmissionRenderTarget[ae.id]===void 0&&(g.state.transmissionRenderTarget[ae.id]=new ps(1,1,{generateMipmaps:!0,type:Se.has("EXT_color_buffer_half_float")||Se.has("EXT_color_buffer_float")?eu:br,minFilter:ls,samples:4,stencilBuffer:s,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:Ft.workingColorSpace}));const be=g.state.transmissionRenderTarget[ae.id],Oe=ae.viewport||k;be.setSize(Oe.z*E.transmissionResolutionScale,Oe.w*E.transmissionResolutionScale);const je=E.getRenderTarget();E.setRenderTarget(be),E.getClearColor(ne),se=E.getClearAlpha(),se<1&&E.setClearColor(16777215,.5),E.clear(),wt&&at.render(oe);const Xe=E.toneMapping;E.toneMapping=fs;const ut=ae.viewport;if(ae.viewport!==void 0&&(ae.viewport=void 0),g.setupLightsView(ae),_e===!0&&Ee.setGlobalState(E.clippingPlanes,ae),yl(O,oe,ae),F.updateMultisampleRenderTarget(be),F.updateRenderTargetMipmap(be),Se.has("WEBGL_multisampled_render_to_texture")===!1){let ot=!1;for(let De=0,et=Q.length;De<et;De++){const Pt=Q[De],Lt=Pt.object,Nt=Pt.geometry,bt=Pt.material,nt=Pt.group;if(bt.side===as&&Lt.layers.test(ae.layers)){const Gt=bt.side;bt.side=wi,bt.needsUpdate=!0,Uf(Lt,oe,ae,Nt,bt,nt),bt.side=Gt,bt.needsUpdate=!0,ot=!0}}ot===!0&&(F.updateMultisampleRenderTarget(be),F.updateRenderTargetMipmap(be))}E.setRenderTarget(je),E.setClearColor(ne,se),ut!==void 0&&(ae.viewport=ut),E.toneMapping=Xe}function yl(O,Q,oe){const ae=Q.isScene===!0?Q.overrideMaterial:null;for(let J=0,be=O.length;J<be;J++){const Oe=O[J],je=Oe.object,Xe=Oe.geometry,ut=Oe.group;let ot=Oe.material;ot.allowOverride===!0&&ae!==null&&(ot=ae),je.layers.test(oe.layers)&&Uf(je,Q,oe,Xe,ot,ut)}}function Uf(O,Q,oe,ae,J,be){O.onBeforeRender(E,Q,oe,ae,J,be),O.modelViewMatrix.multiplyMatrices(oe.matrixWorldInverse,O.matrixWorld),O.normalMatrix.getNormalMatrix(O.modelViewMatrix),J.onBeforeRender(E,Q,oe,ae,O,be),J.transparent===!0&&J.side===as&&J.forceSinglePass===!1?(J.side=wi,J.needsUpdate=!0,E.renderBufferDirect(oe,Q,ae,J,O,be),J.side=Zs,J.needsUpdate=!0,E.renderBufferDirect(oe,Q,ae,J,O,be),J.side=as):E.renderBufferDirect(oe,Q,ae,J,O,be),O.onAfterRender(E,Q,oe,ae,J,be)}function xl(O,Q,oe){Q.isScene!==!0&&(Q=vt);const ae=Me.get(O),J=g.state.lights,be=g.state.shadowsArray,Oe=J.state.version,je=Ye.getParameters(O,J.state,be,Q,oe),Xe=Ye.getProgramCacheKey(je);let ut=ae.programs;ae.environment=O.isMeshStandardMaterial?Q.environment:null,ae.fog=Q.fog,ae.envMap=(O.isMeshStandardMaterial?ee:D).get(O.envMap||ae.environment),ae.envMapRotation=ae.environment!==null&&O.envMap===null?Q.environmentRotation:O.envMapRotation,ut===void 0&&(O.addEventListener("dispose",lt),ut=new Map,ae.programs=ut);let ot=ut.get(Xe);if(ot!==void 0){if(ae.currentProgram===ot&&ae.lightsStateVersion===Oe)return Of(O,je),ot}else je.uniforms=Ye.getUniforms(O),O.onBeforeCompile(je,E),ot=Ye.acquireProgram(je,Xe),ut.set(Xe,ot),ae.uniforms=je.uniforms;const De=ae.uniforms;return(!O.isShaderMaterial&&!O.isRawShaderMaterial||O.clipping===!0)&&(De.clippingPlanes=Ee.uniform),Of(O,je),ae.needsLights=Ff(O),ae.lightsStateVersion=Oe,ae.needsLights&&(De.ambientLightColor.value=J.state.ambient,De.lightProbe.value=J.state.probe,De.directionalLights.value=J.state.directional,De.directionalLightShadows.value=J.state.directionalShadow,De.spotLights.value=J.state.spot,De.spotLightShadows.value=J.state.spotShadow,De.rectAreaLights.value=J.state.rectArea,De.ltc_1.value=J.state.rectAreaLTC1,De.ltc_2.value=J.state.rectAreaLTC2,De.pointLights.value=J.state.point,De.pointLightShadows.value=J.state.pointShadow,De.hemisphereLights.value=J.state.hemi,De.directionalShadowMap.value=J.state.directionalShadowMap,De.directionalShadowMatrix.value=J.state.directionalShadowMatrix,De.spotShadowMap.value=J.state.spotShadowMap,De.spotLightMatrix.value=J.state.spotLightMatrix,De.spotLightMap.value=J.state.spotLightMap,De.pointShadowMap.value=J.state.pointShadowMap,De.pointShadowMatrix.value=J.state.pointShadowMatrix),ae.currentProgram=ot,ae.uniformsList=null,ot}function kf(O){if(O.uniformsList===null){const Q=O.currentProgram.getUniforms();O.uniformsList=ap.seqWithValue(Q.seq,O.uniforms)}return O.uniformsList}function Of(O,Q){const oe=Me.get(O);oe.outputColorSpace=Q.outputColorSpace,oe.batching=Q.batching,oe.batchingColor=Q.batchingColor,oe.instancing=Q.instancing,oe.instancingColor=Q.instancingColor,oe.instancingMorph=Q.instancingMorph,oe.skinning=Q.skinning,oe.morphTargets=Q.morphTargets,oe.morphNormals=Q.morphNormals,oe.morphColors=Q.morphColors,oe.morphTargetsCount=Q.morphTargetsCount,oe.numClippingPlanes=Q.numClippingPlanes,oe.numIntersection=Q.numClipIntersection,oe.vertexAlphas=Q.vertexAlphas,oe.vertexTangents=Q.vertexTangents,oe.toneMapping=Q.toneMapping}function G1(O,Q,oe,ae,J){Q.isScene!==!0&&(Q=vt),F.resetTextureUnits();const be=Q.fog,Oe=ae.isMeshStandardMaterial?Q.environment:null,je=L===null?E.outputColorSpace:L.isXRRenderTarget===!0?L.texture.colorSpace:sl,Xe=(ae.isMeshStandardMaterial?ee:D).get(ae.envMap||Oe),ut=ae.vertexColors===!0&&!!oe.attributes.color&&oe.attributes.color.itemSize===4,ot=!!oe.attributes.tangent&&(!!ae.normalMap||ae.anisotropy>0),De=!!oe.morphAttributes.position,et=!!oe.morphAttributes.normal,Pt=!!oe.morphAttributes.color;let Lt=fs;ae.toneMapped&&(L===null||L.isXRRenderTarget===!0)&&(Lt=E.toneMapping);const Nt=oe.morphAttributes.position||oe.morphAttributes.normal||oe.morphAttributes.color,bt=Nt!==void 0?Nt.length:0,nt=Me.get(ae),Gt=g.state.lights;if(_e===!0&&(we===!0||O!==A)){const Wn=O===A&&ae.id===R;Ee.setState(ae,O,Wn)}let kt=!1;ae.version===nt.__version?(nt.needsLights&&nt.lightsStateVersion!==Gt.state.version||nt.outputColorSpace!==je||J.isBatchedMesh&&nt.batching===!1||!J.isBatchedMesh&&nt.batching===!0||J.isBatchedMesh&&nt.batchingColor===!0&&J.colorTexture===null||J.isBatchedMesh&&nt.batchingColor===!1&&J.colorTexture!==null||J.isInstancedMesh&&nt.instancing===!1||!J.isInstancedMesh&&nt.instancing===!0||J.isSkinnedMesh&&nt.skinning===!1||!J.isSkinnedMesh&&nt.skinning===!0||J.isInstancedMesh&&nt.instancingColor===!0&&J.instanceColor===null||J.isInstancedMesh&&nt.instancingColor===!1&&J.instanceColor!==null||J.isInstancedMesh&&nt.instancingMorph===!0&&J.morphTexture===null||J.isInstancedMesh&&nt.instancingMorph===!1&&J.morphTexture!==null||nt.envMap!==Xe||ae.fog===!0&&nt.fog!==be||nt.numClippingPlanes!==void 0&&(nt.numClippingPlanes!==Ee.numPlanes||nt.numIntersection!==Ee.numIntersection)||nt.vertexAlphas!==ut||nt.vertexTangents!==ot||nt.morphTargets!==De||nt.morphNormals!==et||nt.morphColors!==Pt||nt.toneMapping!==Lt||nt.morphTargetsCount!==bt)&&(kt=!0):(kt=!0,nt.__version=ae.version);let bi=nt.currentProgram;kt===!0&&(bi=xl(ae,Q,J));let vs=!1,On=!1,to=!1;const Ut=bi.getUniforms(),Ci=nt.uniforms;if(ye.useProgram(bi.program)&&(vs=!0,On=!0,to=!0),ae.id!==R&&(R=ae.id,On=!0),vs||A!==O){ye.buffers.depth.getReversed()?(Ae.copy(O.projectionMatrix),RO(Ae),IO(Ae),Ut.setValue(z,"projectionMatrix",Ae)):Ut.setValue(z,"projectionMatrix",O.projectionMatrix),Ut.setValue(z,"viewMatrix",O.matrixWorldInverse);const Rn=Ut.map.cameraPosition;Rn!==void 0&&Rn.setValue(z,dt.setFromMatrixPosition(O.matrixWorld)),Ce.logarithmicDepthBuffer&&Ut.setValue(z,"logDepthBufFC",2/(Math.log(O.far+1)/Math.LN2)),(ae.isMeshPhongMaterial||ae.isMeshToonMaterial||ae.isMeshLambertMaterial||ae.isMeshBasicMaterial||ae.isMeshStandardMaterial||ae.isShaderMaterial)&&Ut.setValue(z,"isOrthographic",O.isOrthographicCamera===!0),A!==O&&(A=O,On=!0,to=!0)}if(J.isSkinnedMesh){Ut.setOptional(z,J,"bindMatrix"),Ut.setOptional(z,J,"bindMatrixInverse");const Wn=J.skeleton;Wn&&(Wn.boneTexture===null&&Wn.computeBoneTexture(),Ut.setValue(z,"boneTexture",Wn.boneTexture,F))}J.isBatchedMesh&&(Ut.setOptional(z,J,"batchingTexture"),Ut.setValue(z,"batchingTexture",J._matricesTexture,F),Ut.setOptional(z,J,"batchingIdTexture"),Ut.setValue(z,"batchingIdTexture",J._indirectTexture,F),Ut.setOptional(z,J,"batchingColorTexture"),J._colorsTexture!==null&&Ut.setValue(z,"batchingColorTexture",J._colorsTexture,F));const Pi=oe.morphAttributes;if((Pi.position!==void 0||Pi.normal!==void 0||Pi.color!==void 0)&&pt.update(J,oe,bi),(On||nt.receiveShadow!==J.receiveShadow)&&(nt.receiveShadow=J.receiveShadow,Ut.setValue(z,"receiveShadow",J.receiveShadow)),ae.isMeshGouraudMaterial&&ae.envMap!==null&&(Ci.envMap.value=Xe,Ci.flipEnvMap.value=Xe.isCubeTexture&&Xe.isRenderTargetTexture===!1?-1:1),ae.isMeshStandardMaterial&&ae.envMap===null&&Q.environment!==null&&(Ci.envMapIntensity.value=Q.environmentIntensity),On&&(Ut.setValue(z,"toneMappingExposure",E.toneMappingExposure),nt.needsLights&&W1(Ci,to),be&&ae.fog===!0&&Ne.refreshFogUniforms(Ci,be),Ne.refreshMaterialUniforms(Ci,ae,U,le,g.state.transmissionRenderTarget[O.id]),ap.upload(z,kf(nt),Ci,F)),ae.isShaderMaterial&&ae.uniformsNeedUpdate===!0&&(ap.upload(z,kf(nt),Ci,F),ae.uniformsNeedUpdate=!1),ae.isSpriteMaterial&&Ut.setValue(z,"center",J.center),Ut.setValue(z,"modelViewMatrix",J.modelViewMatrix),Ut.setValue(z,"normalMatrix",J.normalMatrix),Ut.setValue(z,"modelMatrix",J.matrixWorld),ae.isShaderMaterial||ae.isRawShaderMaterial){const Wn=ae.uniformsGroups;for(let Rn=0,no=Wn.length;Rn<no;Rn++){const ji=Wn[Rn];j.update(ji,bi),j.bind(ji,bi)}}return bi}function W1(O,Q){O.ambientLightColor.needsUpdate=Q,O.lightProbe.needsUpdate=Q,O.directionalLights.needsUpdate=Q,O.directionalLightShadows.needsUpdate=Q,O.pointLights.needsUpdate=Q,O.pointLightShadows.needsUpdate=Q,O.spotLights.needsUpdate=Q,O.spotLightShadows.needsUpdate=Q,O.rectAreaLights.needsUpdate=Q,O.hemisphereLights.needsUpdate=Q}function Ff(O){return O.isMeshLambertMaterial||O.isMeshToonMaterial||O.isMeshPhongMaterial||O.isMeshStandardMaterial||O.isShadowMaterial||O.isShaderMaterial&&O.lights===!0}this.getActiveCubeFace=function(){return P},this.getActiveMipmapLevel=function(){return I},this.getRenderTarget=function(){return L},this.setRenderTargetTextures=function(O,Q,oe){const ae=Me.get(O);ae.__autoAllocateDepthBuffer=O.resolveDepthBuffer===!1,ae.__autoAllocateDepthBuffer===!1&&(ae.__useRenderToTexture=!1),Me.get(O.texture).__webglTexture=Q,Me.get(O.depthTexture).__webglTexture=ae.__autoAllocateDepthBuffer?void 0:oe,ae.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(O,Q){const oe=Me.get(O);oe.__webglFramebuffer=Q,oe.__useDefaultFramebuffer=Q===void 0};const j1=z.createFramebuffer();this.setRenderTarget=function(O,Q=0,oe=0){L=O,P=Q,I=oe;let ae=!0,J=null,be=!1,Oe=!1;if(O){const Xe=Me.get(O);if(Xe.__useDefaultFramebuffer!==void 0)ye.bindFramebuffer(z.FRAMEBUFFER,null),ae=!1;else if(Xe.__webglFramebuffer===void 0)F.setupRenderTarget(O);else if(Xe.__hasExternalTextures)F.rebindTextures(O,Me.get(O.texture).__webglTexture,Me.get(O.depthTexture).__webglTexture);else if(O.depthBuffer){const De=O.depthTexture;if(Xe.__boundDepthTexture!==De){if(De!==null&&Me.has(De)&&(O.width!==De.image.width||O.height!==De.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");F.setupDepthRenderbuffer(O)}}const ut=O.texture;(ut.isData3DTexture||ut.isDataArrayTexture||ut.isCompressedArrayTexture)&&(Oe=!0);const ot=Me.get(O).__webglFramebuffer;O.isWebGLCubeRenderTarget?(Array.isArray(ot[Q])?J=ot[Q][oe]:J=ot[Q],be=!0):O.samples>0&&F.useMultisampledRTT(O)===!1?J=Me.get(O).__webglMultisampledFramebuffer:Array.isArray(ot)?J=ot[oe]:J=ot,k.copy(O.viewport),X.copy(O.scissor),q=O.scissorTest}else k.copy(Z).multiplyScalar(U).floor(),X.copy(de).multiplyScalar(U).floor(),q=Te;if(oe!==0&&(J=j1),ye.bindFramebuffer(z.FRAMEBUFFER,J)&&ae&&ye.drawBuffers(O,J),ye.viewport(k),ye.scissor(X),ye.setScissorTest(q),be){const Xe=Me.get(O.texture);z.framebufferTexture2D(z.FRAMEBUFFER,z.COLOR_ATTACHMENT0,z.TEXTURE_CUBE_MAP_POSITIVE_X+Q,Xe.__webglTexture,oe)}else if(Oe){const Xe=Me.get(O.texture),ut=Q;z.framebufferTextureLayer(z.FRAMEBUFFER,z.COLOR_ATTACHMENT0,Xe.__webglTexture,oe,ut)}else if(O!==null&&oe!==0){const Xe=Me.get(O.texture);z.framebufferTexture2D(z.FRAMEBUFFER,z.COLOR_ATTACHMENT0,z.TEXTURE_2D,Xe.__webglTexture,oe)}R=-1},this.readRenderTargetPixels=function(O,Q,oe,ae,J,be,Oe){if(!(O&&O.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let je=Me.get(O).__webglFramebuffer;if(O.isWebGLCubeRenderTarget&&Oe!==void 0&&(je=je[Oe]),je){ye.bindFramebuffer(z.FRAMEBUFFER,je);try{const Xe=O.texture,ut=Xe.format,ot=Xe.type;if(!Ce.textureFormatReadable(ut)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!Ce.textureTypeReadable(ot)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}Q>=0&&Q<=O.width-ae&&oe>=0&&oe<=O.height-J&&z.readPixels(Q,oe,ae,J,me.convert(ut),me.convert(ot),be)}finally{const Xe=L!==null?Me.get(L).__webglFramebuffer:null;ye.bindFramebuffer(z.FRAMEBUFFER,Xe)}}},this.readRenderTargetPixelsAsync=async function(O,Q,oe,ae,J,be,Oe){if(!(O&&O.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let je=Me.get(O).__webglFramebuffer;if(O.isWebGLCubeRenderTarget&&Oe!==void 0&&(je=je[Oe]),je)if(Q>=0&&Q<=O.width-ae&&oe>=0&&oe<=O.height-J){ye.bindFramebuffer(z.FRAMEBUFFER,je);const Xe=O.texture,ut=Xe.format,ot=Xe.type;if(!Ce.textureFormatReadable(ut))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!Ce.textureTypeReadable(ot))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const De=z.createBuffer();z.bindBuffer(z.PIXEL_PACK_BUFFER,De),z.bufferData(z.PIXEL_PACK_BUFFER,be.byteLength,z.STREAM_READ),z.readPixels(Q,oe,ae,J,me.convert(ut),me.convert(ot),0);const et=L!==null?Me.get(L).__webglFramebuffer:null;ye.bindFramebuffer(z.FRAMEBUFFER,et);const Pt=z.fenceSync(z.SYNC_GPU_COMMANDS_COMPLETE,0);return z.flush(),await PO(z,Pt,4),z.bindBuffer(z.PIXEL_PACK_BUFFER,De),z.getBufferSubData(z.PIXEL_PACK_BUFFER,0,be),z.deleteBuffer(De),z.deleteSync(Pt),be}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")},this.copyFramebufferToTexture=function(O,Q=null,oe=0){const ae=Math.pow(2,-oe),J=Math.floor(O.image.width*ae),be=Math.floor(O.image.height*ae),Oe=Q!==null?Q.x:0,je=Q!==null?Q.y:0;F.setTexture2D(O,0),z.copyTexSubImage2D(z.TEXTURE_2D,oe,0,0,Oe,je,J,be),ye.unbindTexture()};const X1=z.createFramebuffer(),q1=z.createFramebuffer();this.copyTextureToTexture=function(O,Q,oe=null,ae=null,J=0,be=null){be===null&&(J!==0?(sp("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),be=J,J=0):be=0);let Oe,je,Xe,ut,ot,De,et,Pt,Lt;const Nt=O.isCompressedTexture?O.mipmaps[be]:O.image;if(oe!==null)Oe=oe.max.x-oe.min.x,je=oe.max.y-oe.min.y,Xe=oe.isBox3?oe.max.z-oe.min.z:1,ut=oe.min.x,ot=oe.min.y,De=oe.isBox3?oe.min.z:0;else{const Pi=Math.pow(2,-J);Oe=Math.floor(Nt.width*Pi),je=Math.floor(Nt.height*Pi),O.isDataArrayTexture?Xe=Nt.depth:O.isData3DTexture?Xe=Math.floor(Nt.depth*Pi):Xe=1,ut=0,ot=0,De=0}ae!==null?(et=ae.x,Pt=ae.y,Lt=ae.z):(et=0,Pt=0,Lt=0);const bt=me.convert(Q.format),nt=me.convert(Q.type);let Gt;Q.isData3DTexture?(F.setTexture3D(Q,0),Gt=z.TEXTURE_3D):Q.isDataArrayTexture||Q.isCompressedArrayTexture?(F.setTexture2DArray(Q,0),Gt=z.TEXTURE_2D_ARRAY):(F.setTexture2D(Q,0),Gt=z.TEXTURE_2D),z.pixelStorei(z.UNPACK_FLIP_Y_WEBGL,Q.flipY),z.pixelStorei(z.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Q.premultiplyAlpha),z.pixelStorei(z.UNPACK_ALIGNMENT,Q.unpackAlignment);const kt=z.getParameter(z.UNPACK_ROW_LENGTH),bi=z.getParameter(z.UNPACK_IMAGE_HEIGHT),vs=z.getParameter(z.UNPACK_SKIP_PIXELS),On=z.getParameter(z.UNPACK_SKIP_ROWS),to=z.getParameter(z.UNPACK_SKIP_IMAGES);z.pixelStorei(z.UNPACK_ROW_LENGTH,Nt.width),z.pixelStorei(z.UNPACK_IMAGE_HEIGHT,Nt.height),z.pixelStorei(z.UNPACK_SKIP_PIXELS,ut),z.pixelStorei(z.UNPACK_SKIP_ROWS,ot),z.pixelStorei(z.UNPACK_SKIP_IMAGES,De);const Ut=O.isDataArrayTexture||O.isData3DTexture,Ci=Q.isDataArrayTexture||Q.isData3DTexture;if(O.isDepthTexture){const Pi=Me.get(O),Wn=Me.get(Q),Rn=Me.get(Pi.__renderTarget),no=Me.get(Wn.__renderTarget);ye.bindFramebuffer(z.READ_FRAMEBUFFER,Rn.__webglFramebuffer),ye.bindFramebuffer(z.DRAW_FRAMEBUFFER,no.__webglFramebuffer);for(let ji=0;ji<Xe;ji++)Ut&&(z.framebufferTextureLayer(z.READ_FRAMEBUFFER,z.COLOR_ATTACHMENT0,Me.get(O).__webglTexture,J,De+ji),z.framebufferTextureLayer(z.DRAW_FRAMEBUFFER,z.COLOR_ATTACHMENT0,Me.get(Q).__webglTexture,be,Lt+ji)),z.blitFramebuffer(ut,ot,Oe,je,et,Pt,Oe,je,z.DEPTH_BUFFER_BIT,z.NEAREST);ye.bindFramebuffer(z.READ_FRAMEBUFFER,null),ye.bindFramebuffer(z.DRAW_FRAMEBUFFER,null)}else if(J!==0||O.isRenderTargetTexture||Me.has(O)){const Pi=Me.get(O),Wn=Me.get(Q);ye.bindFramebuffer(z.READ_FRAMEBUFFER,X1),ye.bindFramebuffer(z.DRAW_FRAMEBUFFER,q1);for(let Rn=0;Rn<Xe;Rn++)Ut?z.framebufferTextureLayer(z.READ_FRAMEBUFFER,z.COLOR_ATTACHMENT0,Pi.__webglTexture,J,De+Rn):z.framebufferTexture2D(z.READ_FRAMEBUFFER,z.COLOR_ATTACHMENT0,z.TEXTURE_2D,Pi.__webglTexture,J),Ci?z.framebufferTextureLayer(z.DRAW_FRAMEBUFFER,z.COLOR_ATTACHMENT0,Wn.__webglTexture,be,Lt+Rn):z.framebufferTexture2D(z.DRAW_FRAMEBUFFER,z.COLOR_ATTACHMENT0,z.TEXTURE_2D,Wn.__webglTexture,be),J!==0?z.blitFramebuffer(ut,ot,Oe,je,et,Pt,Oe,je,z.COLOR_BUFFER_BIT,z.NEAREST):Ci?z.copyTexSubImage3D(Gt,be,et,Pt,Lt+Rn,ut,ot,Oe,je):z.copyTexSubImage2D(Gt,be,et,Pt,ut,ot,Oe,je);ye.bindFramebuffer(z.READ_FRAMEBUFFER,null),ye.bindFramebuffer(z.DRAW_FRAMEBUFFER,null)}else Ci?O.isDataTexture||O.isData3DTexture?z.texSubImage3D(Gt,be,et,Pt,Lt,Oe,je,Xe,bt,nt,Nt.data):Q.isCompressedArrayTexture?z.compressedTexSubImage3D(Gt,be,et,Pt,Lt,Oe,je,Xe,bt,Nt.data):z.texSubImage3D(Gt,be,et,Pt,Lt,Oe,je,Xe,bt,nt,Nt):O.isDataTexture?z.texSubImage2D(z.TEXTURE_2D,be,et,Pt,Oe,je,bt,nt,Nt.data):O.isCompressedTexture?z.compressedTexSubImage2D(z.TEXTURE_2D,be,et,Pt,Nt.width,Nt.height,bt,Nt.data):z.texSubImage2D(z.TEXTURE_2D,be,et,Pt,Oe,je,bt,nt,Nt);z.pixelStorei(z.UNPACK_ROW_LENGTH,kt),z.pixelStorei(z.UNPACK_IMAGE_HEIGHT,bi),z.pixelStorei(z.UNPACK_SKIP_PIXELS,vs),z.pixelStorei(z.UNPACK_SKIP_ROWS,On),z.pixelStorei(z.UNPACK_SKIP_IMAGES,to),be===0&&Q.generateMipmaps&&z.generateMipmap(Gt),ye.unbindTexture()},this.copyTextureToTexture3D=function(O,Q,oe=null,ae=null,J=0){return sp('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(O,Q,oe,ae,J)},this.initRenderTarget=function(O){Me.get(O).__webglFramebuffer===void 0&&F.setupRenderTarget(O)},this.initTexture=function(O){O.isCubeTexture?F.setTextureCube(O,0):O.isData3DTexture?F.setTexture3D(O,0):O.isDataArrayTexture||O.isCompressedArrayTexture?F.setTexture2DArray(O,0):F.setTexture2D(O,0),ye.unbindTexture()},this.resetState=function(){P=0,I=0,L=null,ye.reset(),ze.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return wr}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorSpace=Ft._getDrawingBufferColorSpace(e),t.unpackColorSpace=Ft._getUnpackColorSpace()}}const WW=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:L3,AddEquation:bo,AddOperation:jb,AdditiveAnimationBlendMode:V3,AdditiveBlending:Ky,AgXToneMapping:Kb,AlphaFormat:O3,AlwaysCompare:h8,AlwaysDepth:Kp,AlwaysStencilFunc:ex,AmbientLight:sC,AnimationAction:pC,AnimationClip:lf,AnimationLoader:rz,AnimationMixer:Nz,AnimationObjectGroup:Iz,AnimationUtils:ez,ArcCurve:R8,ArrayCamera:hC,ArrowHelper:tB,AttachedBindMode:Qy,Audio:fC,AudioAnalyser:Sz,AudioContext:u_,AudioListener:yz,AudioLoader:mz,AxesHelper:nB,BackSide:wi,BasicDepthPacking:n8,BasicShadowMap:Tb,BatchedMesh:T8,Bone:Y3,BooleanKeyframeTrack:ml,Box2:Vz,Box3:fi,Box3Helper:Qz,BoxGeometry:pl,BoxHelper:Jz,BufferAttribute:Zt,BufferGeometry:Tt,BufferGeometryLoader:uC,ByteType:D3,Cache:Fs,Camera:wf,CameraHelper:$z,CanvasTexture:MF,CapsuleGeometry:C1,CatmullRomCurve3:I8,CineonToneMapping:Yb,CircleGeometry:P1,ClampToEdgeWrapping:Mr,Clock:h_,Color:ke,ColorKeyframeTrack:a_,ColorManagement:Ft,CompressedArrayTexture:_F,CompressedCubeTexture:SF,CompressedTexture:A1,CompressedTextureLoader:sz,ConeGeometry:Af,ConstantAlphaFactor:Hb,ConstantColorFactor:Bb,Controls:rB,CubeCamera:y8,CubeReflectionMapping:Ks,CubeRefractionMapping:Zo,CubeTexture:Ef,CubeTextureLoader:oz,CubeUVReflectionMapping:Qc,CubicBezierCurve:$3,CubicBezierCurve3:L8,CubicInterpolant:$8,CullFaceBack:Zy,CullFaceFront:Eb,CullFaceFrontBack:Ck,CullFaceNone:wb,Curve:Xr,CurvePath:D8,CustomBlending:Ab,CustomToneMapping:Zb,CylinderGeometry:Tf,Cylindrical:Bz,Data3DTexture:_1,DataArrayTexture:Mf,DataTexture:ds,DataTextureLoader:az,DataUtils:XO,DecrementStencilOp:Hk,DecrementWrapStencilOp:Wk,DefaultLoadingManager:eC,DepthArrayTexture:wF,DepthFormat:Vc,DepthStencilFormat:Hc,DepthTexture:b1,DetachedBindMode:Jb,DirectionalLight:rC,DirectionalLightHelper:Kz,DiscreteInterpolant:J8,DodecahedronGeometry:R1,DoubleSide:as,DstAlphaFactor:Ub,DstColorFactor:Ob,DynamicCopyUsage:sO,DynamicDrawUsage:Qk,DynamicReadUsage:nO,EdgesGeometry:P8,EllipseCurve:I1,EqualCompare:a8,EqualDepth:Jp,EqualStencilFunc:Yk,EquirectangularReflectionMapping:Xh,EquirectangularRefractionMapping:qh,Euler:sr,EventDispatcher:ms,ExtrudeGeometry:L1,FileLoader:Js,Float16BufferAttribute:QO,Float32BufferAttribute:Ke,FloatType:zi,Fog:M1,FogExp2:S1,FramebufferTexture:xF,FrontSide:Zs,Frustum:tu,FrustumArray:T1,GLBufferAttribute:zz,GLSL1:aO,GLSL3:tx,GreaterCompare:l8,GreaterDepth:em,GreaterEqualCompare:u8,GreaterEqualDepth:Qp,GreaterEqualStencilFunc:Jk,GreaterStencilFunc:Kk,GridHelper:Yz,Group:xc,HalfFloatType:eu,HemisphereLight:tC,HemisphereLightHelper:qz,IcosahedronGeometry:N1,ImageBitmapLoader:pz,ImageLoader:cf,ImageUtils:p8,IncrementStencilOp:Vk,IncrementWrapStencilOp:Gk,InstancedBufferAttribute:jc,InstancedBufferGeometry:cC,InstancedInterleavedBuffer:Fz,InstancedMesh:E8,Int16BufferAttribute:$O,Int32BufferAttribute:JO,Int8BufferAttribute:YO,IntType:f1,InterleavedBuffer:w1,InterleavedBufferAttribute:ol,Interpolant:Pf,InterpolateDiscrete:Kh,InterpolateLinear:Cm,InterpolateSmooth:rp,InterpolationSamplingMode:uO,InterpolationSamplingType:cO,InvertStencilOp:jk,KeepStencilOp:Oa,KeyframeTrack:Cr,LOD:M8,LatheGeometry:D1,Layers:$a,LessCompare:o8,LessDepth:$p,LessEqualCompare:H3,LessEqualDepth:rl,LessEqualStencilFunc:Zk,LessStencilFunc:qk,Light:sa,LightProbe:lC,Line:Ko,Line3:Hz,LineBasicMaterial:Ai,LineCurve:J3,LineCurve3:N8,LineDashedMaterial:Y8,LineLoop:A8,LineSegments:gs,LinearFilter:Dn,LinearInterpolant:o_,LinearMipMapLinearFilter:Lk,LinearMipMapNearestFilter:Ik,LinearMipmapLinearFilter:ls,LinearMipmapNearestFilter:mh,LinearSRGBColorSpace:sl,LinearToneMapping:Xb,LinearTransfer:Jh,Loader:Wi,LoaderUtils:ox,LoadingManager:l_,LoopOnce:Qb,LoopPingPong:t8,LoopRepeat:e8,MOUSE:Ua,Material:pi,MaterialLoader:V1,MathUtils:bO,Matrix2:m_,Matrix3:Mt,Matrix4:gt,MaxEquation:Rb,Mesh:Pn,MeshBasicMaterial:ia,MeshDepthMaterial:i_,MeshDistanceMaterial:r_,MeshLambertMaterial:X8,MeshMatcapMaterial:q8,MeshNormalMaterial:j8,MeshPhongMaterial:G8,MeshPhysicalMaterial:H8,MeshStandardMaterial:n_,MeshToonMaterial:W8,MinEquation:Pb,MirroredRepeatWrapping:Zh,MixOperation:Wb,MultiplyBlending:Jy,MultiplyOperation:_f,NearestFilter:Yn,NearestMipMapLinearFilter:Rk,NearestMipMapNearestFilter:Pk,NearestMipmapLinearFilter:vc,NearestMipmapNearestFilter:N3,NeutralToneMapping:$b,NeverCompare:s8,NeverDepth:Zp,NeverStencilFunc:Xk,NoBlending:Hs,NoColorSpace:Ns,NoToneMapping:fs,NormalAnimationBlendMode:y1,NormalBlending:Za,NotEqualCompare:c8,NotEqualDepth:tm,NotEqualStencilFunc:$k,NumberKeyframeTrack:of,Object3D:Ht,ObjectLoader:fz,ObjectSpaceNormalMap:r8,OctahedronGeometry:bf,OneFactor:Lb,OneMinusConstantAlphaFactor:Gb,OneMinusConstantColorFactor:Vb,OneMinusDstAlphaFactor:kb,OneMinusDstColorFactor:Fb,OneMinusSrcAlphaFactor:Yp,OneMinusSrcColorFactor:Db,OrthographicCamera:Wo,PCFShadowMap:u1,PCFSoftShadowMap:ph,PMREMGenerator:ux,Path:Lm,PerspectiveCamera:Mn,Plane:Ls,PlaneGeometry:nu,PlaneHelper:eB,PointLight:iC,PointLightHelper:jz,Points:b8,PointsMaterial:Z3,PolarGridHelper:Zz,PolyhedronGeometry:ra,PositionalAudio:_z,PropertyBinding:zt,PropertyMixer:dC,QuadraticBezierCurve:Q3,QuadraticBezierCurve3:e_,Quaternion:hi,QuaternionKeyframeTrack:Rf,QuaternionLinearInterpolant:Q8,RED_GREEN_RGTC2_Format:Am,RED_RGTC1_Format:B3,REVISION:c1,RGBADepthPacking:i8,RGBAFormat:ui,RGBAIntegerFormat:v1,RGBA_ASTC_10x10_Format:_m,RGBA_ASTC_10x5_Format:vm,RGBA_ASTC_10x6_Format:ym,RGBA_ASTC_10x8_Format:xm,RGBA_ASTC_12x10_Format:Sm,RGBA_ASTC_12x12_Format:Mm,RGBA_ASTC_4x4_Format:cm,RGBA_ASTC_5x4_Format:um,RGBA_ASTC_5x5_Format:hm,RGBA_ASTC_6x5_Format:fm,RGBA_ASTC_6x6_Format:dm,RGBA_ASTC_8x5_Format:pm,RGBA_ASTC_8x6_Format:mm,RGBA_ASTC_8x8_Format:gm,RGBA_BPTC_Format:_h,RGBA_ETC2_EAC_Format:lm,RGBA_PVRTC_2BPPV1_Format:sm,RGBA_PVRTC_4BPPV1_Format:rm,RGBA_S3TC_DXT1_Format:vh,RGBA_S3TC_DXT3_Format:yh,RGBA_S3TC_DXT5_Format:xh,RGBDepthPacking:Ok,RGBFormat:F3,RGBIntegerFormat:Nk,RGB_BPTC_SIGNED_Format:wm,RGB_BPTC_UNSIGNED_Format:Em,RGB_ETC1_Format:om,RGB_ETC2_Format:am,RGB_PVRTC_2BPPV1_Format:im,RGB_PVRTC_4BPPV1_Format:nm,RGB_S3TC_DXT1_Format:gh,RGDepthPacking:Fk,RGFormat:z3,RGIntegerFormat:g1,RawShaderMaterial:V8,Ray:dl,Raycaster:mC,RectAreaLight:oC,RedFormat:m1,RedIntegerFormat:Sf,ReinhardToneMapping:qb,RenderTarget:x1,RenderTarget3D:Dz,RenderTargetArray:Uz,RepeatWrapping:Yh,ReplaceStencilOp:Bk,ReverseSubtractEquation:Cb,RingGeometry:U1,SIGNED_RED_GREEN_RGTC2_Format:bm,SIGNED_RED_RGTC1_Format:Tm,SRGBColorSpace:Ui,SRGBTransfer:qt,Scene:X3,ShaderChunk:At,ShaderLib:zr,ShaderMaterial:jr,ShadowMaterial:B8,Shape:Ja,ShapeGeometry:k1,ShapePath:iB,ShapeUtils:Vr,ShortType:U3,Skeleton:E1,SkeletonHelper:Wz,SkinnedMesh:w8,Source:Io,Sphere:Zn,SphereGeometry:Cf,Spherical:lx,SphericalHarmonics3:aC,SplineCurve:t_,SpotLight:nC,SpotLightHelper:Gz,Sprite:S8,SpriteMaterial:q3,SrcAlphaFactor:qp,SrcAlphaSaturateFactor:zb,SrcColorFactor:Nb,StaticCopyUsage:rO,StaticDrawUsage:Qh,StaticReadUsage:tO,StereoCamera:gz,StreamCopyUsage:oO,StreamDrawUsage:eO,StreamReadUsage:iO,StringKeyframeTrack:gl,SubtractEquation:bb,SubtractiveBlending:$y,TOUCH:ka,TangentSpaceNormalMap:na,TetrahedronGeometry:O1,Texture:yn,TextureLoader:lz,TextureUtils:cB,TimestampQuery:lO,TorusGeometry:F1,TorusKnotGeometry:z1,Triangle:Oi,TriangleFanDrawMode:kk,TriangleStripDrawMode:Uk,TrianglesDrawMode:Dk,TubeGeometry:B1,UVMapping:h1,Uint16BufferAttribute:W3,Uint32BufferAttribute:j3,Uint8BufferAttribute:ZO,Uint8ClampedBufferAttribute:KO,Uniform:p_,UniformsGroup:Oz,UniformsLib:Fe,UniformsUtils:v8,UnsignedByteType:br,UnsignedInt248Type:Bc,UnsignedInt5999Type:k3,UnsignedIntType:$s,UnsignedShort4444Type:d1,UnsignedShort5551Type:p1,UnsignedShortType:zc,VSMShadowMap:kr,Vector2:ge,Vector3:B,Vector4:Bt,VectorKeyframeTrack:af,VideoFrameTexture:yF,VideoTexture:C8,WebGL3DRenderTarget:kO,WebGLArrayRenderTarget:UO,WebGLCoordinateSystem:wr,WebGLCubeRenderTarget:x8,WebGLRenderTarget:ps,WebGLRenderer:wC,WebGLUtils:MC,WebGPUCoordinateSystem:ef,WebXRController:op,WireframeGeometry:z8,WrapAroundEnding:$h,ZeroCurvatureEnding:Wa,ZeroFactor:Ib,ZeroSlopeEnding:ja,ZeroStencilOp:zk,createCanvasElement:d8},Symbol.toStringTag,{value:"Module"}));var EC={exports:{}},vl={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */vl.ConcurrentRoot=1;vl.ContinuousEventPriority=4;vl.DefaultEventPriority=16;vl.DiscreteEventPriority=1;vl.IdleEventPriority=536870912;vl.LegacyRoot=0;EC.exports=vl;var Sc=EC.exports;function jW(n){let e;const t=new Set,i=(h,f)=>{const d=typeof h=="function"?h(e):h;if(d!==e){const p=e;e=f?d:Object.assign({},e,d),t.forEach(m=>m(e,p))}},r=()=>e,s=(h,f=r,d=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let p=f(e);function m(){const y=f(e);if(!d(p,y)){const w=p;h(p=y,w)}}return t.add(m),()=>t.delete(m)},l={setState:i,getState:r,subscribe:(h,f,d)=>f||d?s(h,f,d):(t.add(h),()=>t.delete(h)),destroy:()=>t.clear()};return e=n(i,r,l),l}const XW=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),n6=XW?G.useEffect:G.useLayoutEffect;function qW(n){const e=typeof n=="function"?jW(n):n,t=(i=e.getState,r=Object.is)=>{const[,s]=G.useReducer(S=>S+1,0),o=e.getState(),a=G.useRef(o),l=G.useRef(i),h=G.useRef(r),f=G.useRef(!1),d=G.useRef();d.current===void 0&&(d.current=i(o));let p,m=!1;(a.current!==o||l.current!==i||h.current!==r||f.current)&&(p=i(o),m=!r(d.current,p)),n6(()=>{m&&(d.current=p),a.current=o,l.current=i,h.current=r,f.current=!1});const y=G.useRef(o);n6(()=>{const S=()=>{try{const x=e.getState(),M=l.current(x);h.current(d.current,M)||(a.current=x,d.current=M,s())}catch{f.current=!0,s()}},g=e.subscribe(S);return e.getState()!==y.current&&S(),g},[]);const w=m?p:d.current;return G.useDebugValue(w),w};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const i=[t,e];return{next(){const r=i.length<=0;return{value:i.shift(),done:r}}}},t}var TC={exports:{}},b2={exports:{}},C2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i6;function YW(){return i6||(i6=1,function(n){function e(U,W){var H=U.length;U.push(W);e:for(;0<H;){var Z=H-1>>>1,de=U[Z];if(0<r(de,W))U[Z]=W,U[H]=de,H=Z;else break e}}function t(U){return U.length===0?null:U[0]}function i(U){if(U.length===0)return null;var W=U[0],H=U.pop();if(H!==W){U[0]=H;e:for(var Z=0,de=U.length,Te=de>>>1;Z<Te;){var ie=2*(Z+1)-1,_e=U[ie],we=ie+1,Ae=U[we];if(0>r(_e,H))we<de&&0>r(Ae,_e)?(U[Z]=Ae,U[we]=H,Z=we):(U[Z]=_e,U[ie]=H,Z=ie);else if(we<de&&0>r(Ae,H))U[Z]=Ae,U[we]=H,Z=we;else break e}}return W}function r(U,W){var H=U.sortIndex-W.sortIndex;return H!==0?H:U.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],h=[],f=1,d=null,p=3,m=!1,y=!1,w=!1,S=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function M(U){for(var W=t(h);W!==null;){if(W.callback===null)i(h);else if(W.startTime<=U)i(h),W.sortIndex=W.expirationTime,e(l,W);else break;W=t(h)}}function E(U){if(w=!1,M(U),!y)if(t(l)!==null)y=!0,te(C);else{var W=t(h);W!==null&&le(E,W.startTime-U)}}function C(U,W){y=!1,w&&(w=!1,g(L),L=-1),m=!0;var H=p;try{for(M(W),d=t(l);d!==null&&(!(d.expirationTime>W)||U&&!k());){var Z=d.callback;if(typeof Z=="function"){d.callback=null,p=d.priorityLevel;var de=Z(d.expirationTime<=W);W=n.unstable_now(),typeof de=="function"?d.callback=de:d===t(l)&&i(l),M(W)}else i(l);d=t(l)}if(d!==null)var Te=!0;else{var ie=t(h);ie!==null&&le(E,ie.startTime-W),Te=!1}return Te}finally{d=null,p=H,m=!1}}var P=!1,I=null,L=-1,R=5,A=-1;function k(){return!(n.unstable_now()-A<R)}function X(){if(I!==null){var U=n.unstable_now();A=U;var W=!0;try{W=I(!0,U)}finally{W?q():(P=!1,I=null)}}else P=!1}var q;if(typeof x=="function")q=function(){x(X)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,se=ne.port2;ne.port1.onmessage=X,q=function(){se.postMessage(null)}}else q=function(){S(X,0)};function te(U){I=U,P||(P=!0,q())}function le(U,W){L=S(function(){U(n.unstable_now())},W)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(U){U.callback=null},n.unstable_continueExecution=function(){y||m||(y=!0,te(C))},n.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<U?Math.floor(1e3/U):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(U){switch(p){case 1:case 2:case 3:var W=3;break;default:W=p}var H=p;p=W;try{return U()}finally{p=H}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(U,W){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var H=p;p=U;try{return W()}finally{p=H}},n.unstable_scheduleCallback=function(U,W,H){var Z=n.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?Z+H:Z):H=Z,U){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=H+de,U={id:f++,callback:W,priorityLevel:U,startTime:H,expirationTime:de,sortIndex:-1},H>Z?(U.sortIndex=H,e(h,U),t(l)===null&&U===t(h)&&(w?(g(L),L=-1):w=!0,le(E,H-Z))):(U.sortIndex=de,e(l,U),y||m||(y=!0,te(C))),U},n.unstable_shouldYield=k,n.unstable_wrapCallback=function(U){var W=p;return function(){var H=p;p=W;try{return U.apply(this,arguments)}finally{p=H}}}}(C2)),C2}var r6;function ZW(){return r6||(r6=1,b2.exports=YW()),b2.exports}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KW=function(e){var t={},i=G,r=ZW(),s=Object.assign;function o(c){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+c,v=1;v<arguments.length;v++)u+="&args[]="+encodeURIComponent(arguments[v]);return"Minified React error #"+c+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),h=Symbol.for("react.portal"),f=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),y=Symbol.for("react.context"),w=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),E=Symbol.for("react.offscreen"),C=Symbol.iterator;function P(c){return c===null||typeof c!="object"?null:(c=C&&c[C]||c["@@iterator"],typeof c=="function"?c:null)}function I(c){if(c==null)return null;if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case f:return"Fragment";case h:return"Portal";case p:return"Profiler";case d:return"StrictMode";case S:return"Suspense";case g:return"SuspenseList"}if(typeof c=="object")switch(c.$$typeof){case y:return(c.displayName||"Context")+".Consumer";case m:return(c._context.displayName||"Context")+".Provider";case w:var u=c.render;return c=c.displayName,c||(c=u.displayName||u.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case x:return u=c.displayName||null,u!==null?u:I(c.type)||"Memo";case M:u=c._payload,c=c._init;try{return I(c(u))}catch{}}return null}function L(c){var u=c.type;switch(c.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return c=u.render,c=c.displayName||c.name||"",u.displayName||(c!==""?"ForwardRef("+c+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return I(u);case 8:return u===d?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function R(c){var u=c,v=c;if(c.alternate)for(;u.return;)u=u.return;else{c=u;do u=c,u.flags&4098&&(v=u.return),c=u.return;while(c)}return u.tag===3?v:null}function A(c){if(R(c)!==c)throw Error(o(188))}function k(c){var u=c.alternate;if(!u){if(u=R(c),u===null)throw Error(o(188));return u!==c?null:c}for(var v=c,_=u;;){var T=v.return;if(T===null)break;var b=T.alternate;if(b===null){if(_=T.return,_!==null){v=_;continue}break}if(T.child===b.child){for(b=T.child;b;){if(b===v)return A(T),c;if(b===_)return A(T),u;b=b.sibling}throw Error(o(188))}if(v.return!==_.return)v=T,_=b;else{for(var V=!1,K=T.child;K;){if(K===v){V=!0,v=T,_=b;break}if(K===_){V=!0,_=T,v=b;break}K=K.sibling}if(!V){for(K=b.child;K;){if(K===v){V=!0,v=b,_=T;break}if(K===_){V=!0,_=b,v=T;break}K=K.sibling}if(!V)throw Error(o(189))}}if(v.alternate!==_)throw Error(o(190))}if(v.tag!==3)throw Error(o(188));return v.stateNode.current===v?c:u}function X(c){return c=k(c),c!==null?q(c):null}function q(c){if(c.tag===5||c.tag===6)return c;for(c=c.child;c!==null;){var u=q(c);if(u!==null)return u;c=c.sibling}return null}function ne(c){if(c.tag===5||c.tag===6)return c;for(c=c.child;c!==null;){if(c.tag!==4){var u=ne(c);if(u!==null)return u}c=c.sibling}return null}var se=Array.isArray,te=e.getPublicInstance,le=e.getRootHostContext,U=e.getChildHostContext,W=e.prepareForCommit,H=e.resetAfterCommit,Z=e.createInstance,de=e.appendInitialChild,Te=e.finalizeInitialChildren,ie=e.prepareUpdate,_e=e.shouldSetTextContent,we=e.createTextInstance,Ae=e.scheduleTimeout,tt=e.cancelTimeout,dt=e.noTimeout,$e=e.isPrimaryRenderer,vt=e.supportsMutation,wt=e.supportsPersistence,Qe=e.supportsHydration,z=e.getInstanceFromNode,Le=e.preparePortalMount,Se=e.getCurrentEventPriority,Ce=e.detachDeletedInstance,ye=e.supportsMicrotasks,Je=e.scheduleMicrotask,Me=e.supportsTestSelectors,F=e.findFiberRoot,D=e.getBoundingRect,ee=e.getTextContent,ue=e.isHiddenSubtree,xe=e.matchAccessibilityRole,fe=e.setFocusIfFocusable,Ye=e.setupIntersectionObserver,Ne=e.appendChild,st=e.appendChildToContainer,ct=e.commitTextUpdate,Ee=e.commitMount,Ge=e.commitUpdate,at=e.insertBefore,pt=e.insertInContainerBefore,We=e.removeChild,Y=e.removeChildFromContainer,me=e.resetTextContent,ze=e.hideInstance,j=e.hideTextInstance,Re=e.unhideInstance,ce=e.unhideTextInstance,ve=e.clearContainer,Ve=e.cloneInstance,Ue=e.createContainerChildSet,lt=e.appendChildToContainerChildSet,Ot=e.finalizeContainerChildren,en=e.replaceContainerChildren,It=e.cloneHiddenInstance,wn=e.cloneHiddenTextInstance,Jn=e.canHydrateInstance,Lf=e.canHydrateTextInstance,Nf=e.canHydrateSuspenseInstance,qr=e.isSuspenseInstancePending,oa=e.isSuspenseInstanceFallback,Df=e.registerSuspenseInstanceRetry,eo=e.getNextHydratableSibling,yl=e.getFirstHydratableChild,Uf=e.getFirstHydratableChildWithinContainer,xl=e.getFirstHydratableChildWithinSuspenseInstance,kf=e.hydrateInstance,Of=e.hydrateTextInstance,G1=e.hydrateSuspenseInstance,W1=e.getNextHydratableInstanceAfterSuspenseInstance,Ff=e.commitHydratedContainer,j1=e.commitHydratedSuspenseInstance,X1=e.clearSuspenseBoundary,q1=e.clearSuspenseBoundaryFromContainer,O=e.shouldDeleteUnhydratedTailInstances,Q=e.didNotMatchHydratedContainerTextInstance,oe=e.didNotMatchHydratedTextInstance,ae;function J(c){if(ae===void 0)try{throw Error()}catch(v){var u=v.stack.trim().match(/\n( *(at )?)/);ae=u&&u[1]||""}return`
`+ae+c}var be=!1;function Oe(c,u){if(!c||be)return"";be=!0;var v=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(Ie){var _=Ie}Reflect.construct(c,[],u)}else{try{u.call()}catch(Ie){_=Ie}c.call(u.prototype)}else{try{throw Error()}catch(Ie){_=Ie}c()}}catch(Ie){if(Ie&&_&&typeof Ie.stack=="string"){for(var T=Ie.stack.split(`
`),b=_.stack.split(`
`),V=T.length-1,K=b.length-1;1<=V&&0<=K&&T[V]!==b[K];)K--;for(;1<=V&&0<=K;V--,K--)if(T[V]!==b[K]){if(V!==1||K!==1)do if(V--,K--,0>K||T[V]!==b[K]){var pe=`
`+T[V].replace(" at new "," at ");return c.displayName&&pe.includes("<anonymous>")&&(pe=pe.replace("<anonymous>",c.displayName)),pe}while(1<=V&&0<=K);break}}}finally{be=!1,Error.prepareStackTrace=v}return(c=c?c.displayName||c.name:"")?J(c):""}var je=Object.prototype.hasOwnProperty,Xe=[],ut=-1;function ot(c){return{current:c}}function De(c){0>ut||(c.current=Xe[ut],Xe[ut]=null,ut--)}function et(c,u){ut++,Xe[ut]=c.current,c.current=u}var Pt={},Lt=ot(Pt),Nt=ot(!1),bt=Pt;function nt(c,u){var v=c.type.contextTypes;if(!v)return Pt;var _=c.stateNode;if(_&&_.__reactInternalMemoizedUnmaskedChildContext===u)return _.__reactInternalMemoizedMaskedChildContext;var T={},b;for(b in v)T[b]=u[b];return _&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=u,c.__reactInternalMemoizedMaskedChildContext=T),T}function Gt(c){return c=c.childContextTypes,c!=null}function kt(){De(Nt),De(Lt)}function bi(c,u,v){if(Lt.current!==Pt)throw Error(o(168));et(Lt,u),et(Nt,v)}function vs(c,u,v){var _=c.stateNode;if(u=u.childContextTypes,typeof _.getChildContext!="function")return v;_=_.getChildContext();for(var T in _)if(!(T in u))throw Error(o(108,L(c)||"Unknown",T));return s({},v,_)}function On(c){return c=(c=c.stateNode)&&c.__reactInternalMemoizedMergedChildContext||Pt,bt=Lt.current,et(Lt,c),et(Nt,Nt.current),!0}function to(c,u,v){var _=c.stateNode;if(!_)throw Error(o(169));v?(c=vs(c,u,bt),_.__reactInternalMemoizedMergedChildContext=c,De(Nt),De(Lt),et(Lt,c)):De(Nt),et(Nt,v)}var Ut=Math.clz32?Math.clz32:Wn,Ci=Math.log,Pi=Math.LN2;function Wn(c){return c>>>=0,c===0?32:31-(Ci(c)/Pi|0)|0}var Rn=64,no=4194304;function ji(c){switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return c&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return c}}function zf(c,u){var v=c.pendingLanes;if(v===0)return 0;var _=0,T=c.suspendedLanes,b=c.pingedLanes,V=v&268435455;if(V!==0){var K=V&~T;K!==0?_=ji(K):(b&=V,b!==0&&(_=ji(b)))}else V=v&~T,V!==0?_=ji(V):b!==0&&(_=ji(b));if(_===0)return 0;if(u!==0&&u!==_&&!(u&T)&&(T=_&-_,b=u&-u,T>=b||T===16&&(b&4194240)!==0))return u;if(_&4&&(_|=v&16),u=c.entangledLanes,u!==0)for(c=c.entanglements,u&=_;0<u;)v=31-Ut(u),T=1<<v,_|=c[v],u&=~T;return _}function jC(c,u){switch(c){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function XC(c,u){for(var v=c.suspendedLanes,_=c.pingedLanes,T=c.expirationTimes,b=c.pendingLanes;0<b;){var V=31-Ut(b),K=1<<V,pe=T[V];pe===-1?(!(K&v)||K&_)&&(T[V]=jC(K,u)):pe<=u&&(c.expiredLanes|=K),b&=~K}}function Y1(c){return c=c.pendingLanes&-1073741825,c!==0?c:c&1073741824?1073741824:0}function Z1(c){for(var u=[],v=0;31>v;v++)u.push(c);return u}function ru(c,u,v){c.pendingLanes|=u,u!==536870912&&(c.suspendedLanes=0,c.pingedLanes=0),c=c.eventTimes,u=31-Ut(u),c[u]=v}function qC(c,u){var v=c.pendingLanes&~u;c.pendingLanes=u,c.suspendedLanes=0,c.pingedLanes=0,c.expiredLanes&=u,c.mutableReadLanes&=u,c.entangledLanes&=u,u=c.entanglements;var _=c.eventTimes;for(c=c.expirationTimes;0<v;){var T=31-Ut(v),b=1<<T;u[T]=0,_[T]=-1,c[T]=-1,v&=~b}}function K1(c,u){var v=c.entangledLanes|=u;for(c=c.entanglements;v;){var _=31-Ut(v),T=1<<_;T&u|c[_]&u&&(c[_]|=u),v&=~T}}var Wt=0;function x_(c){return c&=-c,1<c?4<c?c&268435455?16:536870912:4:1}var $1=r.unstable_scheduleCallback,__=r.unstable_cancelCallback,YC=r.unstable_shouldYield,ZC=r.unstable_requestPaint,Fn=r.unstable_now,J1=r.unstable_ImmediatePriority,KC=r.unstable_UserBlockingPriority,Q1=r.unstable_NormalPriority,$C=r.unstable_IdlePriority,Bf=null,Yr=null;function JC(c){if(Yr&&typeof Yr.onCommitFiberRoot=="function")try{Yr.onCommitFiberRoot(Bf,c,void 0,(c.current.flags&128)===128)}catch{}}function QC(c,u){return c===u&&(c!==0||1/c===1/u)||c!==c&&u!==u}var Zr=typeof Object.is=="function"?Object.is:QC,ys=null,Vf=!1,eg=!1;function S_(c){ys===null?ys=[c]:ys.push(c)}function eP(c){Vf=!0,S_(c)}function Kr(){if(!eg&&ys!==null){eg=!0;var c=0,u=Wt;try{var v=ys;for(Wt=1;c<v.length;c++){var _=v[c];do _=_(!0);while(_!==null)}ys=null,Vf=!1}catch(T){throw ys!==null&&(ys=ys.slice(c+1)),$1(J1,Kr),T}finally{Wt=u,eg=!1}}return null}var tP=a.ReactCurrentBatchConfig;function Hf(c,u){if(Zr(c,u))return!0;if(typeof c!="object"||c===null||typeof u!="object"||u===null)return!1;var v=Object.keys(c),_=Object.keys(u);if(v.length!==_.length)return!1;for(_=0;_<v.length;_++){var T=v[_];if(!je.call(u,T)||!Zr(c[T],u[T]))return!1}return!0}function nP(c){switch(c.tag){case 5:return J(c.type);case 16:return J("Lazy");case 13:return J("Suspense");case 19:return J("SuspenseList");case 0:case 2:case 15:return c=Oe(c.type,!1),c;case 11:return c=Oe(c.type.render,!1),c;case 1:return c=Oe(c.type,!0),c;default:return""}}function Pr(c,u){if(c&&c.defaultProps){u=s({},u),c=c.defaultProps;for(var v in c)u[v]===void 0&&(u[v]=c[v]);return u}return u}var Gf=ot(null),Wf=null,_l=null,tg=null;function ng(){tg=_l=Wf=null}function M_(c,u,v){$e?(et(Gf,u._currentValue),u._currentValue=v):(et(Gf,u._currentValue2),u._currentValue2=v)}function ig(c){var u=Gf.current;De(Gf),$e?c._currentValue=u:c._currentValue2=u}function rg(c,u,v){for(;c!==null;){var _=c.alternate;if((c.childLanes&u)!==u?(c.childLanes|=u,_!==null&&(_.childLanes|=u)):_!==null&&(_.childLanes&u)!==u&&(_.childLanes|=u),c===v)break;c=c.return}}function Sl(c,u){Wf=c,tg=_l=null,c=c.dependencies,c!==null&&c.firstContext!==null&&(c.lanes&u&&(Yi=!0),c.firstContext=null)}function lr(c){var u=$e?c._currentValue:c._currentValue2;if(tg!==c)if(c={context:c,memoizedValue:u,next:null},_l===null){if(Wf===null)throw Error(o(308));_l=c,Wf.dependencies={lanes:0,firstContext:c}}else _l=_l.next=c;return u}var $r=null,io=!1;function sg(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function w_(c,u){c=c.updateQueue,u.updateQueue===c&&(u.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,effects:c.effects})}function xs(c,u){return{eventTime:c,lane:u,tag:0,payload:null,callback:null,next:null}}function ro(c,u){var v=c.updateQueue;v!==null&&(v=v.shared,En!==null&&c.mode&1&&!(Rt&2)?(c=v.interleaved,c===null?(u.next=u,$r===null?$r=[v]:$r.push(v)):(u.next=c.next,c.next=u),v.interleaved=u):(c=v.pending,c===null?u.next=u:(u.next=c.next,c.next=u),v.pending=u))}function jf(c,u,v){if(u=u.updateQueue,u!==null&&(u=u.shared,(v&4194240)!==0)){var _=u.lanes;_&=c.pendingLanes,v|=_,u.lanes=v,K1(c,v)}}function E_(c,u){var v=c.updateQueue,_=c.alternate;if(_!==null&&(_=_.updateQueue,v===_)){var T=null,b=null;if(v=v.firstBaseUpdate,v!==null){do{var V={eventTime:v.eventTime,lane:v.lane,tag:v.tag,payload:v.payload,callback:v.callback,next:null};b===null?T=b=V:b=b.next=V,v=v.next}while(v!==null);b===null?T=b=u:b=b.next=u}else T=b=u;v={baseState:_.baseState,firstBaseUpdate:T,lastBaseUpdate:b,shared:_.shared,effects:_.effects},c.updateQueue=v;return}c=v.lastBaseUpdate,c===null?v.firstBaseUpdate=u:c.next=u,v.lastBaseUpdate=u}function Xf(c,u,v,_){var T=c.updateQueue;io=!1;var b=T.firstBaseUpdate,V=T.lastBaseUpdate,K=T.shared.pending;if(K!==null){T.shared.pending=null;var pe=K,Ie=pe.next;pe.next=null,V===null?b=Ie:V.next=Ie,V=pe;var Ze=c.alternate;Ze!==null&&(Ze=Ze.updateQueue,K=Ze.lastBaseUpdate,K!==V&&(K===null?Ze.firstBaseUpdate=Ie:K.next=Ie,Ze.lastBaseUpdate=pe))}if(b!==null){var _t=T.baseState;V=0,Ze=Ie=pe=null,K=b;do{var ht=K.lane,Kt=K.eventTime;if((_&ht)===ht){Ze!==null&&(Ze=Ze.next={eventTime:Kt,lane:0,tag:K.tag,payload:K.payload,callback:K.callback,next:null});e:{var rt=c,ni=K;switch(ht=u,Kt=v,ni.tag){case 1:if(rt=ni.payload,typeof rt=="function"){_t=rt.call(Kt,_t,ht);break e}_t=rt;break e;case 3:rt.flags=rt.flags&-65537|128;case 0:if(rt=ni.payload,ht=typeof rt=="function"?rt.call(Kt,_t,ht):rt,ht==null)break e;_t=s({},_t,ht);break e;case 2:io=!0}}K.callback!==null&&K.lane!==0&&(c.flags|=64,ht=T.effects,ht===null?T.effects=[K]:ht.push(K))}else Kt={eventTime:Kt,lane:ht,tag:K.tag,payload:K.payload,callback:K.callback,next:null},Ze===null?(Ie=Ze=Kt,pe=_t):Ze=Ze.next=Kt,V|=ht;if(K=K.next,K===null){if(K=T.shared.pending,K===null)break;ht=K,K=ht.next,ht.next=null,T.lastBaseUpdate=ht,T.shared.pending=null}}while(1);if(Ze===null&&(pe=_t),T.baseState=pe,T.firstBaseUpdate=Ie,T.lastBaseUpdate=Ze,u=T.shared.interleaved,u!==null){T=u;do V|=T.lane,T=T.next;while(T!==u)}else b===null&&(T.shared.lanes=0);Rl|=V,c.lanes=V,c.memoizedState=_t}}function T_(c,u,v){if(c=u.effects,u.effects=null,c!==null)for(u=0;u<c.length;u++){var _=c[u],T=_.callback;if(T!==null){if(_.callback=null,_=v,typeof T!="function")throw Error(o(191,T));T.call(_)}}}var A_=new i.Component().refs;function og(c,u,v,_){u=c.memoizedState,v=v(_,u),v=v==null?u:s({},u,v),c.memoizedState=v,c.lanes===0&&(c.updateQueue.baseState=v)}var qf={isMounted:function(c){return(c=c._reactInternals)?R(c)===c:!1},enqueueSetState:function(c,u,v){c=c._reactInternals;var _=gi(),T=ao(c),b=xs(_,T);b.payload=u,v!=null&&(b.callback=v),ro(c,b),u=dr(c,T,_),u!==null&&jf(u,c,T)},enqueueReplaceState:function(c,u,v){c=c._reactInternals;var _=gi(),T=ao(c),b=xs(_,T);b.tag=1,b.payload=u,v!=null&&(b.callback=v),ro(c,b),u=dr(c,T,_),u!==null&&jf(u,c,T)},enqueueForceUpdate:function(c,u){c=c._reactInternals;var v=gi(),_=ao(c),T=xs(v,_);T.tag=2,u!=null&&(T.callback=u),ro(c,T),u=dr(c,_,v),u!==null&&jf(u,c,_)}};function b_(c,u,v,_,T,b,V){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(_,b,V):u.prototype&&u.prototype.isPureReactComponent?!Hf(v,_)||!Hf(T,b):!0}function C_(c,u,v){var _=!1,T=Pt,b=u.contextType;return typeof b=="object"&&b!==null?b=lr(b):(T=Gt(u)?bt:Lt.current,_=u.contextTypes,b=(_=_!=null)?nt(c,T):Pt),u=new u(v,b),c.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=qf,c.stateNode=u,u._reactInternals=c,_&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=T,c.__reactInternalMemoizedMaskedChildContext=b),u}function P_(c,u,v,_){c=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(v,_),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(v,_),u.state!==c&&qf.enqueueReplaceState(u,u.state,null)}function ag(c,u,v,_){var T=c.stateNode;T.props=v,T.state=c.memoizedState,T.refs=A_,sg(c);var b=u.contextType;typeof b=="object"&&b!==null?T.context=lr(b):(b=Gt(u)?bt:Lt.current,T.context=nt(c,b)),T.state=c.memoizedState,b=u.getDerivedStateFromProps,typeof b=="function"&&(og(c,u,b,v),T.state=c.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof T.getSnapshotBeforeUpdate=="function"||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(u=T.state,typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount(),u!==T.state&&qf.enqueueReplaceState(T,T.state,null),Xf(c,v,T,_),T.state=c.memoizedState),typeof T.componentDidMount=="function"&&(c.flags|=4194308)}var Ml=[],wl=0,Yf=null,Zf=0,cr=[],ur=0,aa=null,_s=1,Ss="";function la(c,u){Ml[wl++]=Zf,Ml[wl++]=Yf,Yf=c,Zf=u}function R_(c,u,v){cr[ur++]=_s,cr[ur++]=Ss,cr[ur++]=aa,aa=c;var _=_s;c=Ss;var T=32-Ut(_)-1;_&=~(1<<T),v+=1;var b=32-Ut(u)+T;if(30<b){var V=T-T%5;b=(_&(1<<V)-1).toString(32),_>>=V,T-=V,_s=1<<32-Ut(u)+T|v<<T|_,Ss=b+c}else _s=1<<b|v<<T|_,Ss=c}function lg(c){c.return!==null&&(la(c,1),R_(c,1,0))}function cg(c){for(;c===Yf;)Yf=Ml[--wl],Ml[wl]=null,Zf=Ml[--wl],Ml[wl]=null;for(;c===aa;)aa=cr[--ur],cr[ur]=null,Ss=cr[--ur],cr[ur]=null,_s=cr[--ur],cr[ur]=null}var Xi=null,qi=null,sn=!1,su=!1,Rr=null;function I_(c,u){var v=pr(5,null,null,0);v.elementType="DELETED",v.stateNode=u,v.return=c,u=c.deletions,u===null?(c.deletions=[v],c.flags|=16):u.push(v)}function L_(c,u){switch(c.tag){case 5:return u=Jn(u,c.type,c.pendingProps),u!==null?(c.stateNode=u,Xi=c,qi=yl(u),!0):!1;case 6:return u=Lf(u,c.pendingProps),u!==null?(c.stateNode=u,Xi=c,qi=null,!0):!1;case 13:if(u=Nf(u),u!==null){var v=aa!==null?{id:_s,overflow:Ss}:null;return c.memoizedState={dehydrated:u,treeContext:v,retryLane:1073741824},v=pr(18,null,null,0),v.stateNode=u,v.return=c,c.child=v,Xi=c,qi=null,!0}return!1;default:return!1}}function ug(c){return(c.mode&1)!==0&&(c.flags&128)===0}function hg(c){if(sn){var u=qi;if(u){var v=u;if(!L_(c,u)){if(ug(c))throw Error(o(418));u=eo(v);var _=Xi;u&&L_(c,u)?I_(_,v):(c.flags=c.flags&-4097|2,sn=!1,Xi=c)}}else{if(ug(c))throw Error(o(418));c.flags=c.flags&-4097|2,sn=!1,Xi=c}}}function N_(c){for(c=c.return;c!==null&&c.tag!==5&&c.tag!==3&&c.tag!==13;)c=c.return;Xi=c}function ou(c){if(!Qe||c!==Xi)return!1;if(!sn)return N_(c),sn=!0,!1;if(c.tag!==3&&(c.tag!==5||O(c.type)&&!_e(c.type,c.memoizedProps))){var u=qi;if(u){if(ug(c)){for(c=qi;c;)c=eo(c);throw Error(o(418))}for(;u;)I_(c,u),u=eo(u)}}if(N_(c),c.tag===13){if(!Qe)throw Error(o(316));if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(o(317));qi=W1(c)}else qi=Xi?eo(c.stateNode):null;return!0}function El(){Qe&&(qi=Xi=null,su=sn=!1)}function fg(c){Rr===null?Rr=[c]:Rr.push(c)}function au(c,u,v){if(c=v.ref,c!==null&&typeof c!="function"&&typeof c!="object"){if(v._owner){if(v=v._owner,v){if(v.tag!==1)throw Error(o(309));var _=v.stateNode}if(!_)throw Error(o(147,c));var T=_,b=""+c;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===b?u.ref:(u=function(V){var K=T.refs;K===A_&&(K=T.refs={}),V===null?delete K[b]:K[b]=V},u._stringRef=b,u)}if(typeof c!="string")throw Error(o(284));if(!v._owner)throw Error(o(290,c))}return c}function Kf(c,u){throw c=Object.prototype.toString.call(u),Error(o(31,c==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":c))}function D_(c){var u=c._init;return u(c._payload)}function U_(c){function u(re,$){if(c){var he=re.deletions;he===null?(re.deletions=[$],re.flags|=16):he.push($)}}function v(re,$){if(!c)return null;for(;$!==null;)u(re,$),$=$.sibling;return null}function _(re,$){for(re=new Map;$!==null;)$.key!==null?re.set($.key,$):re.set($.index,$),$=$.sibling;return re}function T(re,$){return re=co(re,$),re.index=0,re.sibling=null,re}function b(re,$,he){return re.index=he,c?(he=re.alternate,he!==null?(he=he.index,he<$?(re.flags|=2,$):he):(re.flags|=2,$)):(re.flags|=1048576,$)}function V(re){return c&&re.alternate===null&&(re.flags|=2),re}function K(re,$,he,He){return $===null||$.tag!==6?($=Zg(he,re.mode,He),$.return=re,$):($=T($,he),$.return=re,$)}function pe(re,$,he,He){var it=he.type;return it===f?Ze(re,$,he.props.children,He,he.key):$!==null&&($.elementType===it||typeof it=="object"&&it!==null&&it.$$typeof===M&&D_(it)===$.type)?(He=T($,he.props),He.ref=au(re,$,he),He.return=re,He):(He=bd(he.type,he.key,he.props,null,re.mode,He),He.ref=au(re,$,he),He.return=re,He)}function Ie(re,$,he,He){return $===null||$.tag!==4||$.stateNode.containerInfo!==he.containerInfo||$.stateNode.implementation!==he.implementation?($=Kg(he,re.mode,He),$.return=re,$):($=T($,he.children||[]),$.return=re,$)}function Ze(re,$,he,He,it){return $===null||$.tag!==7?($=ma(he,re.mode,He,it),$.return=re,$):($=T($,he),$.return=re,$)}function _t(re,$,he){if(typeof $=="string"&&$!==""||typeof $=="number")return $=Zg(""+$,re.mode,he),$.return=re,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case l:return he=bd($.type,$.key,$.props,null,re.mode,he),he.ref=au(re,null,$),he.return=re,he;case h:return $=Kg($,re.mode,he),$.return=re,$;case M:var He=$._init;return _t(re,He($._payload),he)}if(se($)||P($))return $=ma($,re.mode,he,null),$.return=re,$;Kf(re,$)}return null}function ht(re,$,he,He){var it=$!==null?$.key:null;if(typeof he=="string"&&he!==""||typeof he=="number")return it!==null?null:K(re,$,""+he,He);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case l:return he.key===it?pe(re,$,he,He):null;case h:return he.key===it?Ie(re,$,he,He):null;case M:return it=he._init,ht(re,$,it(he._payload),He)}if(se(he)||P(he))return it!==null?null:Ze(re,$,he,He,null);Kf(re,he)}return null}function Kt(re,$,he,He,it){if(typeof He=="string"&&He!==""||typeof He=="number")return re=re.get(he)||null,K($,re,""+He,it);if(typeof He=="object"&&He!==null){switch(He.$$typeof){case l:return re=re.get(He.key===null?he:He.key)||null,pe($,re,He,it);case h:return re=re.get(He.key===null?he:He.key)||null,Ie($,re,He,it);case M:var Ct=He._init;return Kt(re,$,he,Ct(He._payload),it)}if(se(He)||P(He))return re=re.get(he)||null,Ze($,re,He,it,null);Kf($,He)}return null}function rt(re,$,he,He){for(var it=null,Ct=null,St=$,jt=$=0,Bn=null;St!==null&&jt<he.length;jt++){St.index>jt?(Bn=St,St=null):Bn=St.sibling;var Xt=ht(re,St,he[jt],He);if(Xt===null){St===null&&(St=Bn);break}c&&St&&Xt.alternate===null&&u(re,St),$=b(Xt,$,jt),Ct===null?it=Xt:Ct.sibling=Xt,Ct=Xt,St=Bn}if(jt===he.length)return v(re,St),sn&&la(re,jt),it;if(St===null){for(;jt<he.length;jt++)St=_t(re,he[jt],He),St!==null&&($=b(St,$,jt),Ct===null?it=St:Ct.sibling=St,Ct=St);return sn&&la(re,jt),it}for(St=_(re,St);jt<he.length;jt++)Bn=Kt(St,re,jt,he[jt],He),Bn!==null&&(c&&Bn.alternate!==null&&St.delete(Bn.key===null?jt:Bn.key),$=b(Bn,$,jt),Ct===null?it=Bn:Ct.sibling=Bn,Ct=Bn);return c&&St.forEach(function(uo){return u(re,uo)}),sn&&la(re,jt),it}function ni(re,$,he,He){var it=P(he);if(typeof it!="function")throw Error(o(150));if(he=it.call(he),he==null)throw Error(o(151));for(var Ct=it=null,St=$,jt=$=0,Bn=null,Xt=he.next();St!==null&&!Xt.done;jt++,Xt=he.next()){St.index>jt?(Bn=St,St=null):Bn=St.sibling;var uo=ht(re,St,Xt.value,He);if(uo===null){St===null&&(St=Bn);break}c&&St&&uo.alternate===null&&u(re,St),$=b(uo,$,jt),Ct===null?it=uo:Ct.sibling=uo,Ct=uo,St=Bn}if(Xt.done)return v(re,St),sn&&la(re,jt),it;if(St===null){for(;!Xt.done;jt++,Xt=he.next())Xt=_t(re,Xt.value,He),Xt!==null&&($=b(Xt,$,jt),Ct===null?it=Xt:Ct.sibling=Xt,Ct=Xt);return sn&&la(re,jt),it}for(St=_(re,St);!Xt.done;jt++,Xt=he.next())Xt=Kt(St,re,jt,Xt.value,He),Xt!==null&&(c&&Xt.alternate!==null&&St.delete(Xt.key===null?jt:Xt.key),$=b(Xt,$,jt),Ct===null?it=Xt:Ct.sibling=Xt,Ct=Xt);return c&&St.forEach(function(LP){return u(re,LP)}),sn&&la(re,jt),it}function mr(re,$,he,He){if(typeof he=="object"&&he!==null&&he.type===f&&he.key===null&&(he=he.props.children),typeof he=="object"&&he!==null){switch(he.$$typeof){case l:e:{for(var it=he.key,Ct=$;Ct!==null;){if(Ct.key===it){if(it=he.type,it===f){if(Ct.tag===7){v(re,Ct.sibling),$=T(Ct,he.props.children),$.return=re,re=$;break e}}else if(Ct.elementType===it||typeof it=="object"&&it!==null&&it.$$typeof===M&&D_(it)===Ct.type){v(re,Ct.sibling),$=T(Ct,he.props),$.ref=au(re,Ct,he),$.return=re,re=$;break e}v(re,Ct);break}else u(re,Ct);Ct=Ct.sibling}he.type===f?($=ma(he.props.children,re.mode,He,he.key),$.return=re,re=$):(He=bd(he.type,he.key,he.props,null,re.mode,He),He.ref=au(re,$,he),He.return=re,re=He)}return V(re);case h:e:{for(Ct=he.key;$!==null;){if($.key===Ct)if($.tag===4&&$.stateNode.containerInfo===he.containerInfo&&$.stateNode.implementation===he.implementation){v(re,$.sibling),$=T($,he.children||[]),$.return=re,re=$;break e}else{v(re,$);break}else u(re,$);$=$.sibling}$=Kg(he,re.mode,He),$.return=re,re=$}return V(re);case M:return Ct=he._init,mr(re,$,Ct(he._payload),He)}if(se(he))return rt(re,$,he,He);if(P(he))return ni(re,$,he,He);Kf(re,he)}return typeof he=="string"&&he!==""||typeof he=="number"?(he=""+he,$!==null&&$.tag===6?(v(re,$.sibling),$=T($,he),$.return=re,re=$):(v(re,$),$=Zg(he,re.mode,He),$.return=re,re=$),V(re)):v(re,$)}return mr}var Tl=U_(!0),k_=U_(!1),lu={},hr=ot(lu),cu=ot(lu),Al=ot(lu);function Jr(c){if(c===lu)throw Error(o(174));return c}function dg(c,u){et(Al,u),et(cu,c),et(hr,lu),c=le(u),De(hr),et(hr,c)}function bl(){De(hr),De(cu),De(Al)}function O_(c){var u=Jr(Al.current),v=Jr(hr.current);u=U(v,c.type,u),v!==u&&(et(cu,c),et(hr,u))}function pg(c){cu.current===c&&(De(hr),De(cu))}var an=ot(0);function $f(c){for(var u=c;u!==null;){if(u.tag===13){var v=u.memoizedState;if(v!==null&&(v=v.dehydrated,v===null||qr(v)||oa(v)))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if(u.flags&128)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===c)break;for(;u.sibling===null;){if(u.return===null||u.return===c)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var mg=[];function gg(){for(var c=0;c<mg.length;c++){var u=mg[c];$e?u._workInProgressVersionPrimary=null:u._workInProgressVersionSecondary=null}mg.length=0}var Jf=a.ReactCurrentDispatcher,fr=a.ReactCurrentBatchConfig,Cl=0,dn=null,Qn=null,zn=null,Qf=!1,uu=!1,hu=0,iP=0;function ei(){throw Error(o(321))}function vg(c,u){if(u===null)return!1;for(var v=0;v<u.length&&v<c.length;v++)if(!Zr(c[v],u[v]))return!1;return!0}function yg(c,u,v,_,T,b){if(Cl=b,dn=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,Jf.current=c===null||c.memoizedState===null?aP:lP,c=v(_,T),uu){b=0;do{if(uu=!1,hu=0,25<=b)throw Error(o(301));b+=1,zn=Qn=null,u.updateQueue=null,Jf.current=cP,c=v(_,T)}while(uu)}if(Jf.current=rd,u=Qn!==null&&Qn.next!==null,Cl=0,zn=Qn=dn=null,Qf=!1,u)throw Error(o(300));return c}function xg(){var c=hu!==0;return hu=0,c}function Ms(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zn===null?dn.memoizedState=zn=c:zn=zn.next=c,zn}function Qr(){if(Qn===null){var c=dn.alternate;c=c!==null?c.memoizedState:null}else c=Qn.next;var u=zn===null?dn.memoizedState:zn.next;if(u!==null)zn=u,Qn=c;else{if(c===null)throw Error(o(310));Qn=c,c={memoizedState:Qn.memoizedState,baseState:Qn.baseState,baseQueue:Qn.baseQueue,queue:Qn.queue,next:null},zn===null?dn.memoizedState=zn=c:zn=zn.next=c}return zn}function ca(c,u){return typeof u=="function"?u(c):u}function ed(c){var u=Qr(),v=u.queue;if(v===null)throw Error(o(311));v.lastRenderedReducer=c;var _=Qn,T=_.baseQueue,b=v.pending;if(b!==null){if(T!==null){var V=T.next;T.next=b.next,b.next=V}_.baseQueue=T=b,v.pending=null}if(T!==null){b=T.next,_=_.baseState;var K=V=null,pe=null,Ie=b;do{var Ze=Ie.lane;if((Cl&Ze)===Ze)pe!==null&&(pe=pe.next={lane:0,action:Ie.action,hasEagerState:Ie.hasEagerState,eagerState:Ie.eagerState,next:null}),_=Ie.hasEagerState?Ie.eagerState:c(_,Ie.action);else{var _t={lane:Ze,action:Ie.action,hasEagerState:Ie.hasEagerState,eagerState:Ie.eagerState,next:null};pe===null?(K=pe=_t,V=_):pe=pe.next=_t,dn.lanes|=Ze,Rl|=Ze}Ie=Ie.next}while(Ie!==null&&Ie!==b);pe===null?V=_:pe.next=K,Zr(_,u.memoizedState)||(Yi=!0),u.memoizedState=_,u.baseState=V,u.baseQueue=pe,v.lastRenderedState=_}if(c=v.interleaved,c!==null){T=c;do b=T.lane,dn.lanes|=b,Rl|=b,T=T.next;while(T!==c)}else T===null&&(v.lanes=0);return[u.memoizedState,v.dispatch]}function td(c){var u=Qr(),v=u.queue;if(v===null)throw Error(o(311));v.lastRenderedReducer=c;var _=v.dispatch,T=v.pending,b=u.memoizedState;if(T!==null){v.pending=null;var V=T=T.next;do b=c(b,V.action),V=V.next;while(V!==T);Zr(b,u.memoizedState)||(Yi=!0),u.memoizedState=b,u.baseQueue===null&&(u.baseState=b),v.lastRenderedState=b}return[b,_]}function F_(){}function z_(c,u){var v=dn,_=Qr(),T=u(),b=!Zr(_.memoizedState,T);if(b&&(_.memoizedState=T,Yi=!0),_=_.queue,du(H_.bind(null,v,_,c),[c]),_.getSnapshot!==u||b||zn!==null&&zn.memoizedState.tag&1){if(v.flags|=2048,fu(9,V_.bind(null,v,_,T,u),void 0,null),En===null)throw Error(o(349));Cl&30||B_(v,u,T)}return T}function B_(c,u,v){c.flags|=16384,c={getSnapshot:u,value:v},u=dn.updateQueue,u===null?(u={lastEffect:null,stores:null},dn.updateQueue=u,u.stores=[c]):(v=u.stores,v===null?u.stores=[c]:v.push(c))}function V_(c,u,v,_){u.value=v,u.getSnapshot=_,G_(u)&&dr(c,1,-1)}function H_(c,u,v){return v(function(){G_(u)&&dr(c,1,-1)})}function G_(c){var u=c.getSnapshot;c=c.value;try{var v=u();return!Zr(c,v)}catch{return!0}}function _g(c){var u=Ms();return typeof c=="function"&&(c=c()),u.memoizedState=u.baseState=c,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ca,lastRenderedState:c},u.queue=c,c=c.dispatch=oP.bind(null,dn,c),[u.memoizedState,c]}function fu(c,u,v,_){return c={tag:c,create:u,destroy:v,deps:_,next:null},u=dn.updateQueue,u===null?(u={lastEffect:null,stores:null},dn.updateQueue=u,u.lastEffect=c.next=c):(v=u.lastEffect,v===null?u.lastEffect=c.next=c:(_=v.next,v.next=c,c.next=_,u.lastEffect=c)),c}function W_(){return Qr().memoizedState}function nd(c,u,v,_){var T=Ms();dn.flags|=c,T.memoizedState=fu(1|u,v,void 0,_===void 0?null:_)}function id(c,u,v,_){var T=Qr();_=_===void 0?null:_;var b=void 0;if(Qn!==null){var V=Qn.memoizedState;if(b=V.destroy,_!==null&&vg(_,V.deps)){T.memoizedState=fu(u,v,b,_);return}}dn.flags|=c,T.memoizedState=fu(1|u,v,b,_)}function Sg(c,u){return nd(8390656,8,c,u)}function du(c,u){return id(2048,8,c,u)}function j_(c,u){return id(4,2,c,u)}function X_(c,u){return id(4,4,c,u)}function q_(c,u){if(typeof u=="function")return c=c(),u(c),function(){u(null)};if(u!=null)return c=c(),u.current=c,function(){u.current=null}}function Y_(c,u,v){return v=v!=null?v.concat([c]):null,id(4,4,q_.bind(null,u,c),v)}function Mg(){}function Z_(c,u){var v=Qr();u=u===void 0?null:u;var _=v.memoizedState;return _!==null&&u!==null&&vg(u,_[1])?_[0]:(v.memoizedState=[c,u],c)}function K_(c,u){var v=Qr();u=u===void 0?null:u;var _=v.memoizedState;return _!==null&&u!==null&&vg(u,_[1])?_[0]:(c=c(),v.memoizedState=[c,u],c)}function rP(c,u){var v=Wt;Wt=v!==0&&4>v?v:4,c(!0);var _=fr.transition;fr.transition={};try{c(!1),u()}finally{Wt=v,fr.transition=_}}function $_(){return Qr().memoizedState}function sP(c,u,v){var _=ao(c);v={lane:_,action:v,hasEagerState:!1,eagerState:null,next:null},J_(c)?Q_(u,v):(e4(c,u,v),v=gi(),c=dr(c,_,v),c!==null&&t4(c,u,_))}function oP(c,u,v){var _=ao(c),T={lane:_,action:v,hasEagerState:!1,eagerState:null,next:null};if(J_(c))Q_(u,T);else{e4(c,u,T);var b=c.alternate;if(c.lanes===0&&(b===null||b.lanes===0)&&(b=u.lastRenderedReducer,b!==null))try{var V=u.lastRenderedState,K=b(V,v);if(T.hasEagerState=!0,T.eagerState=K,Zr(K,V))return}catch{}finally{}v=gi(),c=dr(c,_,v),c!==null&&t4(c,u,_)}}function J_(c){var u=c.alternate;return c===dn||u!==null&&u===dn}function Q_(c,u){uu=Qf=!0;var v=c.pending;v===null?u.next=u:(u.next=v.next,v.next=u),c.pending=u}function e4(c,u,v){En!==null&&c.mode&1&&!(Rt&2)?(c=u.interleaved,c===null?(v.next=v,$r===null?$r=[u]:$r.push(u)):(v.next=c.next,c.next=v),u.interleaved=v):(c=u.pending,c===null?v.next=v:(v.next=c.next,c.next=v),u.pending=v)}function t4(c,u,v){if(v&4194240){var _=u.lanes;_&=c.pendingLanes,v|=_,u.lanes=v,K1(c,v)}}var rd={readContext:lr,useCallback:ei,useContext:ei,useEffect:ei,useImperativeHandle:ei,useInsertionEffect:ei,useLayoutEffect:ei,useMemo:ei,useReducer:ei,useRef:ei,useState:ei,useDebugValue:ei,useDeferredValue:ei,useTransition:ei,useMutableSource:ei,useSyncExternalStore:ei,useId:ei,unstable_isNewReconciler:!1},aP={readContext:lr,useCallback:function(c,u){return Ms().memoizedState=[c,u===void 0?null:u],c},useContext:lr,useEffect:Sg,useImperativeHandle:function(c,u,v){return v=v!=null?v.concat([c]):null,nd(4194308,4,q_.bind(null,u,c),v)},useLayoutEffect:function(c,u){return nd(4194308,4,c,u)},useInsertionEffect:function(c,u){return nd(4,2,c,u)},useMemo:function(c,u){var v=Ms();return u=u===void 0?null:u,c=c(),v.memoizedState=[c,u],c},useReducer:function(c,u,v){var _=Ms();return u=v!==void 0?v(u):u,_.memoizedState=_.baseState=u,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:u},_.queue=c,c=c.dispatch=sP.bind(null,dn,c),[_.memoizedState,c]},useRef:function(c){var u=Ms();return c={current:c},u.memoizedState=c},useState:_g,useDebugValue:Mg,useDeferredValue:function(c){var u=_g(c),v=u[0],_=u[1];return Sg(function(){var T=fr.transition;fr.transition={};try{_(c)}finally{fr.transition=T}},[c]),v},useTransition:function(){var c=_g(!1),u=c[0];return c=rP.bind(null,c[1]),Ms().memoizedState=c,[u,c]},useMutableSource:function(){},useSyncExternalStore:function(c,u,v){var _=dn,T=Ms();if(sn){if(v===void 0)throw Error(o(407));v=v()}else{if(v=u(),En===null)throw Error(o(349));Cl&30||B_(_,u,v)}T.memoizedState=v;var b={value:v,getSnapshot:u};return T.queue=b,Sg(H_.bind(null,_,b,c),[c]),_.flags|=2048,fu(9,V_.bind(null,_,b,v,u),void 0,null),v},useId:function(){var c=Ms(),u=En.identifierPrefix;if(sn){var v=Ss,_=_s;v=(_&~(1<<32-Ut(_)-1)).toString(32)+v,u=":"+u+"R"+v,v=hu++,0<v&&(u+="H"+v.toString(32)),u+=":"}else v=iP++,u=":"+u+"r"+v.toString(32)+":";return c.memoizedState=u},unstable_isNewReconciler:!1},lP={readContext:lr,useCallback:Z_,useContext:lr,useEffect:du,useImperativeHandle:Y_,useInsertionEffect:j_,useLayoutEffect:X_,useMemo:K_,useReducer:ed,useRef:W_,useState:function(){return ed(ca)},useDebugValue:Mg,useDeferredValue:function(c){var u=ed(ca),v=u[0],_=u[1];return du(function(){var T=fr.transition;fr.transition={};try{_(c)}finally{fr.transition=T}},[c]),v},useTransition:function(){var c=ed(ca)[0],u=Qr().memoizedState;return[c,u]},useMutableSource:F_,useSyncExternalStore:z_,useId:$_,unstable_isNewReconciler:!1},cP={readContext:lr,useCallback:Z_,useContext:lr,useEffect:du,useImperativeHandle:Y_,useInsertionEffect:j_,useLayoutEffect:X_,useMemo:K_,useReducer:td,useRef:W_,useState:function(){return td(ca)},useDebugValue:Mg,useDeferredValue:function(c){var u=td(ca),v=u[0],_=u[1];return du(function(){var T=fr.transition;fr.transition={};try{_(c)}finally{fr.transition=T}},[c]),v},useTransition:function(){var c=td(ca)[0],u=Qr().memoizedState;return[c,u]},useMutableSource:F_,useSyncExternalStore:z_,useId:$_,unstable_isNewReconciler:!1};function wg(c,u){try{var v="",_=u;do v+=nP(_),_=_.return;while(_);var T=v}catch(b){T=`
Error generating stack: `+b.message+`
`+b.stack}return{value:c,source:u,stack:T}}function Eg(c,u){try{console.error(u.value)}catch(v){setTimeout(function(){throw v})}}var uP=typeof WeakMap=="function"?WeakMap:Map;function n4(c,u,v){v=xs(-1,v),v.tag=3,v.payload={element:null};var _=u.value;return v.callback=function(){_d||(_d=!0,Hg=_),Eg(c,u)},v}function i4(c,u,v){v=xs(-1,v),v.tag=3;var _=c.type.getDerivedStateFromError;if(typeof _=="function"){var T=u.value;v.payload=function(){return _(T)},v.callback=function(){Eg(c,u)}}var b=c.stateNode;return b!==null&&typeof b.componentDidCatch=="function"&&(v.callback=function(){Eg(c,u),typeof _!="function"&&(so===null?so=new Set([this]):so.add(this));var V=u.stack;this.componentDidCatch(u.value,{componentStack:V!==null?V:""})}),v}function r4(c,u,v){var _=c.pingCache;if(_===null){_=c.pingCache=new uP;var T=new Set;_.set(u,T)}else T=_.get(u),T===void 0&&(T=new Set,_.set(u,T));T.has(v)||(T.add(v),c=EP.bind(null,c,u,v),u.then(c,c))}function s4(c){do{var u;if((u=c.tag===13)&&(u=c.memoizedState,u=u!==null?u.dehydrated!==null:!0),u)return c;c=c.return}while(c!==null);return null}function o4(c,u,v,_,T){return c.mode&1?(c.flags|=65536,c.lanes=T,c):(c===u?c.flags|=65536:(c.flags|=128,v.flags|=131072,v.flags&=-52805,v.tag===1&&(v.alternate===null?v.tag=17:(u=xs(-1,1),u.tag=2,ro(v,u))),v.lanes|=1),c)}function es(c){c.flags|=4}function a4(c,u){if(c!==null&&c.child===u.child)return!0;if(u.flags&16)return!1;for(c=u.child;c!==null;){if(c.flags&12854||c.subtreeFlags&12854)return!1;c=c.sibling}return!0}var pu,mu,sd,od;if(vt)pu=function(c,u){for(var v=u.child;v!==null;){if(v.tag===5||v.tag===6)de(c,v.stateNode);else if(v.tag!==4&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===u)break;for(;v.sibling===null;){if(v.return===null||v.return===u)return;v=v.return}v.sibling.return=v.return,v=v.sibling}},mu=function(){},sd=function(c,u,v,_,T){if(c=c.memoizedProps,c!==_){var b=u.stateNode,V=Jr(hr.current);v=ie(b,v,c,_,T,V),(u.updateQueue=v)&&es(u)}},od=function(c,u,v,_){v!==_&&es(u)};else if(wt){pu=function(c,u,v,_){for(var T=u.child;T!==null;){if(T.tag===5){var b=T.stateNode;v&&_&&(b=It(b,T.type,T.memoizedProps,T)),de(c,b)}else if(T.tag===6)b=T.stateNode,v&&_&&(b=wn(b,T.memoizedProps,T)),de(c,b);else if(T.tag!==4){if(T.tag===22&&T.memoizedState!==null)b=T.child,b!==null&&(b.return=T),pu(c,T,!0,!0);else if(T.child!==null){T.child.return=T,T=T.child;continue}}if(T===u)break;for(;T.sibling===null;){if(T.return===null||T.return===u)return;T=T.return}T.sibling.return=T.return,T=T.sibling}};var l4=function(c,u,v,_){for(var T=u.child;T!==null;){if(T.tag===5){var b=T.stateNode;v&&_&&(b=It(b,T.type,T.memoizedProps,T)),lt(c,b)}else if(T.tag===6)b=T.stateNode,v&&_&&(b=wn(b,T.memoizedProps,T)),lt(c,b);else if(T.tag!==4){if(T.tag===22&&T.memoizedState!==null)b=T.child,b!==null&&(b.return=T),l4(c,T,!0,!0);else if(T.child!==null){T.child.return=T,T=T.child;continue}}if(T===u)break;for(;T.sibling===null;){if(T.return===null||T.return===u)return;T=T.return}T.sibling.return=T.return,T=T.sibling}};mu=function(c,u){var v=u.stateNode;if(!a4(c,u)){c=v.containerInfo;var _=Ue(c);l4(_,u,!1,!1),v.pendingChildren=_,es(u),Ot(c,_)}},sd=function(c,u,v,_,T){var b=c.stateNode,V=c.memoizedProps;if((c=a4(c,u))&&V===_)u.stateNode=b;else{var K=u.stateNode,pe=Jr(hr.current),Ie=null;V!==_&&(Ie=ie(K,v,V,_,T,pe)),c&&Ie===null?u.stateNode=b:(b=Ve(b,Ie,v,V,_,u,c,K),Te(b,v,_,T,pe)&&es(u),u.stateNode=b,c?es(u):pu(b,u,!1,!1))}},od=function(c,u,v,_){v!==_?(c=Jr(Al.current),v=Jr(hr.current),u.stateNode=we(_,c,v,u),es(u)):u.stateNode=c.stateNode}}else mu=function(){},sd=function(){},od=function(){};function gu(c,u){if(!sn)switch(c.tailMode){case"hidden":u=c.tail;for(var v=null;u!==null;)u.alternate!==null&&(v=u),u=u.sibling;v===null?c.tail=null:v.sibling=null;break;case"collapsed":v=c.tail;for(var _=null;v!==null;)v.alternate!==null&&(_=v),v=v.sibling;_===null?u||c.tail===null?c.tail=null:c.tail.sibling=null:_.sibling=null}}function ti(c){var u=c.alternate!==null&&c.alternate.child===c.child,v=0,_=0;if(u)for(var T=c.child;T!==null;)v|=T.lanes|T.childLanes,_|=T.subtreeFlags&14680064,_|=T.flags&14680064,T.return=c,T=T.sibling;else for(T=c.child;T!==null;)v|=T.lanes|T.childLanes,_|=T.subtreeFlags,_|=T.flags,T.return=c,T=T.sibling;return c.subtreeFlags|=_,c.childLanes=v,u}function hP(c,u,v){var _=u.pendingProps;switch(cg(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ti(u),null;case 1:return Gt(u.type)&&kt(),ti(u),null;case 3:return _=u.stateNode,bl(),De(Nt),De(Lt),gg(),_.pendingContext&&(_.context=_.pendingContext,_.pendingContext=null),(c===null||c.child===null)&&(ou(u)?es(u):c===null||c.memoizedState.isDehydrated&&!(u.flags&256)||(u.flags|=1024,Rr!==null&&(jg(Rr),Rr=null))),mu(c,u),ti(u),null;case 5:pg(u),v=Jr(Al.current);var T=u.type;if(c!==null&&u.stateNode!=null)sd(c,u,T,_,v),c.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!_){if(u.stateNode===null)throw Error(o(166));return ti(u),null}if(c=Jr(hr.current),ou(u)){if(!Qe)throw Error(o(175));c=kf(u.stateNode,u.type,u.memoizedProps,v,c,u,!su),u.updateQueue=c,c!==null&&es(u)}else{var b=Z(T,_,v,c,u);pu(b,u,!1,!1),u.stateNode=b,Te(b,T,_,v,c)&&es(u)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return ti(u),null;case 6:if(c&&u.stateNode!=null)od(c,u,c.memoizedProps,_);else{if(typeof _!="string"&&u.stateNode===null)throw Error(o(166));if(c=Jr(Al.current),v=Jr(hr.current),ou(u)){if(!Qe)throw Error(o(176));if(c=u.stateNode,_=u.memoizedProps,(v=Of(c,_,u,!su))&&(T=Xi,T!==null))switch(b=(T.mode&1)!==0,T.tag){case 3:Q(T.stateNode.containerInfo,c,_,b);break;case 5:oe(T.type,T.memoizedProps,T.stateNode,c,_,b)}v&&es(u)}else u.stateNode=we(_,c,v,u)}return ti(u),null;case 13:if(De(an),_=u.memoizedState,sn&&qi!==null&&u.mode&1&&!(u.flags&128)){for(c=qi;c;)c=eo(c);return El(),u.flags|=98560,u}if(_!==null&&_.dehydrated!==null){if(_=ou(u),c===null){if(!_)throw Error(o(318));if(!Qe)throw Error(o(344));if(c=u.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(o(317));G1(c,u)}else El(),!(u.flags&128)&&(u.memoizedState=null),u.flags|=4;return ti(u),null}return Rr!==null&&(jg(Rr),Rr=null),u.flags&128?(u.lanes=v,u):(_=_!==null,v=!1,c===null?ou(u):v=c.memoizedState!==null,_&&!v&&(u.child.flags|=8192,u.mode&1&&(c===null||an.current&1?In===0&&(In=3):qg())),u.updateQueue!==null&&(u.flags|=4),ti(u),null);case 4:return bl(),mu(c,u),c===null&&Le(u.stateNode.containerInfo),ti(u),null;case 10:return ig(u.type._context),ti(u),null;case 17:return Gt(u.type)&&kt(),ti(u),null;case 19:if(De(an),T=u.memoizedState,T===null)return ti(u),null;if(_=(u.flags&128)!==0,b=T.rendering,b===null)if(_)gu(T,!1);else{if(In!==0||c!==null&&c.flags&128)for(c=u.child;c!==null;){if(b=$f(c),b!==null){for(u.flags|=128,gu(T,!1),c=b.updateQueue,c!==null&&(u.updateQueue=c,u.flags|=4),u.subtreeFlags=0,c=v,_=u.child;_!==null;)v=_,T=c,v.flags&=14680066,b=v.alternate,b===null?(v.childLanes=0,v.lanes=T,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=b.childLanes,v.lanes=b.lanes,v.child=b.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=b.memoizedProps,v.memoizedState=b.memoizedState,v.updateQueue=b.updateQueue,v.type=b.type,T=b.dependencies,v.dependencies=T===null?null:{lanes:T.lanes,firstContext:T.firstContext}),_=_.sibling;return et(an,an.current&1|2),u.child}c=c.sibling}T.tail!==null&&Fn()>Vg&&(u.flags|=128,_=!0,gu(T,!1),u.lanes=4194304)}else{if(!_)if(c=$f(b),c!==null){if(u.flags|=128,_=!0,c=c.updateQueue,c!==null&&(u.updateQueue=c,u.flags|=4),gu(T,!0),T.tail===null&&T.tailMode==="hidden"&&!b.alternate&&!sn)return ti(u),null}else 2*Fn()-T.renderingStartTime>Vg&&v!==1073741824&&(u.flags|=128,_=!0,gu(T,!1),u.lanes=4194304);T.isBackwards?(b.sibling=u.child,u.child=b):(c=T.last,c!==null?c.sibling=b:u.child=b,T.last=b)}return T.tail!==null?(u=T.tail,T.rendering=u,T.tail=u.sibling,T.renderingStartTime=Fn(),u.sibling=null,c=an.current,et(an,_?c&1|2:c&1),u):(ti(u),null);case 22:case 23:return Xg(),_=u.memoizedState!==null,c!==null&&c.memoizedState!==null!==_&&(u.flags|=8192),_&&u.mode&1?Zi&1073741824&&(ti(u),vt&&u.subtreeFlags&6&&(u.flags|=8192)):ti(u),null;case 24:return null;case 25:return null}throw Error(o(156,u.tag))}var fP=a.ReactCurrentOwner,Yi=!1;function mi(c,u,v,_){u.child=c===null?k_(u,null,v,_):Tl(u,c.child,v,_)}function c4(c,u,v,_,T){v=v.render;var b=u.ref;return Sl(u,T),_=yg(c,u,v,_,b,T),v=xg(),c!==null&&!Yi?(u.updateQueue=c.updateQueue,u.flags&=-2053,c.lanes&=~T,ws(c,u,T)):(sn&&v&&lg(u),u.flags|=1,mi(c,u,_,T),u.child)}function u4(c,u,v,_,T){if(c===null){var b=v.type;return typeof b=="function"&&!Yg(b)&&b.defaultProps===void 0&&v.compare===null&&v.defaultProps===void 0?(u.tag=15,u.type=b,h4(c,u,b,_,T)):(c=bd(v.type,null,_,u,u.mode,T),c.ref=u.ref,c.return=u,u.child=c)}if(b=c.child,!(c.lanes&T)){var V=b.memoizedProps;if(v=v.compare,v=v!==null?v:Hf,v(V,_)&&c.ref===u.ref)return ws(c,u,T)}return u.flags|=1,c=co(b,_),c.ref=u.ref,c.return=u,u.child=c}function h4(c,u,v,_,T){if(c!==null&&Hf(c.memoizedProps,_)&&c.ref===u.ref)if(Yi=!1,(c.lanes&T)!==0)c.flags&131072&&(Yi=!0);else return u.lanes=c.lanes,ws(c,u,T);return Tg(c,u,v,_,T)}function f4(c,u,v){var _=u.pendingProps,T=_.children,b=c!==null?c.memoizedState:null;if(_.mode==="hidden")if(!(u.mode&1))u.memoizedState={baseLanes:0,cachePool:null},et(Pl,Zi),Zi|=v;else if(v&1073741824)u.memoizedState={baseLanes:0,cachePool:null},_=b!==null?b.baseLanes:v,et(Pl,Zi),Zi|=_;else return c=b!==null?b.baseLanes|v:v,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:c,cachePool:null},u.updateQueue=null,et(Pl,Zi),Zi|=c,null;else b!==null?(_=b.baseLanes|v,u.memoizedState=null):_=v,et(Pl,Zi),Zi|=_;return mi(c,u,T,v),u.child}function d4(c,u){var v=u.ref;(c===null&&v!==null||c!==null&&c.ref!==v)&&(u.flags|=512,u.flags|=2097152)}function Tg(c,u,v,_,T){var b=Gt(v)?bt:Lt.current;return b=nt(u,b),Sl(u,T),v=yg(c,u,v,_,b,T),_=xg(),c!==null&&!Yi?(u.updateQueue=c.updateQueue,u.flags&=-2053,c.lanes&=~T,ws(c,u,T)):(sn&&_&&lg(u),u.flags|=1,mi(c,u,v,T),u.child)}function p4(c,u,v,_,T){if(Gt(v)){var b=!0;On(u)}else b=!1;if(Sl(u,T),u.stateNode===null)c!==null&&(c.alternate=null,u.alternate=null,u.flags|=2),C_(u,v,_),ag(u,v,_,T),_=!0;else if(c===null){var V=u.stateNode,K=u.memoizedProps;V.props=K;var pe=V.context,Ie=v.contextType;typeof Ie=="object"&&Ie!==null?Ie=lr(Ie):(Ie=Gt(v)?bt:Lt.current,Ie=nt(u,Ie));var Ze=v.getDerivedStateFromProps,_t=typeof Ze=="function"||typeof V.getSnapshotBeforeUpdate=="function";_t||typeof V.UNSAFE_componentWillReceiveProps!="function"&&typeof V.componentWillReceiveProps!="function"||(K!==_||pe!==Ie)&&P_(u,V,_,Ie),io=!1;var ht=u.memoizedState;V.state=ht,Xf(u,_,V,T),pe=u.memoizedState,K!==_||ht!==pe||Nt.current||io?(typeof Ze=="function"&&(og(u,v,Ze,_),pe=u.memoizedState),(K=io||b_(u,v,K,_,ht,pe,Ie))?(_t||typeof V.UNSAFE_componentWillMount!="function"&&typeof V.componentWillMount!="function"||(typeof V.componentWillMount=="function"&&V.componentWillMount(),typeof V.UNSAFE_componentWillMount=="function"&&V.UNSAFE_componentWillMount()),typeof V.componentDidMount=="function"&&(u.flags|=4194308)):(typeof V.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=_,u.memoizedState=pe),V.props=_,V.state=pe,V.context=Ie,_=K):(typeof V.componentDidMount=="function"&&(u.flags|=4194308),_=!1)}else{V=u.stateNode,w_(c,u),K=u.memoizedProps,Ie=u.type===u.elementType?K:Pr(u.type,K),V.props=Ie,_t=u.pendingProps,ht=V.context,pe=v.contextType,typeof pe=="object"&&pe!==null?pe=lr(pe):(pe=Gt(v)?bt:Lt.current,pe=nt(u,pe));var Kt=v.getDerivedStateFromProps;(Ze=typeof Kt=="function"||typeof V.getSnapshotBeforeUpdate=="function")||typeof V.UNSAFE_componentWillReceiveProps!="function"&&typeof V.componentWillReceiveProps!="function"||(K!==_t||ht!==pe)&&P_(u,V,_,pe),io=!1,ht=u.memoizedState,V.state=ht,Xf(u,_,V,T);var rt=u.memoizedState;K!==_t||ht!==rt||Nt.current||io?(typeof Kt=="function"&&(og(u,v,Kt,_),rt=u.memoizedState),(Ie=io||b_(u,v,Ie,_,ht,rt,pe)||!1)?(Ze||typeof V.UNSAFE_componentWillUpdate!="function"&&typeof V.componentWillUpdate!="function"||(typeof V.componentWillUpdate=="function"&&V.componentWillUpdate(_,rt,pe),typeof V.UNSAFE_componentWillUpdate=="function"&&V.UNSAFE_componentWillUpdate(_,rt,pe)),typeof V.componentDidUpdate=="function"&&(u.flags|=4),typeof V.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof V.componentDidUpdate!="function"||K===c.memoizedProps&&ht===c.memoizedState||(u.flags|=4),typeof V.getSnapshotBeforeUpdate!="function"||K===c.memoizedProps&&ht===c.memoizedState||(u.flags|=1024),u.memoizedProps=_,u.memoizedState=rt),V.props=_,V.state=rt,V.context=pe,_=Ie):(typeof V.componentDidUpdate!="function"||K===c.memoizedProps&&ht===c.memoizedState||(u.flags|=4),typeof V.getSnapshotBeforeUpdate!="function"||K===c.memoizedProps&&ht===c.memoizedState||(u.flags|=1024),_=!1)}return Ag(c,u,v,_,b,T)}function Ag(c,u,v,_,T,b){d4(c,u);var V=(u.flags&128)!==0;if(!_&&!V)return T&&to(u,v,!1),ws(c,u,b);_=u.stateNode,fP.current=u;var K=V&&typeof v.getDerivedStateFromError!="function"?null:_.render();return u.flags|=1,c!==null&&V?(u.child=Tl(u,c.child,null,b),u.child=Tl(u,null,K,b)):mi(c,u,K,b),u.memoizedState=_.state,T&&to(u,v,!0),u.child}function m4(c){var u=c.stateNode;u.pendingContext?bi(c,u.pendingContext,u.pendingContext!==u.context):u.context&&bi(c,u.context,!1),dg(c,u.containerInfo)}function g4(c,u,v,_,T){return El(),fg(T),u.flags|=256,mi(c,u,v,_),u.child}var ad={dehydrated:null,treeContext:null,retryLane:0};function ld(c){return{baseLanes:c,cachePool:null}}function v4(c,u,v){var _=u.pendingProps,T=an.current,b=!1,V=(u.flags&128)!==0,K;if((K=V)||(K=c!==null&&c.memoizedState===null?!1:(T&2)!==0),K?(b=!0,u.flags&=-129):(c===null||c.memoizedState!==null)&&(T|=1),et(an,T&1),c===null)return hg(u),c=u.memoizedState,c!==null&&(c=c.dehydrated,c!==null)?(u.mode&1?oa(c)?u.lanes=8:u.lanes=1073741824:u.lanes=1,null):(T=_.children,c=_.fallback,b?(_=u.mode,b=u.child,T={mode:"hidden",children:T},!(_&1)&&b!==null?(b.childLanes=0,b.pendingProps=T):b=Cd(T,_,0,null),c=ma(c,_,v,null),b.return=u,c.return=u,b.sibling=c,u.child=b,u.child.memoizedState=ld(v),u.memoizedState=ad,c):bg(u,T));if(T=c.memoizedState,T!==null){if(K=T.dehydrated,K!==null){if(V)return u.flags&256?(u.flags&=-257,cd(c,u,v,Error(o(422)))):u.memoizedState!==null?(u.child=c.child,u.flags|=128,null):(b=_.fallback,T=u.mode,_=Cd({mode:"visible",children:_.children},T,0,null),b=ma(b,T,v,null),b.flags|=2,_.return=u,b.return=u,_.sibling=b,u.child=_,u.mode&1&&Tl(u,c.child,null,v),u.child.memoizedState=ld(v),u.memoizedState=ad,b);if(!(u.mode&1))u=cd(c,u,v,null);else if(oa(K))u=cd(c,u,v,Error(o(419)));else if(_=(v&c.childLanes)!==0,Yi||_){if(_=En,_!==null){switch(v&-v){case 4:b=2;break;case 16:b=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:b=32;break;case 536870912:b=268435456;break;default:b=0}_=b&(_.suspendedLanes|v)?0:b,_!==0&&_!==T.retryLane&&(T.retryLane=_,dr(c,_,-1))}qg(),u=cd(c,u,v,Error(o(421)))}else qr(K)?(u.flags|=128,u.child=c.child,u=TP.bind(null,c),Df(K,u),u=null):(v=T.treeContext,Qe&&(qi=xl(K),Xi=u,sn=!0,Rr=null,su=!1,v!==null&&(cr[ur++]=_s,cr[ur++]=Ss,cr[ur++]=aa,_s=v.id,Ss=v.overflow,aa=u)),u=bg(u,u.pendingProps.children),u.flags|=4096);return u}return b?(_=x4(c,u,_.children,_.fallback,v),b=u.child,T=c.child.memoizedState,b.memoizedState=T===null?ld(v):{baseLanes:T.baseLanes|v,cachePool:null},b.childLanes=c.childLanes&~v,u.memoizedState=ad,_):(v=y4(c,u,_.children,v),u.memoizedState=null,v)}return b?(_=x4(c,u,_.children,_.fallback,v),b=u.child,T=c.child.memoizedState,b.memoizedState=T===null?ld(v):{baseLanes:T.baseLanes|v,cachePool:null},b.childLanes=c.childLanes&~v,u.memoizedState=ad,_):(v=y4(c,u,_.children,v),u.memoizedState=null,v)}function bg(c,u){return u=Cd({mode:"visible",children:u},c.mode,0,null),u.return=c,c.child=u}function y4(c,u,v,_){var T=c.child;return c=T.sibling,v=co(T,{mode:"visible",children:v}),!(u.mode&1)&&(v.lanes=_),v.return=u,v.sibling=null,c!==null&&(_=u.deletions,_===null?(u.deletions=[c],u.flags|=16):_.push(c)),u.child=v}function x4(c,u,v,_,T){var b=u.mode;c=c.child;var V=c.sibling,K={mode:"hidden",children:v};return!(b&1)&&u.child!==c?(v=u.child,v.childLanes=0,v.pendingProps=K,u.deletions=null):(v=co(c,K),v.subtreeFlags=c.subtreeFlags&14680064),V!==null?_=co(V,_):(_=ma(_,b,T,null),_.flags|=2),_.return=u,v.return=u,v.sibling=_,u.child=v,_}function cd(c,u,v,_){return _!==null&&fg(_),Tl(u,c.child,null,v),c=bg(u,u.pendingProps.children),c.flags|=2,u.memoizedState=null,c}function _4(c,u,v){c.lanes|=u;var _=c.alternate;_!==null&&(_.lanes|=u),rg(c.return,u,v)}function Cg(c,u,v,_,T){var b=c.memoizedState;b===null?c.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:_,tail:v,tailMode:T}:(b.isBackwards=u,b.rendering=null,b.renderingStartTime=0,b.last=_,b.tail=v,b.tailMode=T)}function S4(c,u,v){var _=u.pendingProps,T=_.revealOrder,b=_.tail;if(mi(c,u,_.children,v),_=an.current,_&2)_=_&1|2,u.flags|=128;else{if(c!==null&&c.flags&128)e:for(c=u.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&_4(c,v,u);else if(c.tag===19)_4(c,v,u);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===u)break e;for(;c.sibling===null;){if(c.return===null||c.return===u)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}_&=1}if(et(an,_),!(u.mode&1))u.memoizedState=null;else switch(T){case"forwards":for(v=u.child,T=null;v!==null;)c=v.alternate,c!==null&&$f(c)===null&&(T=v),v=v.sibling;v=T,v===null?(T=u.child,u.child=null):(T=v.sibling,v.sibling=null),Cg(u,!1,T,v,b);break;case"backwards":for(v=null,T=u.child,u.child=null;T!==null;){if(c=T.alternate,c!==null&&$f(c)===null){u.child=T;break}c=T.sibling,T.sibling=v,v=T,T=c}Cg(u,!0,v,null,b);break;case"together":Cg(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function ws(c,u,v){if(c!==null&&(u.dependencies=c.dependencies),Rl|=u.lanes,!(v&u.childLanes))return null;if(c!==null&&u.child!==c.child)throw Error(o(153));if(u.child!==null){for(c=u.child,v=co(c,c.pendingProps),u.child=v,v.return=u;c.sibling!==null;)c=c.sibling,v=v.sibling=co(c,c.pendingProps),v.return=u;v.sibling=null}return u.child}function dP(c,u,v){switch(u.tag){case 3:m4(u),El();break;case 5:O_(u);break;case 1:Gt(u.type)&&On(u);break;case 4:dg(u,u.stateNode.containerInfo);break;case 10:M_(u,u.type._context,u.memoizedProps.value);break;case 13:var _=u.memoizedState;if(_!==null)return _.dehydrated!==null?(et(an,an.current&1),u.flags|=128,null):v&u.child.childLanes?v4(c,u,v):(et(an,an.current&1),c=ws(c,u,v),c!==null?c.sibling:null);et(an,an.current&1);break;case 19:if(_=(v&u.childLanes)!==0,c.flags&128){if(_)return S4(c,u,v);u.flags|=128}var T=u.memoizedState;if(T!==null&&(T.rendering=null,T.tail=null,T.lastEffect=null),et(an,an.current),_)break;return null;case 22:case 23:return u.lanes=0,f4(c,u,v)}return ws(c,u,v)}function pP(c,u){switch(cg(u),u.tag){case 1:return Gt(u.type)&&kt(),c=u.flags,c&65536?(u.flags=c&-65537|128,u):null;case 3:return bl(),De(Nt),De(Lt),gg(),c=u.flags,c&65536&&!(c&128)?(u.flags=c&-65537|128,u):null;case 5:return pg(u),null;case 13:if(De(an),c=u.memoizedState,c!==null&&c.dehydrated!==null){if(u.alternate===null)throw Error(o(340));El()}return c=u.flags,c&65536?(u.flags=c&-65537|128,u):null;case 19:return De(an),null;case 4:return bl(),null;case 10:return ig(u.type._context),null;case 22:case 23:return Xg(),null;case 24:return null;default:return null}}var ud=!1,ua=!1,mP=typeof WeakSet=="function"?WeakSet:Set,Be=null;function hd(c,u){var v=c.ref;if(v!==null)if(typeof v=="function")try{v(null)}catch(_){Li(c,u,_)}else v.current=null}function Pg(c,u,v){try{v()}catch(_){Li(c,u,_)}}var M4=!1;function gP(c,u){for(W(c.containerInfo),Be=u;Be!==null;)if(c=Be,u=c.child,(c.subtreeFlags&1028)!==0&&u!==null)u.return=c,Be=u;else for(;Be!==null;){c=Be;try{var v=c.alternate;if(c.flags&1024)switch(c.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var _=v.memoizedProps,T=v.memoizedState,b=c.stateNode,V=b.getSnapshotBeforeUpdate(c.elementType===c.type?_:Pr(c.type,_),T);b.__reactInternalSnapshotBeforeUpdate=V}break;case 3:vt&&ve(c.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(K){Li(c,c.return,K)}if(u=c.sibling,u!==null){u.return=c.return,Be=u;break}Be=c.return}return v=M4,M4=!1,v}function ha(c,u,v){var _=u.updateQueue;if(_=_!==null?_.lastEffect:null,_!==null){var T=_=_.next;do{if((T.tag&c)===c){var b=T.destroy;T.destroy=void 0,b!==void 0&&Pg(u,v,b)}T=T.next}while(T!==_)}}function vu(c,u){if(u=u.updateQueue,u=u!==null?u.lastEffect:null,u!==null){var v=u=u.next;do{if((v.tag&c)===c){var _=v.create;v.destroy=_()}v=v.next}while(v!==u)}}function Rg(c){var u=c.ref;if(u!==null){var v=c.stateNode;switch(c.tag){case 5:c=te(v);break;default:c=v}typeof u=="function"?u(c):u.current=c}}function w4(c,u,v){if(Yr&&typeof Yr.onCommitFiberUnmount=="function")try{Yr.onCommitFiberUnmount(Bf,u)}catch{}switch(u.tag){case 0:case 11:case 14:case 15:if(c=u.updateQueue,c!==null&&(c=c.lastEffect,c!==null)){var _=c=c.next;do{var T=_,b=T.destroy;T=T.tag,b!==void 0&&(T&2||T&4)&&Pg(u,v,b),_=_.next}while(_!==c)}break;case 1:if(hd(u,v),c=u.stateNode,typeof c.componentWillUnmount=="function")try{c.props=u.memoizedProps,c.state=u.memoizedState,c.componentWillUnmount()}catch(V){Li(u,v,V)}break;case 5:hd(u,v);break;case 4:vt?P4(c,u,v):wt&&wt&&(u=u.stateNode.containerInfo,v=Ue(u),en(u,v))}}function E4(c,u,v){for(var _=u;;)if(w4(c,_,v),_.child===null||vt&&_.tag===4){if(_===u)break;for(;_.sibling===null;){if(_.return===null||_.return===u)return;_=_.return}_.sibling.return=_.return,_=_.sibling}else _.child.return=_,_=_.child}function T4(c){var u=c.alternate;u!==null&&(c.alternate=null,T4(u)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(u=c.stateNode,u!==null&&Ce(u)),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}function A4(c){return c.tag===5||c.tag===3||c.tag===4}function b4(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||A4(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function C4(c){if(vt){e:{for(var u=c.return;u!==null;){if(A4(u))break e;u=u.return}throw Error(o(160))}var v=u;switch(v.tag){case 5:u=v.stateNode,v.flags&32&&(me(u),v.flags&=-33),v=b4(c),Lg(c,v,u);break;case 3:case 4:u=v.stateNode.containerInfo,v=b4(c),Ig(c,v,u);break;default:throw Error(o(161))}}}function Ig(c,u,v){var _=c.tag;if(_===5||_===6)c=c.stateNode,u?pt(v,c,u):st(v,c);else if(_!==4&&(c=c.child,c!==null))for(Ig(c,u,v),c=c.sibling;c!==null;)Ig(c,u,v),c=c.sibling}function Lg(c,u,v){var _=c.tag;if(_===5||_===6)c=c.stateNode,u?at(v,c,u):Ne(v,c);else if(_!==4&&(c=c.child,c!==null))for(Lg(c,u,v),c=c.sibling;c!==null;)Lg(c,u,v),c=c.sibling}function P4(c,u,v){for(var _=u,T=!1,b,V;;){if(!T){T=_.return;e:for(;;){if(T===null)throw Error(o(160));switch(b=T.stateNode,T.tag){case 5:V=!1;break e;case 3:b=b.containerInfo,V=!0;break e;case 4:b=b.containerInfo,V=!0;break e}T=T.return}T=!0}if(_.tag===5||_.tag===6)E4(c,_,v),V?Y(b,_.stateNode):We(b,_.stateNode);else if(_.tag===18)V?q1(b,_.stateNode):X1(b,_.stateNode);else if(_.tag===4){if(_.child!==null){b=_.stateNode.containerInfo,V=!0,_.child.return=_,_=_.child;continue}}else if(w4(c,_,v),_.child!==null){_.child.return=_,_=_.child;continue}if(_===u)break;for(;_.sibling===null;){if(_.return===null||_.return===u)return;_=_.return,_.tag===4&&(T=!1)}_.sibling.return=_.return,_=_.sibling}}function Ng(c,u){if(vt){switch(u.tag){case 0:case 11:case 14:case 15:ha(3,u,u.return),vu(3,u),ha(5,u,u.return);return;case 1:return;case 5:var v=u.stateNode;if(v!=null){var _=u.memoizedProps;c=c!==null?c.memoizedProps:_;var T=u.type,b=u.updateQueue;u.updateQueue=null,b!==null&&Ge(v,b,T,c,_,u)}return;case 6:if(u.stateNode===null)throw Error(o(162));v=u.memoizedProps,ct(u.stateNode,c!==null?c.memoizedProps:v,v);return;case 3:Qe&&c!==null&&c.memoizedState.isDehydrated&&Ff(u.stateNode.containerInfo);return;case 12:return;case 13:fd(u);return;case 19:fd(u);return;case 17:return}throw Error(o(163))}switch(u.tag){case 0:case 11:case 14:case 15:ha(3,u,u.return),vu(3,u),ha(5,u,u.return);return;case 12:return;case 13:fd(u);return;case 19:fd(u);return;case 3:Qe&&c!==null&&c.memoizedState.isDehydrated&&Ff(u.stateNode.containerInfo);break;case 22:case 23:return}e:if(wt){switch(u.tag){case 1:case 5:case 6:break e;case 3:case 4:u=u.stateNode,en(u.containerInfo,u.pendingChildren);break e}throw Error(o(163))}}function fd(c){var u=c.updateQueue;if(u!==null){c.updateQueue=null;var v=c.stateNode;v===null&&(v=c.stateNode=new mP),u.forEach(function(_){var T=AP.bind(null,c,_);v.has(_)||(v.add(_),_.then(T,T))})}}function vP(c,u){for(Be=u;Be!==null;){u=Be;var v=u.deletions;if(v!==null)for(var _=0;_<v.length;_++){var T=v[_];try{var b=c;vt?P4(b,T,u):E4(b,T,u);var V=T.alternate;V!==null&&(V.return=null),T.return=null}catch(it){Li(T,u,it)}}if(v=u.child,u.subtreeFlags&12854&&v!==null)v.return=u,Be=v;else for(;Be!==null;){u=Be;try{var K=u.flags;if(K&32&&vt&&me(u.stateNode),K&512){var pe=u.alternate;if(pe!==null){var Ie=pe.ref;Ie!==null&&(typeof Ie=="function"?Ie(null):Ie.current=null)}}if(K&8192)switch(u.tag){case 13:if(u.memoizedState!==null){var Ze=u.alternate;(Ze===null||Ze.memoizedState===null)&&(Bg=Fn())}break;case 22:var _t=u.memoizedState!==null,ht=u.alternate,Kt=ht!==null&&ht.memoizedState!==null;if(v=u,vt){e:if(_=v,T=_t,b=null,vt)for(var rt=_;;){if(rt.tag===5){if(b===null){b=rt;var ni=rt.stateNode;T?ze(ni):Re(rt.stateNode,rt.memoizedProps)}}else if(rt.tag===6){if(b===null){var mr=rt.stateNode;T?j(mr):ce(mr,rt.memoizedProps)}}else if((rt.tag!==22&&rt.tag!==23||rt.memoizedState===null||rt===_)&&rt.child!==null){rt.child.return=rt,rt=rt.child;continue}if(rt===_)break;for(;rt.sibling===null;){if(rt.return===null||rt.return===_)break e;b===rt&&(b=null),rt=rt.return}b===rt&&(b=null),rt.sibling.return=rt.return,rt=rt.sibling}}if(_t&&!Kt&&v.mode&1){Be=v;for(var re=v.child;re!==null;){for(v=Be=re;Be!==null;){_=Be;var $=_.child;switch(_.tag){case 0:case 11:case 14:case 15:ha(4,_,_.return);break;case 1:hd(_,_.return);var he=_.stateNode;if(typeof he.componentWillUnmount=="function"){var He=_.return;try{he.props=_.memoizedProps,he.state=_.memoizedState,he.componentWillUnmount()}catch(it){Li(_,He,it)}}break;case 5:hd(_,_.return);break;case 22:if(_.memoizedState!==null){L4(v);continue}}$!==null?($.return=_,Be=$):L4(v)}re=re.sibling}}}switch(K&4102){case 2:C4(u),u.flags&=-3;break;case 6:C4(u),u.flags&=-3,Ng(u.alternate,u);break;case 4096:u.flags&=-4097;break;case 4100:u.flags&=-4097,Ng(u.alternate,u);break;case 4:Ng(u.alternate,u)}}catch(it){Li(u,u.return,it)}if(v=u.sibling,v!==null){v.return=u.return,Be=v;break}Be=u.return}}}function yP(c,u,v){Be=c,R4(c)}function R4(c,u,v){for(var _=(c.mode&1)!==0;Be!==null;){var T=Be,b=T.child;if(T.tag===22&&_){var V=T.memoizedState!==null||ud;if(!V){var K=T.alternate,pe=K!==null&&K.memoizedState!==null||ua;K=ud;var Ie=ua;if(ud=V,(ua=pe)&&!Ie)for(Be=T;Be!==null;)V=Be,pe=V.child,V.tag===22&&V.memoizedState!==null?N4(T):pe!==null?(pe.return=V,Be=pe):N4(T);for(;b!==null;)Be=b,R4(b),b=b.sibling;Be=T,ud=K,ua=Ie}I4(c)}else T.subtreeFlags&8772&&b!==null?(b.return=T,Be=b):I4(c)}}function I4(c){for(;Be!==null;){var u=Be;if(u.flags&8772){var v=u.alternate;try{if(u.flags&8772)switch(u.tag){case 0:case 11:case 15:ua||vu(5,u);break;case 1:var _=u.stateNode;if(u.flags&4&&!ua)if(v===null)_.componentDidMount();else{var T=u.elementType===u.type?v.memoizedProps:Pr(u.type,v.memoizedProps);_.componentDidUpdate(T,v.memoizedState,_.__reactInternalSnapshotBeforeUpdate)}var b=u.updateQueue;b!==null&&T_(u,b,_);break;case 3:var V=u.updateQueue;if(V!==null){if(v=null,u.child!==null)switch(u.child.tag){case 5:v=te(u.child.stateNode);break;case 1:v=u.child.stateNode}T_(u,V,v)}break;case 5:var K=u.stateNode;v===null&&u.flags&4&&Ee(K,u.type,u.memoizedProps,u);break;case 6:break;case 4:break;case 12:break;case 13:if(Qe&&u.memoizedState===null){var pe=u.alternate;if(pe!==null){var Ie=pe.memoizedState;if(Ie!==null){var Ze=Ie.dehydrated;Ze!==null&&j1(Ze)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}ua||u.flags&512&&Rg(u)}catch(_t){Li(u,u.return,_t)}}if(u===c){Be=null;break}if(v=u.sibling,v!==null){v.return=u.return,Be=v;break}Be=u.return}}function L4(c){for(;Be!==null;){var u=Be;if(u===c){Be=null;break}var v=u.sibling;if(v!==null){v.return=u.return,Be=v;break}Be=u.return}}function N4(c){for(;Be!==null;){var u=Be;try{switch(u.tag){case 0:case 11:case 15:var v=u.return;try{vu(4,u)}catch(pe){Li(u,v,pe)}break;case 1:var _=u.stateNode;if(typeof _.componentDidMount=="function"){var T=u.return;try{_.componentDidMount()}catch(pe){Li(u,T,pe)}}var b=u.return;try{Rg(u)}catch(pe){Li(u,b,pe)}break;case 5:var V=u.return;try{Rg(u)}catch(pe){Li(u,V,pe)}}}catch(pe){Li(u,u.return,pe)}if(u===c){Be=null;break}var K=u.sibling;if(K!==null){K.return=u.return,Be=K;break}Be=u.return}}var dd=0,pd=1,md=2,gd=3,vd=4;if(typeof Symbol=="function"&&Symbol.for){var yu=Symbol.for;dd=yu("selector.component"),pd=yu("selector.has_pseudo_class"),md=yu("selector.role"),gd=yu("selector.test_id"),vd=yu("selector.text")}function Dg(c){var u=z(c);if(u!=null){if(typeof u.memoizedProps["data-testname"]!="string")throw Error(o(364));return u}if(c=F(c),c===null)throw Error(o(362));return c.stateNode.current}function Ug(c,u){switch(u.$$typeof){case dd:if(c.type===u.value)return!0;break;case pd:e:{u=u.value,c=[c,0];for(var v=0;v<c.length;){var _=c[v++],T=c[v++],b=u[T];if(_.tag!==5||!ue(_)){for(;b!=null&&Ug(_,b);)T++,b=u[T];if(T===u.length){u=!0;break e}else for(_=_.child;_!==null;)c.push(_,T),_=_.sibling}}u=!1}return u;case md:if(c.tag===5&&xe(c.stateNode,u.value))return!0;break;case vd:if((c.tag===5||c.tag===6)&&(c=ee(c),c!==null&&0<=c.indexOf(u.value)))return!0;break;case gd:if(c.tag===5&&(c=c.memoizedProps["data-testname"],typeof c=="string"&&c.toLowerCase()===u.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function kg(c){switch(c.$$typeof){case dd:return"<"+(I(c.value)||"Unknown")+">";case pd:return":has("+(kg(c)||"")+")";case md:return'[role="'+c.value+'"]';case vd:return'"'+c.value+'"';case gd:return'[data-testname="'+c.value+'"]';default:throw Error(o(365))}}function D4(c,u){var v=[];c=[c,0];for(var _=0;_<c.length;){var T=c[_++],b=c[_++],V=u[b];if(T.tag!==5||!ue(T)){for(;V!=null&&Ug(T,V);)b++,V=u[b];if(b===u.length)v.push(T);else for(T=T.child;T!==null;)c.push(T,b),T=T.sibling}}return v}function Og(c,u){if(!Me)throw Error(o(363));c=Dg(c),c=D4(c,u),u=[],c=Array.from(c);for(var v=0;v<c.length;){var _=c[v++];if(_.tag===5)ue(_)||u.push(_.stateNode);else for(_=_.child;_!==null;)c.push(_),_=_.sibling}return u}var xP=Math.ceil,yd=a.ReactCurrentDispatcher,Fg=a.ReactCurrentOwner,xn=a.ReactCurrentBatchConfig,Rt=0,En=null,Tn=null,jn=0,Zi=0,Pl=ot(0),In=0,xu=null,Rl=0,xd=0,zg=0,_u=null,Ri=null,Bg=0,Vg=1/0;function Il(){Vg=Fn()+500}var _d=!1,Hg=null,so=null,Sd=!1,oo=null,Md=0,Su=0,Gg=null,wd=-1,Ed=0;function gi(){return Rt&6?Fn():wd!==-1?wd:wd=Fn()}function ao(c){return c.mode&1?Rt&2&&jn!==0?jn&-jn:tP.transition!==null?(Ed===0&&(c=Rn,Rn<<=1,!(Rn&4194240)&&(Rn=64),Ed=c),Ed):(c=Wt,c!==0?c:Se()):1}function dr(c,u,v){if(50<Su)throw Su=0,Gg=null,Error(o(185));var _=Td(c,u);return _===null?null:(ru(_,u,v),(!(Rt&2)||_!==En)&&(_===En&&(!(Rt&2)&&(xd|=u),In===4&&lo(_,jn)),Ii(_,v),u===1&&Rt===0&&!(c.mode&1)&&(Il(),Vf&&Kr())),_)}function Td(c,u){c.lanes|=u;var v=c.alternate;for(v!==null&&(v.lanes|=u),v=c,c=c.return;c!==null;)c.childLanes|=u,v=c.alternate,v!==null&&(v.childLanes|=u),v=c,c=c.return;return v.tag===3?v.stateNode:null}function Ii(c,u){var v=c.callbackNode;XC(c,u);var _=zf(c,c===En?jn:0);if(_===0)v!==null&&__(v),c.callbackNode=null,c.callbackPriority=0;else if(u=_&-_,c.callbackPriority!==u){if(v!=null&&__(v),u===1)c.tag===0?eP(k4.bind(null,c)):S_(k4.bind(null,c)),ye?Je(function(){Rt===0&&Kr()}):$1(J1,Kr),v=null;else{switch(x_(_)){case 1:v=J1;break;case 4:v=KC;break;case 16:v=Q1;break;case 536870912:v=$C;break;default:v=Q1}v=j4(v,U4.bind(null,c))}c.callbackPriority=u,c.callbackNode=v}}function U4(c,u){if(wd=-1,Ed=0,Rt&6)throw Error(o(327));var v=c.callbackNode;if(pa()&&c.callbackNode!==v)return null;var _=zf(c,c===En?jn:0);if(_===0)return null;if(_&30||_&c.expiredLanes||u)u=Ad(c,_);else{u=_;var T=Rt;Rt|=2;var b=z4();(En!==c||jn!==u)&&(Il(),fa(c,u));do try{MP();break}catch(K){F4(c,K)}while(1);ng(),yd.current=b,Rt=T,Tn!==null?u=0:(En=null,jn=0,u=In)}if(u!==0){if(u===2&&(T=Y1(c),T!==0&&(_=T,u=Wg(c,T))),u===1)throw v=xu,fa(c,0),lo(c,_),Ii(c,Fn()),v;if(u===6)lo(c,_);else{if(T=c.current.alternate,!(_&30)&&!_P(T)&&(u=Ad(c,_),u===2&&(b=Y1(c),b!==0&&(_=b,u=Wg(c,b))),u===1))throw v=xu,fa(c,0),lo(c,_),Ii(c,Fn()),v;switch(c.finishedWork=T,c.finishedLanes=_,u){case 0:case 1:throw Error(o(345));case 2:da(c,Ri);break;case 3:if(lo(c,_),(_&130023424)===_&&(u=Bg+500-Fn(),10<u)){if(zf(c,0)!==0)break;if(T=c.suspendedLanes,(T&_)!==_){gi(),c.pingedLanes|=c.suspendedLanes&T;break}c.timeoutHandle=Ae(da.bind(null,c,Ri),u);break}da(c,Ri);break;case 4:if(lo(c,_),(_&4194240)===_)break;for(u=c.eventTimes,T=-1;0<_;){var V=31-Ut(_);b=1<<V,V=u[V],V>T&&(T=V),_&=~b}if(_=T,_=Fn()-_,_=(120>_?120:480>_?480:1080>_?1080:1920>_?1920:3e3>_?3e3:4320>_?4320:1960*xP(_/1960))-_,10<_){c.timeoutHandle=Ae(da.bind(null,c,Ri),_);break}da(c,Ri);break;case 5:da(c,Ri);break;default:throw Error(o(329))}}}return Ii(c,Fn()),c.callbackNode===v?U4.bind(null,c):null}function Wg(c,u){var v=_u;return c.current.memoizedState.isDehydrated&&(fa(c,u).flags|=256),c=Ad(c,u),c!==2&&(u=Ri,Ri=v,u!==null&&jg(u)),c}function jg(c){Ri===null?Ri=c:Ri.push.apply(Ri,c)}function _P(c){for(var u=c;;){if(u.flags&16384){var v=u.updateQueue;if(v!==null&&(v=v.stores,v!==null))for(var _=0;_<v.length;_++){var T=v[_],b=T.getSnapshot;T=T.value;try{if(!Zr(b(),T))return!1}catch{return!1}}}if(v=u.child,u.subtreeFlags&16384&&v!==null)v.return=u,u=v;else{if(u===c)break;for(;u.sibling===null;){if(u.return===null||u.return===c)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function lo(c,u){for(u&=~zg,u&=~xd,c.suspendedLanes|=u,c.pingedLanes&=~u,c=c.expirationTimes;0<u;){var v=31-Ut(u),_=1<<v;c[v]=-1,u&=~_}}function k4(c){if(Rt&6)throw Error(o(327));pa();var u=zf(c,0);if(!(u&1))return Ii(c,Fn()),null;var v=Ad(c,u);if(c.tag!==0&&v===2){var _=Y1(c);_!==0&&(u=_,v=Wg(c,_))}if(v===1)throw v=xu,fa(c,0),lo(c,u),Ii(c,Fn()),v;if(v===6)throw Error(o(345));return c.finishedWork=c.current.alternate,c.finishedLanes=u,da(c,Ri),Ii(c,Fn()),null}function O4(c){oo!==null&&oo.tag===0&&!(Rt&6)&&pa();var u=Rt;Rt|=1;var v=xn.transition,_=Wt;try{if(xn.transition=null,Wt=1,c)return c()}finally{Wt=_,xn.transition=v,Rt=u,!(Rt&6)&&Kr()}}function Xg(){Zi=Pl.current,De(Pl)}function fa(c,u){c.finishedWork=null,c.finishedLanes=0;var v=c.timeoutHandle;if(v!==dt&&(c.timeoutHandle=dt,tt(v)),Tn!==null)for(v=Tn.return;v!==null;){var _=v;switch(cg(_),_.tag){case 1:_=_.type.childContextTypes,_!=null&&kt();break;case 3:bl(),De(Nt),De(Lt),gg();break;case 5:pg(_);break;case 4:bl();break;case 13:De(an);break;case 19:De(an);break;case 10:ig(_.type._context);break;case 22:case 23:Xg()}v=v.return}if(En=c,Tn=c=co(c.current,null),jn=Zi=u,In=0,xu=null,zg=xd=Rl=0,Ri=_u=null,$r!==null){for(u=0;u<$r.length;u++)if(v=$r[u],_=v.interleaved,_!==null){v.interleaved=null;var T=_.next,b=v.pending;if(b!==null){var V=b.next;b.next=T,_.next=V}v.pending=_}$r=null}return c}function F4(c,u){do{var v=Tn;try{if(ng(),Jf.current=rd,Qf){for(var _=dn.memoizedState;_!==null;){var T=_.queue;T!==null&&(T.pending=null),_=_.next}Qf=!1}if(Cl=0,zn=Qn=dn=null,uu=!1,hu=0,Fg.current=null,v===null||v.return===null){In=1,xu=u,Tn=null;break}e:{var b=c,V=v.return,K=v,pe=u;if(u=jn,K.flags|=32768,pe!==null&&typeof pe=="object"&&typeof pe.then=="function"){var Ie=pe,Ze=K,_t=Ze.tag;if(!(Ze.mode&1)&&(_t===0||_t===11||_t===15)){var ht=Ze.alternate;ht?(Ze.updateQueue=ht.updateQueue,Ze.memoizedState=ht.memoizedState,Ze.lanes=ht.lanes):(Ze.updateQueue=null,Ze.memoizedState=null)}var Kt=s4(V);if(Kt!==null){Kt.flags&=-257,o4(Kt,V,K,b,u),Kt.mode&1&&r4(b,Ie,u),u=Kt,pe=Ie;var rt=u.updateQueue;if(rt===null){var ni=new Set;ni.add(pe),u.updateQueue=ni}else rt.add(pe);break e}else{if(!(u&1)){r4(b,Ie,u),qg();break e}pe=Error(o(426))}}else if(sn&&K.mode&1){var mr=s4(V);if(mr!==null){!(mr.flags&65536)&&(mr.flags|=256),o4(mr,V,K,b,u),fg(pe);break e}}b=pe,In!==4&&(In=2),_u===null?_u=[b]:_u.push(b),pe=wg(pe,K),K=V;do{switch(K.tag){case 3:K.flags|=65536,u&=-u,K.lanes|=u;var re=n4(K,pe,u);E_(K,re);break e;case 1:b=pe;var $=K.type,he=K.stateNode;if(!(K.flags&128)&&(typeof $.getDerivedStateFromError=="function"||he!==null&&typeof he.componentDidCatch=="function"&&(so===null||!so.has(he)))){K.flags|=65536,u&=-u,K.lanes|=u;var He=i4(K,b,u);E_(K,He);break e}}K=K.return}while(K!==null)}V4(v)}catch(it){u=it,Tn===v&&v!==null&&(Tn=v=v.return);continue}break}while(1)}function z4(){var c=yd.current;return yd.current=rd,c===null?rd:c}function qg(){(In===0||In===3||In===2)&&(In=4),En===null||!(Rl&268435455)&&!(xd&268435455)||lo(En,jn)}function Ad(c,u){var v=Rt;Rt|=2;var _=z4();En===c&&jn===u||fa(c,u);do try{SP();break}catch(T){F4(c,T)}while(1);if(ng(),Rt=v,yd.current=_,Tn!==null)throw Error(o(261));return En=null,jn=0,In}function SP(){for(;Tn!==null;)B4(Tn)}function MP(){for(;Tn!==null&&!YC();)B4(Tn)}function B4(c){var u=W4(c.alternate,c,Zi);c.memoizedProps=c.pendingProps,u===null?V4(c):Tn=u,Fg.current=null}function V4(c){var u=c;do{var v=u.alternate;if(c=u.return,u.flags&32768){if(v=pP(v,u),v!==null){v.flags&=32767,Tn=v;return}if(c!==null)c.flags|=32768,c.subtreeFlags=0,c.deletions=null;else{In=6,Tn=null;return}}else if(v=hP(v,u,Zi),v!==null){Tn=v;return}if(u=u.sibling,u!==null){Tn=u;return}Tn=u=c}while(u!==null);In===0&&(In=5)}function da(c,u){var v=Wt,_=xn.transition;try{xn.transition=null,Wt=1,wP(c,u,v)}finally{xn.transition=_,Wt=v}return null}function wP(c,u,v){do pa();while(oo!==null);if(Rt&6)throw Error(o(327));var _=c.finishedWork,T=c.finishedLanes;if(_===null)return null;if(c.finishedWork=null,c.finishedLanes=0,_===c.current)throw Error(o(177));c.callbackNode=null,c.callbackPriority=0;var b=_.lanes|_.childLanes;if(qC(c,b),c===En&&(Tn=En=null,jn=0),!(_.subtreeFlags&2064)&&!(_.flags&2064)||Sd||(Sd=!0,j4(Q1,function(){return pa(),null})),b=(_.flags&15990)!==0,_.subtreeFlags&15990||b){b=xn.transition,xn.transition=null;var V=Wt;Wt=1;var K=Rt;Rt|=4,Fg.current=null,gP(c,_),vP(c,_),H(c.containerInfo),c.current=_,yP(_),ZC(),Rt=K,Wt=V,xn.transition=b}else c.current=_;if(Sd&&(Sd=!1,oo=c,Md=T),b=c.pendingLanes,b===0&&(so=null),JC(_.stateNode),Ii(c,Fn()),u!==null)for(v=c.onRecoverableError,_=0;_<u.length;_++)v(u[_]);if(_d)throw _d=!1,c=Hg,Hg=null,c;return Md&1&&c.tag!==0&&pa(),b=c.pendingLanes,b&1?c===Gg?Su++:(Su=0,Gg=c):Su=0,Kr(),null}function pa(){if(oo!==null){var c=x_(Md),u=xn.transition,v=Wt;try{if(xn.transition=null,Wt=16>c?16:c,oo===null)var _=!1;else{if(c=oo,oo=null,Md=0,Rt&6)throw Error(o(331));var T=Rt;for(Rt|=4,Be=c.current;Be!==null;){var b=Be,V=b.child;if(Be.flags&16){var K=b.deletions;if(K!==null){for(var pe=0;pe<K.length;pe++){var Ie=K[pe];for(Be=Ie;Be!==null;){var Ze=Be;switch(Ze.tag){case 0:case 11:case 15:ha(8,Ze,b)}var _t=Ze.child;if(_t!==null)_t.return=Ze,Be=_t;else for(;Be!==null;){Ze=Be;var ht=Ze.sibling,Kt=Ze.return;if(T4(Ze),Ze===Ie){Be=null;break}if(ht!==null){ht.return=Kt,Be=ht;break}Be=Kt}}}var rt=b.alternate;if(rt!==null){var ni=rt.child;if(ni!==null){rt.child=null;do{var mr=ni.sibling;ni.sibling=null,ni=mr}while(ni!==null)}}Be=b}}if(b.subtreeFlags&2064&&V!==null)V.return=b,Be=V;else e:for(;Be!==null;){if(b=Be,b.flags&2048)switch(b.tag){case 0:case 11:case 15:ha(9,b,b.return)}var re=b.sibling;if(re!==null){re.return=b.return,Be=re;break e}Be=b.return}}var $=c.current;for(Be=$;Be!==null;){V=Be;var he=V.child;if(V.subtreeFlags&2064&&he!==null)he.return=V,Be=he;else e:for(V=$;Be!==null;){if(K=Be,K.flags&2048)try{switch(K.tag){case 0:case 11:case 15:vu(9,K)}}catch(it){Li(K,K.return,it)}if(K===V){Be=null;break e}var He=K.sibling;if(He!==null){He.return=K.return,Be=He;break e}Be=K.return}}if(Rt=T,Kr(),Yr&&typeof Yr.onPostCommitFiberRoot=="function")try{Yr.onPostCommitFiberRoot(Bf,c)}catch{}_=!0}return _}finally{Wt=v,xn.transition=u}}return!1}function H4(c,u,v){u=wg(v,u),u=n4(c,u,1),ro(c,u),u=gi(),c=Td(c,1),c!==null&&(ru(c,1,u),Ii(c,u))}function Li(c,u,v){if(c.tag===3)H4(c,c,v);else for(;u!==null;){if(u.tag===3){H4(u,c,v);break}else if(u.tag===1){var _=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof _.componentDidCatch=="function"&&(so===null||!so.has(_))){c=wg(v,c),c=i4(u,c,1),ro(u,c),c=gi(),u=Td(u,1),u!==null&&(ru(u,1,c),Ii(u,c));break}}u=u.return}}function EP(c,u,v){var _=c.pingCache;_!==null&&_.delete(u),u=gi(),c.pingedLanes|=c.suspendedLanes&v,En===c&&(jn&v)===v&&(In===4||In===3&&(jn&130023424)===jn&&500>Fn()-Bg?fa(c,0):zg|=v),Ii(c,u)}function G4(c,u){u===0&&(c.mode&1?(u=no,no<<=1,!(no&130023424)&&(no=4194304)):u=1);var v=gi();c=Td(c,u),c!==null&&(ru(c,u,v),Ii(c,v))}function TP(c){var u=c.memoizedState,v=0;u!==null&&(v=u.retryLane),G4(c,v)}function AP(c,u){var v=0;switch(c.tag){case 13:var _=c.stateNode,T=c.memoizedState;T!==null&&(v=T.retryLane);break;case 19:_=c.stateNode;break;default:throw Error(o(314))}_!==null&&_.delete(u),G4(c,v)}var W4;W4=function(c,u,v){if(c!==null)if(c.memoizedProps!==u.pendingProps||Nt.current)Yi=!0;else{if(!(c.lanes&v)&&!(u.flags&128))return Yi=!1,dP(c,u,v);Yi=!!(c.flags&131072)}else Yi=!1,sn&&u.flags&1048576&&R_(u,Zf,u.index);switch(u.lanes=0,u.tag){case 2:var _=u.type;c!==null&&(c.alternate=null,u.alternate=null,u.flags|=2),c=u.pendingProps;var T=nt(u,Lt.current);Sl(u,v),T=yg(null,u,_,c,T,v);var b=xg();return u.flags|=1,typeof T=="object"&&T!==null&&typeof T.render=="function"&&T.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,Gt(_)?(b=!0,On(u)):b=!1,u.memoizedState=T.state!==null&&T.state!==void 0?T.state:null,sg(u),T.updater=qf,u.stateNode=T,T._reactInternals=u,ag(u,_,c,v),u=Ag(null,u,_,!0,b,v)):(u.tag=0,sn&&b&&lg(u),mi(null,u,T,v),u=u.child),u;case 16:_=u.elementType;e:{switch(c!==null&&(c.alternate=null,u.alternate=null,u.flags|=2),c=u.pendingProps,T=_._init,_=T(_._payload),u.type=_,T=u.tag=CP(_),c=Pr(_,c),T){case 0:u=Tg(null,u,_,c,v);break e;case 1:u=p4(null,u,_,c,v);break e;case 11:u=c4(null,u,_,c,v);break e;case 14:u=u4(null,u,_,Pr(_.type,c),v);break e}throw Error(o(306,_,""))}return u;case 0:return _=u.type,T=u.pendingProps,T=u.elementType===_?T:Pr(_,T),Tg(c,u,_,T,v);case 1:return _=u.type,T=u.pendingProps,T=u.elementType===_?T:Pr(_,T),p4(c,u,_,T,v);case 3:e:{if(m4(u),c===null)throw Error(o(387));_=u.pendingProps,b=u.memoizedState,T=b.element,w_(c,u),Xf(u,_,null,v);var V=u.memoizedState;if(_=V.element,Qe&&b.isDehydrated)if(b={element:_,isDehydrated:!1,cache:V.cache,transitions:V.transitions},u.updateQueue.baseState=b,u.memoizedState=b,u.flags&256){T=Error(o(423)),u=g4(c,u,_,v,T);break e}else if(_!==T){T=Error(o(424)),u=g4(c,u,_,v,T);break e}else for(Qe&&(qi=Uf(u.stateNode.containerInfo),Xi=u,sn=!0,Rr=null,su=!1),v=k_(u,null,_,v),u.child=v;v;)v.flags=v.flags&-3|4096,v=v.sibling;else{if(El(),_===T){u=ws(c,u,v);break e}mi(c,u,_,v)}u=u.child}return u;case 5:return O_(u),c===null&&hg(u),_=u.type,T=u.pendingProps,b=c!==null?c.memoizedProps:null,V=T.children,_e(_,T)?V=null:b!==null&&_e(_,b)&&(u.flags|=32),d4(c,u),mi(c,u,V,v),u.child;case 6:return c===null&&hg(u),null;case 13:return v4(c,u,v);case 4:return dg(u,u.stateNode.containerInfo),_=u.pendingProps,c===null?u.child=Tl(u,null,_,v):mi(c,u,_,v),u.child;case 11:return _=u.type,T=u.pendingProps,T=u.elementType===_?T:Pr(_,T),c4(c,u,_,T,v);case 7:return mi(c,u,u.pendingProps,v),u.child;case 8:return mi(c,u,u.pendingProps.children,v),u.child;case 12:return mi(c,u,u.pendingProps.children,v),u.child;case 10:e:{if(_=u.type._context,T=u.pendingProps,b=u.memoizedProps,V=T.value,M_(u,_,V),b!==null)if(Zr(b.value,V)){if(b.children===T.children&&!Nt.current){u=ws(c,u,v);break e}}else for(b=u.child,b!==null&&(b.return=u);b!==null;){var K=b.dependencies;if(K!==null){V=b.child;for(var pe=K.firstContext;pe!==null;){if(pe.context===_){if(b.tag===1){pe=xs(-1,v&-v),pe.tag=2;var Ie=b.updateQueue;if(Ie!==null){Ie=Ie.shared;var Ze=Ie.pending;Ze===null?pe.next=pe:(pe.next=Ze.next,Ze.next=pe),Ie.pending=pe}}b.lanes|=v,pe=b.alternate,pe!==null&&(pe.lanes|=v),rg(b.return,v,u),K.lanes|=v;break}pe=pe.next}}else if(b.tag===10)V=b.type===u.type?null:b.child;else if(b.tag===18){if(V=b.return,V===null)throw Error(o(341));V.lanes|=v,K=V.alternate,K!==null&&(K.lanes|=v),rg(V,v,u),V=b.sibling}else V=b.child;if(V!==null)V.return=b;else for(V=b;V!==null;){if(V===u){V=null;break}if(b=V.sibling,b!==null){b.return=V.return,V=b;break}V=V.return}b=V}mi(c,u,T.children,v),u=u.child}return u;case 9:return T=u.type,_=u.pendingProps.children,Sl(u,v),T=lr(T),_=_(T),u.flags|=1,mi(c,u,_,v),u.child;case 14:return _=u.type,T=Pr(_,u.pendingProps),T=Pr(_.type,T),u4(c,u,_,T,v);case 15:return h4(c,u,u.type,u.pendingProps,v);case 17:return _=u.type,T=u.pendingProps,T=u.elementType===_?T:Pr(_,T),c!==null&&(c.alternate=null,u.alternate=null,u.flags|=2),u.tag=1,Gt(_)?(c=!0,On(u)):c=!1,Sl(u,v),C_(u,_,T),ag(u,_,T,v),Ag(null,u,_,!0,c,v);case 19:return S4(c,u,v);case 22:return f4(c,u,v)}throw Error(o(156,u.tag))};function j4(c,u){return $1(c,u)}function bP(c,u,v,_){this.tag=c,this.key=v,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=_,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pr(c,u,v,_){return new bP(c,u,v,_)}function Yg(c){return c=c.prototype,!(!c||!c.isReactComponent)}function CP(c){if(typeof c=="function")return Yg(c)?1:0;if(c!=null){if(c=c.$$typeof,c===w)return 11;if(c===x)return 14}return 2}function co(c,u){var v=c.alternate;return v===null?(v=pr(c.tag,u,c.key,c.mode),v.elementType=c.elementType,v.type=c.type,v.stateNode=c.stateNode,v.alternate=c,c.alternate=v):(v.pendingProps=u,v.type=c.type,v.flags=0,v.subtreeFlags=0,v.deletions=null),v.flags=c.flags&14680064,v.childLanes=c.childLanes,v.lanes=c.lanes,v.child=c.child,v.memoizedProps=c.memoizedProps,v.memoizedState=c.memoizedState,v.updateQueue=c.updateQueue,u=c.dependencies,v.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},v.sibling=c.sibling,v.index=c.index,v.ref=c.ref,v}function bd(c,u,v,_,T,b){var V=2;if(_=c,typeof c=="function")Yg(c)&&(V=1);else if(typeof c=="string")V=5;else e:switch(c){case f:return ma(v.children,T,b,u);case d:V=8,T|=8;break;case p:return c=pr(12,v,u,T|2),c.elementType=p,c.lanes=b,c;case S:return c=pr(13,v,u,T),c.elementType=S,c.lanes=b,c;case g:return c=pr(19,v,u,T),c.elementType=g,c.lanes=b,c;case E:return Cd(v,T,b,u);default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case m:V=10;break e;case y:V=9;break e;case w:V=11;break e;case x:V=14;break e;case M:V=16,_=null;break e}throw Error(o(130,c==null?c:typeof c,""))}return u=pr(V,v,u,T),u.elementType=c,u.type=_,u.lanes=b,u}function ma(c,u,v,_){return c=pr(7,c,_,u),c.lanes=v,c}function Cd(c,u,v,_){return c=pr(22,c,_,u),c.elementType=E,c.lanes=v,c.stateNode={},c}function Zg(c,u,v){return c=pr(6,c,null,u),c.lanes=v,c}function Kg(c,u,v){return u=pr(4,c.children!==null?c.children:[],c.key,u),u.lanes=v,u.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},u}function PP(c,u,v,_,T){this.tag=u,this.containerInfo=c,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=dt,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Z1(0),this.expirationTimes=Z1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Z1(0),this.identifierPrefix=_,this.onRecoverableError=T,Qe&&(this.mutableSourceEagerHydrationData=null)}function X4(c,u,v,_,T,b,V,K,pe){return c=new PP(c,u,v,K,pe),u===1?(u=1,b===!0&&(u|=8)):u=0,b=pr(3,null,null,u),c.current=b,b.stateNode=c,b.memoizedState={element:_,isDehydrated:v,cache:null,transitions:null},sg(b),c}function q4(c){if(!c)return Pt;c=c._reactInternals;e:{if(R(c)!==c||c.tag!==1)throw Error(o(170));var u=c;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(Gt(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(o(171))}if(c.tag===1){var v=c.type;if(Gt(v))return vs(c,v,u)}return u}function Y4(c){var u=c._reactInternals;if(u===void 0)throw typeof c.render=="function"?Error(o(188)):(c=Object.keys(c).join(","),Error(o(268,c)));return c=X(u),c===null?null:c.stateNode}function Z4(c,u){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var v=c.retryLane;c.retryLane=v!==0&&v<u?v:u}}function $g(c,u){Z4(c,u),(c=c.alternate)&&Z4(c,u)}function RP(c){return c=X(c),c===null?null:c.stateNode}function IP(){return null}return t.attemptContinuousHydration=function(c){if(c.tag===13){var u=gi();dr(c,134217728,u),$g(c,134217728)}},t.attemptHydrationAtCurrentPriority=function(c){if(c.tag===13){var u=gi(),v=ao(c);dr(c,v,u),$g(c,v)}},t.attemptSynchronousHydration=function(c){switch(c.tag){case 3:var u=c.stateNode;if(u.current.memoizedState.isDehydrated){var v=ji(u.pendingLanes);v!==0&&(K1(u,v|1),Ii(u,Fn()),!(Rt&6)&&(Il(),Kr()))}break;case 13:var _=gi();O4(function(){return dr(c,1,_)}),$g(c,1)}},t.batchedUpdates=function(c,u){var v=Rt;Rt|=1;try{return c(u)}finally{Rt=v,Rt===0&&(Il(),Vf&&Kr())}},t.createComponentSelector=function(c){return{$$typeof:dd,value:c}},t.createContainer=function(c,u,v,_,T,b,V){return X4(c,u,!1,null,v,_,T,b,V)},t.createHasPseudoClassSelector=function(c){return{$$typeof:pd,value:c}},t.createHydrationContainer=function(c,u,v,_,T,b,V,K,pe){return c=X4(v,_,!0,c,T,b,V,K,pe),c.context=q4(null),v=c.current,_=gi(),T=ao(v),b=xs(_,T),b.callback=u??null,ro(v,b),c.current.lanes=T,ru(c,T,_),Ii(c,_),c},t.createPortal=function(c,u,v){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:h,key:_==null?null:""+_,children:c,containerInfo:u,implementation:v}},t.createRoleSelector=function(c){return{$$typeof:md,value:c}},t.createTestNameSelector=function(c){return{$$typeof:gd,value:c}},t.createTextSelector=function(c){return{$$typeof:vd,value:c}},t.deferredUpdates=function(c){var u=Wt,v=xn.transition;try{return xn.transition=null,Wt=16,c()}finally{Wt=u,xn.transition=v}},t.discreteUpdates=function(c,u,v,_,T){var b=Wt,V=xn.transition;try{return xn.transition=null,Wt=1,c(u,v,_,T)}finally{Wt=b,xn.transition=V,Rt===0&&Il()}},t.findAllNodes=Og,t.findBoundingRects=function(c,u){if(!Me)throw Error(o(363));u=Og(c,u),c=[];for(var v=0;v<u.length;v++)c.push(D(u[v]));for(u=c.length-1;0<u;u--){v=c[u];for(var _=v.x,T=_+v.width,b=v.y,V=b+v.height,K=u-1;0<=K;K--)if(u!==K){var pe=c[K],Ie=pe.x,Ze=Ie+pe.width,_t=pe.y,ht=_t+pe.height;if(_>=Ie&&b>=_t&&T<=Ze&&V<=ht){c.splice(u,1);break}else if(_!==Ie||v.width!==pe.width||ht<b||_t>V){if(!(b!==_t||v.height!==pe.height||Ze<_||Ie>T)){Ie>_&&(pe.width+=Ie-_,pe.x=_),Ze<T&&(pe.width=T-Ie),c.splice(u,1);break}}else{_t>b&&(pe.height+=_t-b,pe.y=b),ht<V&&(pe.height=V-_t),c.splice(u,1);break}}}return c},t.findHostInstance=Y4,t.findHostInstanceWithNoPortals=function(c){return c=k(c),c=c!==null?ne(c):null,c===null?null:c.stateNode},t.findHostInstanceWithWarning=function(c){return Y4(c)},t.flushControlled=function(c){var u=Rt;Rt|=1;var v=xn.transition,_=Wt;try{xn.transition=null,Wt=1,c()}finally{Wt=_,xn.transition=v,Rt=u,Rt===0&&(Il(),Kr())}},t.flushPassiveEffects=pa,t.flushSync=O4,t.focusWithin=function(c,u){if(!Me)throw Error(o(363));for(c=Dg(c),u=D4(c,u),u=Array.from(u),c=0;c<u.length;){var v=u[c++];if(!ue(v)){if(v.tag===5&&fe(v.stateNode))return!0;for(v=v.child;v!==null;)u.push(v),v=v.sibling}}return!1},t.getCurrentUpdatePriority=function(){return Wt},t.getFindAllNodesFailureDescription=function(c,u){if(!Me)throw Error(o(363));var v=0,_=[];c=[Dg(c),0];for(var T=0;T<c.length;){var b=c[T++],V=c[T++],K=u[V];if((b.tag!==5||!ue(b))&&(Ug(b,K)&&(_.push(kg(K)),V++,V>v&&(v=V)),V<u.length))for(b=b.child;b!==null;)c.push(b,V),b=b.sibling}if(v<u.length){for(c=[];v<u.length;v++)c.push(kg(u[v]));return`findAllNodes was able to match part of the selector:
  `+(_.join(" > ")+`

No matching component was found for:
  `)+c.join(" > ")}return null},t.getPublicRootInstance=function(c){if(c=c.current,!c.child)return null;switch(c.child.tag){case 5:return te(c.child.stateNode);default:return c.child.stateNode}},t.injectIntoDevTools=function(c){if(c={bundleType:c.bundleType,version:c.version,rendererPackageName:c.rendererPackageName,rendererConfig:c.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:RP,findFiberByHostInstance:c.findFiberByHostInstance||IP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")c=!1;else{var u=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(u.isDisabled||!u.supportsFiber)c=!0;else{try{Bf=u.inject(c),Yr=u}catch{}c=!!u.checkDCE}}return c},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(c,u,v,_){if(!Me)throw Error(o(363));c=Og(c,u);var T=Ye(c,v,_).disconnect;return{disconnect:function(){T()}}},t.registerMutableSourceForHydration=function(c,u){var v=u._getVersion;v=v(u._source),c.mutableSourceEagerHydrationData==null?c.mutableSourceEagerHydrationData=[u,v]:c.mutableSourceEagerHydrationData.push(u,v)},t.runWithPriority=function(c,u){var v=Wt;try{return Wt=c,u()}finally{Wt=v}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(c,u,v,_){var T=u.current,b=gi(),V=ao(T);return v=q4(v),u.context===null?u.context=v:u.pendingContext=v,u=xs(b,V),u.payload={element:c},_=_===void 0?null:_,_!==null&&(u.callback=_),ro(T,u),c=dr(T,V,b),c!==null&&jf(c,T,V),V},t};TC.exports=KW;var $W=TC.exports;const JW=M6($W);var AC={exports:{}},bC={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(U,W){var H=U.length;U.push(W);e:for(;0<H;){var Z=H-1>>>1,de=U[Z];if(0<r(de,W))U[Z]=W,U[H]=de,H=Z;else break e}}function t(U){return U.length===0?null:U[0]}function i(U){if(U.length===0)return null;var W=U[0],H=U.pop();if(H!==W){U[0]=H;e:for(var Z=0,de=U.length,Te=de>>>1;Z<Te;){var ie=2*(Z+1)-1,_e=U[ie],we=ie+1,Ae=U[we];if(0>r(_e,H))we<de&&0>r(Ae,_e)?(U[Z]=Ae,U[we]=H,Z=we):(U[Z]=_e,U[ie]=H,Z=ie);else if(we<de&&0>r(Ae,H))U[Z]=Ae,U[we]=H,Z=we;else break e}}return W}function r(U,W){var H=U.sortIndex-W.sortIndex;return H!==0?H:U.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],h=[],f=1,d=null,p=3,m=!1,y=!1,w=!1,S=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function M(U){for(var W=t(h);W!==null;){if(W.callback===null)i(h);else if(W.startTime<=U)i(h),W.sortIndex=W.expirationTime,e(l,W);else break;W=t(h)}}function E(U){if(w=!1,M(U),!y)if(t(l)!==null)y=!0,te(C);else{var W=t(h);W!==null&&le(E,W.startTime-U)}}function C(U,W){y=!1,w&&(w=!1,g(L),L=-1),m=!0;var H=p;try{for(M(W),d=t(l);d!==null&&(!(d.expirationTime>W)||U&&!k());){var Z=d.callback;if(typeof Z=="function"){d.callback=null,p=d.priorityLevel;var de=Z(d.expirationTime<=W);W=n.unstable_now(),typeof de=="function"?d.callback=de:d===t(l)&&i(l),M(W)}else i(l);d=t(l)}if(d!==null)var Te=!0;else{var ie=t(h);ie!==null&&le(E,ie.startTime-W),Te=!1}return Te}finally{d=null,p=H,m=!1}}var P=!1,I=null,L=-1,R=5,A=-1;function k(){return!(n.unstable_now()-A<R)}function X(){if(I!==null){var U=n.unstable_now();A=U;var W=!0;try{W=I(!0,U)}finally{W?q():(P=!1,I=null)}}else P=!1}var q;if(typeof x=="function")q=function(){x(X)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,se=ne.port2;ne.port1.onmessage=X,q=function(){se.postMessage(null)}}else q=function(){S(X,0)};function te(U){I=U,P||(P=!0,q())}function le(U,W){L=S(function(){U(n.unstable_now())},W)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(U){U.callback=null},n.unstable_continueExecution=function(){y||m||(y=!0,te(C))},n.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<U?Math.floor(1e3/U):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(U){switch(p){case 1:case 2:case 3:var W=3;break;default:W=p}var H=p;p=W;try{return U()}finally{p=H}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(U,W){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var H=p;p=U;try{return W()}finally{p=H}},n.unstable_scheduleCallback=function(U,W,H){var Z=n.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?Z+H:Z):H=Z,U){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=H+de,U={id:f++,callback:W,priorityLevel:U,startTime:H,expirationTime:de,sortIndex:-1},H>Z?(U.sortIndex=H,e(h,U),t(l)===null&&U===t(h)&&(w?(g(L),L=-1):w=!0,le(E,H-Z))):(U.sortIndex=de,e(l,U),y||m||(y=!0,te(C))),U},n.unstable_shouldYield=k,n.unstable_wrapCallback=function(U){var W=p;return function(){var H=p;p=W;try{return U.apply(this,arguments)}finally{p=H}}}})(bC);AC.exports=bC;var s6=AC.exports;const v_={},QW=n=>void Object.assign(v_,n);function ej(n,e){function t(f,{args:d=[],attach:p,...m},y){let w=`${f[0].toUpperCase()}${f.slice(1)}`,S;if(f==="primitive"){if(m.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const g=m.object;S=Ql(g,{type:f,root:y,attach:p,primitive:!0})}else{const g=v_[w];if(!g)throw new Error(`R3F: ${w} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(d))throw new Error("R3F: The args prop must be an array!");S=Ql(new g(...d),{type:f,root:y,attach:p,memoizedProps:{args:d}})}return S.__r3f.attach===void 0&&(S.isBufferGeometry?S.__r3f.attach="geometry":S.isMaterial&&(S.__r3f.attach="material")),w!=="inject"&&I2(S,m),S}function i(f,d){let p=!1;if(d){var m,y;(m=d.__r3f)!=null&&m.attach?R2(f,d,d.__r3f.attach):d.isObject3D&&f.isObject3D&&(f.add(d),p=!0),p||(y=f.__r3f)==null||y.objects.push(d),d.__r3f||Ql(d,{}),d.__r3f.parent=f,dx(d),ec(d)}}function r(f,d,p){let m=!1;if(d){var y,w;if((y=d.__r3f)!=null&&y.attach)R2(f,d,d.__r3f.attach);else if(d.isObject3D&&f.isObject3D){d.parent=f,d.dispatchEvent({type:"added"}),f.dispatchEvent({type:"childadded",child:d});const S=f.children.filter(x=>x!==d),g=S.indexOf(p);f.children=[...S.slice(0,g),d,...S.slice(g)],m=!0}m||(w=f.__r3f)==null||w.objects.push(d),d.__r3f||Ql(d,{}),d.__r3f.parent=f,dx(d),ec(d)}}function s(f,d,p=!1){f&&[...f].forEach(m=>o(d,m,p))}function o(f,d,p){if(d){var m,y,w;if(d.__r3f&&(d.__r3f.parent=null),(m=f.__r3f)!=null&&m.objects&&(f.__r3f.objects=f.__r3f.objects.filter(E=>E!==d)),(y=d.__r3f)!=null&&y.attach)u6(f,d,d.__r3f.attach);else if(d.isObject3D&&f.isObject3D){var S;f.remove(d),(S=d.__r3f)!=null&&S.root&&lj(lp(d),d)}const x=(w=d.__r3f)==null?void 0:w.primitive,M=!x&&(p===void 0?d.dispose!==null:p);if(!x){var g;s((g=d.__r3f)==null?void 0:g.objects,d,M),s(d.children,d,M)}if(delete d.__r3f,M&&d.dispose&&d.type!=="Scene"){const E=()=>{try{d.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?s6.unstable_scheduleCallback(s6.unstable_IdlePriority,E):E()}ec(f)}}function a(f,d,p,m){var y;const w=(y=f.__r3f)==null?void 0:y.parent;if(!w)return;const S=t(d,p,f.__r3f.root);if(f.children){for(const g of f.children)g.__r3f&&i(S,g);f.children=f.children.filter(g=>!g.__r3f)}f.__r3f.objects.forEach(g=>i(S,g)),f.__r3f.objects=[],f.__r3f.autoRemovedBeforeAppend||o(w,f),S.parent&&(S.__r3f.autoRemovedBeforeAppend=!0),i(w,S),S.raycast&&S.__r3f.eventCount&&lp(S).getState().internal.interaction.push(S),[m,m.alternate].forEach(g=>{g!==null&&(g.stateNode=S,g.ref&&(typeof g.ref=="function"?g.ref(S):g.ref.current=S))})}const l=()=>{};return{reconciler:JW({createInstance:t,removeChild:o,appendChild:i,appendInitialChild:i,insertBefore:r,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(f,d)=>{if(!d)return;const p=f.getState().scene;p.__r3f&&(p.__r3f.root=f,i(p,d))},removeChildFromContainer:(f,d)=>{d&&o(f.getState().scene,d)},insertInContainerBefore:(f,d,p)=>{if(!d||!p)return;const m=f.getState().scene;m.__r3f&&r(m,d,p)},getRootHostContext:()=>null,getChildHostContext:f=>f,finalizeInitialChildren(f){var d;return!!((d=f==null?void 0:f.__r3f)!=null?d:{}).handlers},prepareUpdate(f,d,p,m){var y;if(((y=f==null?void 0:f.__r3f)!=null?y:{}).primitive&&m.object&&m.object!==f)return[!0];{const{args:S=[],children:g,...x}=m,{args:M=[],children:E,...C}=p;if(!Array.isArray(S))throw new Error("R3F: the args prop must be an array!");if(S.some((I,L)=>I!==M[L]))return[!0];const P=DC(f,x,C,!0);return P.changes.length?[!1,P]:null}},commitUpdate(f,[d,p],m,y,w,S){d?a(f,m,w,S):I2(f,p)},commitMount(f,d,p,m){var y;const w=(y=f.__r3f)!=null?y:{};f.raycast&&w.handlers&&w.eventCount&&lp(f).getState().internal.interaction.push(f)},getPublicInstance:f=>f,prepareForCommit:()=>null,preparePortalMount:f=>Ql(f.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(f){var d;const{attach:p,parent:m}=(d=f.__r3f)!=null?d:{};p&&m&&u6(m,f,p),f.isObject3D&&(f.visible=!1),ec(f)},unhideInstance(f,d){var p;const{attach:m,parent:y}=(p=f.__r3f)!=null?p:{};m&&y&&R2(y,f,m),(f.isObject3D&&d.visible==null||d.visible)&&(f.visible=!0),ec(f)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():Sc.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&nn.fun(performance.now)?performance.now:nn.fun(Date.now)?Date.now:()=>0,scheduleTimeout:nn.fun(setTimeout)?setTimeout:void 0,cancelTimeout:nn.fun(clearTimeout)?clearTimeout:void 0}),applyProps:I2}}var o6,a6;const P2=n=>"colorSpace"in n||"outputColorSpace"in n,CC=()=>{var n;return(n=v_.ColorManagement)!=null?n:null},PC=n=>n&&n.isOrthographicCamera,tj=n=>n&&n.hasOwnProperty("current"),If=typeof window<"u"&&((o6=window.document)!=null&&o6.createElement||((a6=window.navigator)==null?void 0:a6.product)==="ReactNative")?G.useLayoutEffect:G.useEffect;function RC(n){const e=G.useRef(n);return If(()=>void(e.current=n),[n]),e}function nj({set:n}){return If(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}class IC extends G.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}IC.getDerivedStateFromError=()=>({error:!0});const LC="__default",l6=new Map,ij=n=>n&&!!n.memoized&&!!n.changes;function NC(n){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(n)?Math.min(Math.max(n[0],t),n[1]):n}const Wu=n=>{var e;return(e=n.__r3f)==null?void 0:e.root.getState()};function lp(n){let e=n.__r3f.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const nn={obj:n=>n===Object(n)&&!nn.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:i="reference",strict:r=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(nn.str(n)||nn.num(n)||nn.boo(n))return n===e;const s=nn.obj(n);if(s&&i==="reference")return n===e;const o=nn.arr(n);if(o&&t==="reference")return n===e;if((o||s)&&n===e)return!0;let a;for(a in n)if(!(a in e))return!1;if(s&&t==="shallow"&&i==="shallow"){for(a in r?e:n)if(!nn.equ(n[a],e[a],{strict:r,objects:"reference"}))return!1}else for(a in r?e:n)if(n[a]!==e[a])return!1;if(nn.und(a)){if(o&&n.length===0&&e.length===0||s&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function rj(n){n.dispose&&n.type!=="Scene"&&n.dispose();for(const e in n)e.dispose==null||e.dispose(),delete n[e]}function Ql(n,e){const t=n;return t.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},n}function fx(n,e){let t=n;if(e.includes("-")){const i=e.split("-"),r=i.pop();return t=i.reduce((s,o)=>s[o],n),{target:t,key:r}}else return{target:t,key:e}}const c6=/-\d+$/;function R2(n,e,t){if(nn.str(t)){if(c6.test(t)){const s=t.replace(c6,""),{target:o,key:a}=fx(n,s);Array.isArray(o[a])||(o[a]=[])}const{target:i,key:r}=fx(n,t);e.__r3f.previousAttach=i[r],i[r]=e}else e.__r3f.previousAttach=t(n,e)}function u6(n,e,t){var i,r;if(nn.str(t)){const{target:s,key:o}=fx(n,t),a=e.__r3f.previousAttach;a===void 0?delete s[o]:s[o]=a}else(i=e.__r3f)==null||i.previousAttach==null||i.previousAttach(n,e);(r=e.__r3f)==null||delete r.previousAttach}function DC(n,{children:e,key:t,ref:i,...r},{children:s,key:o,ref:a,...l}={},h=!1){const f=n.__r3f,d=Object.entries(r),p=[];if(h){const y=Object.keys(l);for(let w=0;w<y.length;w++)r.hasOwnProperty(y[w])||d.unshift([y[w],LC+"remove"])}d.forEach(([y,w])=>{var S;if((S=n.__r3f)!=null&&S.primitive&&y==="object"||nn.equ(w,l[y]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(y))return p.push([y,w,!0,[]]);let g=[];y.includes("-")&&(g=y.split("-")),p.push([y,w,!1,g]);for(const x in r){const M=r[x];x.startsWith(`${y}-`)&&p.push([x,M,!1,x.split("-")])}});const m={...r};return f!=null&&f.memoizedProps&&f!=null&&f.memoizedProps.args&&(m.args=f.memoizedProps.args),f!=null&&f.memoizedProps&&f!=null&&f.memoizedProps.attach&&(m.attach=f.memoizedProps.attach),{memoized:m,changes:p}}const sj=typeof process<"u"&&!1;function I2(n,e){var t;const i=n.__r3f,r=i==null?void 0:i.root,s=r==null||r.getState==null?void 0:r.getState(),{memoized:o,changes:a}=ij(e)?e:DC(n,e),l=i==null?void 0:i.eventCount;n.__r3f&&(n.__r3f.memoizedProps=o);for(let p=0;p<a.length;p++){let[m,y,w,S]=a[p];if(P2(n)){const E="srgb",C="srgb-linear";m==="encoding"?(m="colorSpace",y=y===3001?E:C):m==="outputEncoding"&&(m="outputColorSpace",y=y===3001?E:C)}let g=n,x=g[m];if(S.length&&(x=S.reduce((M,E)=>M[E],n),!(x&&x.set))){const[M,...E]=S.reverse();g=E.reverse().reduce((C,P)=>C[P],n),m=M}if(y===LC+"remove")if(g.constructor){let M=l6.get(g.constructor);M||(M=new g.constructor,l6.set(g.constructor,M)),y=M[m]}else y=0;if(w&&i)y?i.handlers[m]=y:delete i.handlers[m],i.eventCount=Object.keys(i.handlers).length;else if(x&&x.set&&(x.copy||x instanceof $a)){if(Array.isArray(y))x.fromArray?x.fromArray(y):x.set(...y);else if(x.copy&&y&&y.constructor&&(sj?x.constructor.name===y.constructor.name:x.constructor===y.constructor))x.copy(y);else if(y!==void 0){var h;const M=(h=x)==null?void 0:h.isColor;!M&&x.setScalar?x.setScalar(y):x instanceof $a&&y instanceof $a?x.mask=y.mask:x.set(y),!CC()&&s&&!s.linear&&M&&x.convertSRGBToLinear()}}else{var f;if(g[m]=y,(f=g[m])!=null&&f.isTexture&&g[m].format===ui&&g[m].type===br&&s){const M=g[m];P2(M)&&P2(s.gl)?M.colorSpace=s.gl.outputColorSpace:M.encoding=s.gl.outputEncoding}}ec(n)}if(i&&i.parent&&n.raycast&&l!==i.eventCount){const p=lp(n).getState().internal,m=p.interaction.indexOf(n);m>-1&&p.interaction.splice(m,1),i.eventCount&&p.interaction.push(n)}return!(a.length===1&&a[0][0]==="onUpdate")&&a.length&&(t=n.__r3f)!=null&&t.parent&&dx(n),n}function ec(n){var e,t;const i=(e=n.__r3f)==null||(t=e.root)==null||t.getState==null?void 0:t.getState();i&&i.internal.frames===0&&i.invalidate()}function dx(n){n.onUpdate==null||n.onUpdate(n)}function oj(n,e){n.manual||(PC(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix(),n.updateMatrixWorld())}function V0(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function aj(){var n;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return Sc.DefaultEventPriority;switch((n=e.event)==null?void 0:n.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Sc.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Sc.ContinuousEventPriority;default:return Sc.DefaultEventPriority}}function UC(n,e,t,i){const r=t.get(e);r&&(t.delete(e),t.size===0&&(n.delete(i),r.target.releasePointerCapture(i)))}function lj(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(i=>i!==e),t.initialHits=t.initialHits.filter(i=>i!==e),t.hovered.forEach((i,r)=>{(i.eventObject===e||i.object===e)&&t.hovered.delete(r)}),t.capturedMap.forEach((i,r)=>{UC(t.capturedMap,e,i,r)})}function cj(n){function e(l){const{internal:h}=n.getState(),f=l.offsetX-h.initialClick[0],d=l.offsetY-h.initialClick[1];return Math.round(Math.sqrt(f*f+d*d))}function t(l){return l.filter(h=>["Move","Over","Enter","Out","Leave"].some(f=>{var d;return(d=h.__r3f)==null?void 0:d.handlers["onPointer"+f]}))}function i(l,h){const f=n.getState(),d=new Set,p=[],m=h?h(f.internal.interaction):f.internal.interaction;for(let g=0;g<m.length;g++){const x=Wu(m[g]);x&&(x.raycaster.camera=void 0)}f.previousRoot||f.events.compute==null||f.events.compute(l,f);function y(g){const x=Wu(g);if(!x||!x.events.enabled||x.raycaster.camera===null)return[];if(x.raycaster.camera===void 0){var M;x.events.compute==null||x.events.compute(l,x,(M=x.previousRoot)==null?void 0:M.getState()),x.raycaster.camera===void 0&&(x.raycaster.camera=null)}return x.raycaster.camera?x.raycaster.intersectObject(g,!0):[]}let w=m.flatMap(y).sort((g,x)=>{const M=Wu(g.object),E=Wu(x.object);return!M||!E?g.distance-x.distance:E.events.priority-M.events.priority||g.distance-x.distance}).filter(g=>{const x=V0(g);return d.has(x)?!1:(d.add(x),!0)});f.events.filter&&(w=f.events.filter(w,f));for(const g of w){let x=g.object;for(;x;){var S;(S=x.__r3f)!=null&&S.eventCount&&p.push({...g,eventObject:x}),x=x.parent}}if("pointerId"in l&&f.internal.capturedMap.has(l.pointerId))for(let g of f.internal.capturedMap.get(l.pointerId).values())d.has(V0(g.intersection))||p.push(g.intersection);return p}function r(l,h,f,d){const p=n.getState();if(l.length){const m={stopped:!1};for(const y of l){const w=Wu(y.object)||p,{raycaster:S,pointer:g,camera:x,internal:M}=w,E=new B(g.x,g.y,0).unproject(x),C=A=>{var k,X;return(k=(X=M.capturedMap.get(A))==null?void 0:X.has(y.eventObject))!=null?k:!1},P=A=>{const k={intersection:y,target:h.target};M.capturedMap.has(A)?M.capturedMap.get(A).set(y.eventObject,k):M.capturedMap.set(A,new Map([[y.eventObject,k]])),h.target.setPointerCapture(A)},I=A=>{const k=M.capturedMap.get(A);k&&UC(M.capturedMap,y.eventObject,k,A)};let L={};for(let A in h){let k=h[A];typeof k!="function"&&(L[A]=k)}let R={...y,...L,pointer:g,intersections:l,stopped:m.stopped,delta:f,unprojectedPoint:E,ray:S.ray,camera:x,stopPropagation(){const A="pointerId"in h&&M.capturedMap.get(h.pointerId);if((!A||A.has(y.eventObject))&&(R.stopped=m.stopped=!0,M.hovered.size&&Array.from(M.hovered.values()).find(k=>k.eventObject===y.eventObject))){const k=l.slice(0,l.indexOf(y));s([...k,y])}},target:{hasPointerCapture:C,setPointerCapture:P,releasePointerCapture:I},currentTarget:{hasPointerCapture:C,setPointerCapture:P,releasePointerCapture:I},nativeEvent:h};if(d(R),m.stopped===!0)break}}return l}function s(l){const{internal:h}=n.getState();for(const f of h.hovered.values())if(!l.length||!l.find(d=>d.object===f.object&&d.index===f.index&&d.instanceId===f.instanceId)){const p=f.eventObject.__r3f,m=p==null?void 0:p.handlers;if(h.hovered.delete(V0(f)),p!=null&&p.eventCount){const y={...f,intersections:l};m.onPointerOut==null||m.onPointerOut(y),m.onPointerLeave==null||m.onPointerLeave(y)}}}function o(l,h){for(let f=0;f<h.length;f++){const d=h[f].__r3f;d==null||d.handlers.onPointerMissed==null||d.handlers.onPointerMissed(l)}}function a(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return h=>{const{internal:f}=n.getState();"pointerId"in h&&f.capturedMap.has(h.pointerId)&&requestAnimationFrame(()=>{f.capturedMap.has(h.pointerId)&&(f.capturedMap.delete(h.pointerId),s([]))})}}return function(f){const{onPointerMissed:d,internal:p}=n.getState();p.lastEvent.current=f;const m=l==="onPointerMove",y=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",S=i(f,m?t:void 0),g=y?e(f):0;l==="onPointerDown"&&(p.initialClick=[f.offsetX,f.offsetY],p.initialHits=S.map(M=>M.eventObject)),y&&!S.length&&g<=2&&(o(f,p.interaction),d&&d(f)),m&&s(S);function x(M){const E=M.eventObject,C=E.__r3f,P=C==null?void 0:C.handlers;if(C!=null&&C.eventCount)if(m){if(P.onPointerOver||P.onPointerEnter||P.onPointerOut||P.onPointerLeave){const I=V0(M),L=p.hovered.get(I);L?L.stopped&&M.stopPropagation():(p.hovered.set(I,M),P.onPointerOver==null||P.onPointerOver(M),P.onPointerEnter==null||P.onPointerEnter(M))}P.onPointerMove==null||P.onPointerMove(M)}else{const I=P[l];I?(!y||p.initialHits.includes(E))&&(o(f,p.interaction.filter(L=>!p.initialHits.includes(L))),I(M)):y&&p.initialHits.includes(E)&&o(f,p.interaction.filter(L=>!p.initialHits.includes(L)))}}r(S,f,g,x)}}return{handlePointer:a}}const kC=n=>!!(n!=null&&n.render),OC=G.createContext(null),uj=(n,e)=>{const t=qW((a,l)=>{const h=new B,f=new B,d=new B;function p(g=l().camera,x=f,M=l().size){const{width:E,height:C,top:P,left:I}=M,L=E/C;x.isVector3?d.copy(x):d.set(...x);const R=g.getWorldPosition(h).distanceTo(d);if(PC(g))return{width:E/g.zoom,height:C/g.zoom,top:P,left:I,factor:1,distance:R,aspect:L};{const A=g.fov*Math.PI/180,k=2*Math.tan(A/2)*R,X=k*(E/C);return{width:X,height:k,top:P,left:I,factor:E/X,distance:R,aspect:L}}}let m;const y=g=>a(x=>({performance:{...x.performance,current:g}})),w=new ge;return{set:a,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(g=1)=>n(l(),g),advance:(g,x)=>e(g,x,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new h_,pointer:w,mouse:w,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const g=l();m&&clearTimeout(m),g.performance.current!==g.performance.min&&y(g.performance.min),m=setTimeout(()=>y(l().performance.max),g.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:p},setEvents:g=>a(x=>({...x,events:{...x.events,...g}})),setSize:(g,x,M,E,C)=>{const P=l().camera,I={width:g,height:x,top:E||0,left:C||0,updateStyle:M};a(L=>({size:I,viewport:{...L.viewport,...p(P,f,I)}}))},setDpr:g=>a(x=>{const M=NC(g);return{viewport:{...x.viewport,dpr:M,initialDpr:x.viewport.initialDpr||M}}}),setFrameloop:(g="always")=>{const x=l().clock;x.stop(),x.elapsedTime=0,g!=="never"&&(x.start(),x.elapsedTime=0),a(()=>({frameloop:g}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:G.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(g,x,M)=>{const E=l().internal;return E.priority=E.priority+(x>0?1:0),E.subscribers.push({ref:g,priority:x,store:M}),E.subscribers=E.subscribers.sort((C,P)=>C.priority-P.priority),()=>{const C=l().internal;C!=null&&C.subscribers&&(C.priority=C.priority-(x>0?1:0),C.subscribers=C.subscribers.filter(P=>P.ref!==g))}}}}}),i=t.getState();let r=i.size,s=i.viewport.dpr,o=i.camera;return t.subscribe(()=>{const{camera:a,size:l,viewport:h,gl:f,set:d}=t.getState();if(l.width!==r.width||l.height!==r.height||h.dpr!==s){var p;r=l,s=h.dpr,oj(a,l),f.setPixelRatio(h.dpr);const m=(p=l.updateStyle)!=null?p:typeof HTMLCanvasElement<"u"&&f.domElement instanceof HTMLCanvasElement;f.setSize(l.width,l.height,m)}a!==o&&(o=a,d(m=>({viewport:{...m.viewport,...m.viewport.getCurrentViewport(a)}})))}),t.subscribe(a=>n(a)),t};let H0,hj=new Set,fj=new Set,dj=new Set;function L2(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function ju(n,e){switch(n){case"before":return L2(hj,e);case"after":return L2(fj,e);case"tail":return L2(dj,e)}}let N2,D2;function U2(n,e,t){let i=e.clock.getDelta();for(e.frameloop==="never"&&typeof n=="number"&&(i=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),N2=e.internal.subscribers,H0=0;H0<N2.length;H0++)D2=N2[H0],D2.ref.current(D2.store.getState(),i,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function pj(n){let e=!1,t=!1,i,r,s;function o(h){r=requestAnimationFrame(o),e=!0,i=0,ju("before",h),t=!0;for(const d of n.values()){var f;s=d.store.getState(),s.internal.active&&(s.frameloop==="always"||s.internal.frames>0)&&!((f=s.gl.xr)!=null&&f.isPresenting)&&(i+=U2(h,s))}if(t=!1,ju("after",h),i===0)return ju("tail",h),e=!1,cancelAnimationFrame(r)}function a(h,f=1){var d;if(!h)return n.forEach(p=>a(p.store.getState(),f));(d=h.gl.xr)!=null&&d.isPresenting||!h.internal.active||h.frameloop==="never"||(f>1?h.internal.frames=Math.min(60,h.internal.frames+f):t?h.internal.frames=2:h.internal.frames=1,e||(e=!0,requestAnimationFrame(o)))}function l(h,f=!0,d,p){if(f&&ju("before",h),d)U2(h,d,p);else for(const m of n.values())U2(h,m.store.getState());f&&ju("after",h)}return{loop:o,invalidate:a,advance:l}}function FC(){const n=G.useContext(OC);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function _o(n=t=>t,e){return FC()(n,e)}function zC(n,e=0){const t=FC(),i=t.getState().internal.subscribe,r=RC(n);return If(()=>i(r,e,t),[e,i,t]),null}const qc=new Map,{invalidate:h6,advance:f6}=pj(qc),{reconciler:Nm,applyProps:$l}=ej(qc,aj),Jl={objects:"shallow",strict:!1},mj=(n,e)=>{const t=typeof n=="function"?n(e):n;return kC(t)?t:new wC({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...n})};function gj(n,e){const t=typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement;if(e){const{width:i,height:r,top:s,left:o,updateStyle:a=t}=e;return{width:i,height:r,top:s,left:o,updateStyle:a}}else if(typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:i,height:r,top:s,left:o}=n.parentElement.getBoundingClientRect();return{width:i,height:r,top:s,left:o,updateStyle:t}}else if(typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0,updateStyle:t};return{width:0,height:0,top:0,left:0}}function vj(n){const e=qc.get(n),t=e==null?void 0:e.fiber,i=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const r=typeof reportError=="function"?reportError:console.error,s=i||uj(h6,f6),o=t||Nm.createContainer(s,Sc.ConcurrentRoot,null,!1,null,"",r,null);e||qc.set(n,{fiber:o,store:s});let a,l=!1,h;return{configure(f={}){let{gl:d,size:p,scene:m,events:y,onCreated:w,shadows:S=!1,linear:g=!1,flat:x=!1,legacy:M=!1,orthographic:E=!1,frameloop:C="always",dpr:P=[1,2],performance:I,raycaster:L,camera:R,onPointerMissed:A}=f,k=s.getState(),X=k.gl;k.gl||k.set({gl:X=mj(d,n)});let q=k.raycaster;q||k.set({raycaster:q=new mC});const{params:ne,...se}=L||{};if(nn.equ(se,q,Jl)||$l(q,{...se}),nn.equ(ne,q.params,Jl)||$l(q,{params:{...q.params,...ne}}),!k.camera||k.camera===h&&!nn.equ(h,R,Jl)){h=R;const H=R instanceof wf,Z=H?R:E?new Wo(0,0,0,0,.1,1e3):new Mn(75,0,.1,1e3);H||(Z.position.z=5,R&&($l(Z,R),("aspect"in R||"left"in R||"right"in R||"bottom"in R||"top"in R)&&(Z.manual=!0,Z.updateProjectionMatrix())),!k.camera&&!(R!=null&&R.rotation)&&Z.lookAt(0,0,0)),k.set({camera:Z}),q.camera=Z}if(!k.scene){let H;m!=null&&m.isScene?H=m:(H=new X3,m&&$l(H,m)),k.set({scene:Ql(H)})}if(!k.xr){var te;const H=(Te,ie)=>{const _e=s.getState();_e.frameloop!=="never"&&f6(Te,!0,_e,ie)},Z=()=>{const Te=s.getState();Te.gl.xr.enabled=Te.gl.xr.isPresenting,Te.gl.xr.setAnimationLoop(Te.gl.xr.isPresenting?H:null),Te.gl.xr.isPresenting||h6(Te)},de={connect(){const Te=s.getState().gl;Te.xr.addEventListener("sessionstart",Z),Te.xr.addEventListener("sessionend",Z)},disconnect(){const Te=s.getState().gl;Te.xr.removeEventListener("sessionstart",Z),Te.xr.removeEventListener("sessionend",Z)}};typeof((te=X.xr)==null?void 0:te.addEventListener)=="function"&&de.connect(),k.set({xr:de})}if(X.shadowMap){const H=X.shadowMap.enabled,Z=X.shadowMap.type;if(X.shadowMap.enabled=!!S,nn.boo(S))X.shadowMap.type=ph;else if(nn.str(S)){var le;const de={basic:Tb,percentage:u1,soft:ph,variance:kr};X.shadowMap.type=(le=de[S])!=null?le:ph}else nn.obj(S)&&Object.assign(X.shadowMap,S);(H!==X.shadowMap.enabled||Z!==X.shadowMap.type)&&(X.shadowMap.needsUpdate=!0)}const U=CC();U&&("enabled"in U?U.enabled=!M:"legacyMode"in U&&(U.legacyMode=M)),l||$l(X,{outputEncoding:g?3e3:3001,toneMapping:x?fs:L3}),k.legacy!==M&&k.set(()=>({legacy:M})),k.linear!==g&&k.set(()=>({linear:g})),k.flat!==x&&k.set(()=>({flat:x})),d&&!nn.fun(d)&&!kC(d)&&!nn.equ(d,X,Jl)&&$l(X,d),y&&!k.events.handlers&&k.set({events:y(s)});const W=gj(n,p);return nn.equ(W,k.size,Jl)||k.setSize(W.width,W.height,W.updateStyle,W.top,W.left),P&&k.viewport.dpr!==NC(P)&&k.setDpr(P),k.frameloop!==C&&k.setFrameloop(C),k.onPointerMissed||k.set({onPointerMissed:A}),I&&!nn.equ(I,k.performance,Jl)&&k.set(H=>({performance:{...H.performance,...I}})),a=w,l=!0,this},render(f){return l||this.configure(),Nm.updateContainer(N.jsx(yj,{store:s,children:f,onCreated:a,rootElement:n}),o,null,()=>{}),s},unmount(){BC(n)}}}function yj({store:n,children:e,onCreated:t,rootElement:i}){return If(()=>{const r=n.getState();r.set(s=>({internal:{...s.internal,active:!0}})),t&&t(r),n.getState().events.connected||r.events.connect==null||r.events.connect(i)},[]),N.jsx(OC.Provider,{value:n,children:e})}function BC(n,e){const t=qc.get(n),i=t==null?void 0:t.fiber;if(i){const r=t==null?void 0:t.store.getState();r&&(r.internal.active=!1),Nm.updateContainer(null,i,null,()=>{r&&setTimeout(()=>{try{var s,o,a,l;r.events.disconnect==null||r.events.disconnect(),(s=r.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=r.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(l=r.gl)!=null&&l.xr&&r.xr.disconnect(),rj(r),qc.delete(n),e&&e(n)}catch{}},500)})}}Nm.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:G.version});const k2={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function xj(n){const{handlePointer:e}=cj(n);return{priority:1,enabled:!0,compute(t,i,r){i.pointer.set(t.offsetX/i.size.width*2-1,-(t.offsetY/i.size.height)*2+1),i.raycaster.setFromCamera(i.pointer,i.camera)},connected:void 0,handlers:Object.keys(k2).reduce((t,i)=>({...t,[i]:e(i)}),{}),update:()=>{var t;const{events:i,internal:r}=n.getState();(t=r.lastEvent)!=null&&t.current&&i.handlers&&i.handlers.onPointerMove(r.lastEvent.current)},connect:t=>{var i;const{set:r,events:s}=n.getState();s.disconnect==null||s.disconnect(),r(o=>({events:{...o.events,connected:t}})),Object.entries((i=s.handlers)!=null?i:[]).forEach(([o,a])=>{const[l,h]=k2[o];t.addEventListener(l,a,{passive:h})})},disconnect:()=>{const{set:t,events:i}=n.getState();if(i.connected){var r;Object.entries((r=i.handlers)!=null?r:[]).forEach(([s,o])=>{if(i&&i.connected instanceof HTMLElement){const[a]=k2[s];i.connected.removeEventListener(a,o)}}),t(s=>({events:{...s.events,connected:void 0}}))}}}}function d6(n,e){let t;return(...i)=>{window.clearTimeout(t),t=window.setTimeout(()=>n(...i),e)}}function _j({debounce:n,scroll:e,polyfill:t,offsetSize:i}={debounce:0,scroll:!1,offsetSize:!1}){const r=t||(typeof window>"u"?class{}:window.ResizeObserver);if(!r)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[s,o]=G.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),a=G.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:s,orientationHandler:null}),l=n?typeof n=="number"?n:n.scroll:null,h=n?typeof n=="number"?n:n.resize:null,f=G.useRef(!1);G.useEffect(()=>(f.current=!0,()=>void(f.current=!1)));const[d,p,m]=G.useMemo(()=>{const g=()=>{if(!a.current.element)return;const{left:x,top:M,width:E,height:C,bottom:P,right:I,x:L,y:R}=a.current.element.getBoundingClientRect(),A={left:x,top:M,width:E,height:C,bottom:P,right:I,x:L,y:R};a.current.element instanceof HTMLElement&&i&&(A.height=a.current.element.offsetHeight,A.width=a.current.element.offsetWidth),Object.freeze(A),f.current&&!Ej(a.current.lastBounds,A)&&o(a.current.lastBounds=A)};return[g,h?d6(g,h):g,l?d6(g,l):g]},[o,i,l,h]);function y(){a.current.scrollContainers&&(a.current.scrollContainers.forEach(g=>g.removeEventListener("scroll",m,!0)),a.current.scrollContainers=null),a.current.resizeObserver&&(a.current.resizeObserver.disconnect(),a.current.resizeObserver=null),a.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",a.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",a.current.orientationHandler))}function w(){a.current.element&&(a.current.resizeObserver=new r(m),a.current.resizeObserver.observe(a.current.element),e&&a.current.scrollContainers&&a.current.scrollContainers.forEach(g=>g.addEventListener("scroll",m,{capture:!0,passive:!0})),a.current.orientationHandler=()=>{m()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",a.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",a.current.orientationHandler))}const S=g=>{!g||g===a.current.element||(y(),a.current.element=g,a.current.scrollContainers=VC(g),w())};return Mj(m,!!e),Sj(p),G.useEffect(()=>{y(),w()},[e,m,p]),G.useEffect(()=>y,[]),[S,s,d]}function Sj(n){G.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function Mj(n,e){G.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function VC(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:i,overflowY:r}=window.getComputedStyle(n);return[t,i,r].some(s=>s==="auto"||s==="scroll")&&e.push(n),[...e,...VC(n.parentElement)]}const wj=["x","y","top","bottom","left","right","width","height"],Ej=(n,e)=>wj.every(t=>n[t]===e[t]);var Tj=Object.defineProperty,Aj=Object.defineProperties,bj=Object.getOwnPropertyDescriptors,p6=Object.getOwnPropertySymbols,Cj=Object.prototype.hasOwnProperty,Pj=Object.prototype.propertyIsEnumerable,m6=(n,e,t)=>e in n?Tj(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,g6=(n,e)=>{for(var t in e||(e={}))Cj.call(e,t)&&m6(n,t,e[t]);if(p6)for(var t of p6(e))Pj.call(e,t)&&m6(n,t,e[t]);return n},Rj=(n,e)=>Aj(n,bj(e)),v6,y6;typeof window<"u"&&((v6=window.document)!=null&&v6.createElement||((y6=window.navigator)==null?void 0:y6.product)==="ReactNative")?G.useLayoutEffect:G.useEffect;function HC(n,e,t){if(!n)return;if(t(n)===!0)return n;let i=e?n.return:n.child;for(;i;){const r=HC(i,e,t);if(r)return r;i=e?null:i.sibling}}function GC(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const x6=console.error;console.error=function(){const n=[...arguments].join("");if(n!=null&&n.startsWith("Warning:")&&n.includes("useContext")){console.error=x6;return}return x6.apply(this,arguments)};const y_=GC(G.createContext(null));class WC extends G.Component{render(){return G.createElement(y_.Provider,{value:this._reactInternals},this.props.children)}}function Ij(){const n=G.useContext(y_);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=G.useId();return G.useMemo(()=>{for(const i of[n,n==null?void 0:n.alternate]){if(!i)continue;const r=HC(i,!1,s=>{let o=s.memoizedState;for(;o;){if(o.memoizedState===e)return!0;o=o.next}});if(r)return r}},[n,e])}function Lj(){const n=Ij(),[e]=G.useState(()=>new Map);e.clear();let t=n;for(;t;){if(t.type&&typeof t.type=="object"){const r=t.type._context===void 0&&t.type.Provider===t.type?t.type:t.type._context;r&&r!==y_&&!e.has(r)&&e.set(r,G.useContext(GC(r)))}t=t.return}return e}function Nj(){const n=Lj();return G.useMemo(()=>Array.from(n.keys()).reduce((e,t)=>i=>G.createElement(e,null,G.createElement(t.Provider,Rj(g6({},i),{value:n.get(t)}))),e=>G.createElement(WC,g6({},e))),[n])}const Dj=G.forwardRef(function({children:e,fallback:t,resize:i,style:r,gl:s,events:o=xj,eventSource:a,eventPrefix:l,shadows:h,linear:f,flat:d,legacy:p,orthographic:m,frameloop:y,dpr:w,performance:S,raycaster:g,camera:x,scene:M,onPointerMissed:E,onCreated:C,...P},I){G.useMemo(()=>QW(WW),[]);const L=Nj(),[R,A]=_j({scroll:!0,debounce:{scroll:50,resize:0},...i}),k=G.useRef(null),X=G.useRef(null);G.useImperativeHandle(I,()=>k.current);const q=RC(E),[ne,se]=G.useState(!1),[te,le]=G.useState(!1);if(ne)throw ne;if(te)throw te;const U=G.useRef(null);If(()=>{const H=k.current;A.width>0&&A.height>0&&H&&(U.current||(U.current=vj(H)),U.current.configure({gl:s,events:o,shadows:h,linear:f,flat:d,legacy:p,orthographic:m,frameloop:y,dpr:w,performance:S,raycaster:g,camera:x,scene:M,size:A,onPointerMissed:(...Z)=>q.current==null?void 0:q.current(...Z),onCreated:Z=>{Z.events.connect==null||Z.events.connect(a?tj(a)?a.current:a:X.current),l&&Z.setEvents({compute:(de,Te)=>{const ie=de[l+"X"],_e=de[l+"Y"];Te.pointer.set(ie/Te.size.width*2-1,-(_e/Te.size.height)*2+1),Te.raycaster.setFromCamera(Te.pointer,Te.camera)}}),C==null||C(Z)}}),U.current.render(N.jsx(L,{children:N.jsx(IC,{set:le,children:N.jsx(G.Suspense,{fallback:N.jsx(nj,{set:se}),children:e??null})})})))}),G.useEffect(()=>{const H=k.current;if(H)return()=>BC(H)},[]);const W=a?"none":"auto";return N.jsx("div",{ref:X,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:W,...r},...P,children:N.jsx("div",{ref:R,style:{width:"100%",height:"100%"},children:N.jsx("canvas",{ref:k,style:{display:"block"},children:t})})})}),Uj=G.forwardRef(function(e,t){return N.jsx(WC,{children:N.jsx(Dj,{...e,ref:t})})});function px(){return px=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},px.apply(null,arguments)}var kj=Object.defineProperty,Oj=(n,e,t)=>e in n?kj(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Fj=(n,e,t)=>(Oj(n,typeof e!="symbol"?e+"":e,t),t);class zj{constructor(){Fj(this,"_listeners")}addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const i=this._listeners;return i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const r=this._listeners[e];if(r!==void 0){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const i=this._listeners[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let s=0,o=r.length;s<o;s++)r[s].call(this,e);e.target=null}}}var Bj=Object.defineProperty,Vj=(n,e,t)=>e in n?Bj(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,ft=(n,e,t)=>(Vj(n,typeof e!="symbol"?e+"":e,t),t);const G0=new dl,_6=new Ls,Hj=Math.cos(70*(Math.PI/180)),S6=(n,e)=>(n%e+e)%e;let Gj=class extends zj{constructor(e,t){super(),ft(this,"object"),ft(this,"domElement"),ft(this,"enabled",!0),ft(this,"target",new B),ft(this,"minDistance",0),ft(this,"maxDistance",1/0),ft(this,"minZoom",0),ft(this,"maxZoom",1/0),ft(this,"minPolarAngle",0),ft(this,"maxPolarAngle",Math.PI),ft(this,"minAzimuthAngle",-1/0),ft(this,"maxAzimuthAngle",1/0),ft(this,"enableDamping",!1),ft(this,"dampingFactor",.05),ft(this,"enableZoom",!0),ft(this,"zoomSpeed",1),ft(this,"enableRotate",!0),ft(this,"rotateSpeed",1),ft(this,"enablePan",!0),ft(this,"panSpeed",1),ft(this,"screenSpacePanning",!0),ft(this,"keyPanSpeed",7),ft(this,"zoomToCursor",!1),ft(this,"autoRotate",!1),ft(this,"autoRotateSpeed",2),ft(this,"reverseOrbit",!1),ft(this,"reverseHorizontalOrbit",!1),ft(this,"reverseVerticalOrbit",!1),ft(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),ft(this,"mouseButtons",{LEFT:Ua.ROTATE,MIDDLE:Ua.DOLLY,RIGHT:Ua.PAN}),ft(this,"touches",{ONE:ka.ROTATE,TWO:ka.DOLLY_PAN}),ft(this,"target0"),ft(this,"position0"),ft(this,"zoom0"),ft(this,"_domElementKeyEvents",null),ft(this,"getPolarAngle"),ft(this,"getAzimuthalAngle"),ft(this,"setPolarAngle"),ft(this,"setAzimuthalAngle"),ft(this,"getDistance"),ft(this,"getZoomScale"),ft(this,"listenToKeyEvents"),ft(this,"stopListenToKeyEvents"),ft(this,"saveState"),ft(this,"reset"),ft(this,"update"),ft(this,"connect"),ft(this,"dispose"),ft(this,"dollyIn"),ft(this,"dollyOut"),ft(this,"getScale"),ft(this,"setScale"),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>f.phi,this.getAzimuthalAngle=()=>f.theta,this.setPolarAngle=Y=>{let me=S6(Y,2*Math.PI),ze=f.phi;ze<0&&(ze+=2*Math.PI),me<0&&(me+=2*Math.PI);let j=Math.abs(me-ze);2*Math.PI-j<j&&(me<ze?me+=2*Math.PI:ze+=2*Math.PI),d.phi=me-ze,i.update()},this.setAzimuthalAngle=Y=>{let me=S6(Y,2*Math.PI),ze=f.theta;ze<0&&(ze+=2*Math.PI),me<0&&(me+=2*Math.PI);let j=Math.abs(me-ze);2*Math.PI-j<j&&(me<ze?me+=2*Math.PI:ze+=2*Math.PI),d.theta=me-ze,i.update()},this.getDistance=()=>i.object.position.distanceTo(i.target),this.listenToKeyEvents=Y=>{Y.addEventListener("keydown",Ne),this._domElementKeyEvents=Y},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",Ne),this._domElementKeyEvents=null},this.saveState=()=>{i.target0.copy(i.target),i.position0.copy(i.object.position),i.zoom0=i.object.zoom},this.reset=()=>{i.target.copy(i.target0),i.object.position.copy(i.position0),i.object.zoom=i.zoom0,i.object.updateProjectionMatrix(),i.dispatchEvent(r),i.update(),l=a.NONE},this.update=(()=>{const Y=new B,me=new B(0,1,0),ze=new hi().setFromUnitVectors(e.up,me),j=ze.clone().invert(),Re=new B,ce=new hi,ve=2*Math.PI;return function(){const Ue=i.object.position;ze.setFromUnitVectors(e.up,me),j.copy(ze).invert(),Y.copy(Ue).sub(i.target),Y.applyQuaternion(ze),f.setFromVector3(Y),i.autoRotate&&l===a.NONE&&ne(X()),i.enableDamping?(f.theta+=d.theta*i.dampingFactor,f.phi+=d.phi*i.dampingFactor):(f.theta+=d.theta,f.phi+=d.phi);let lt=i.minAzimuthAngle,Ot=i.maxAzimuthAngle;isFinite(lt)&&isFinite(Ot)&&(lt<-Math.PI?lt+=ve:lt>Math.PI&&(lt-=ve),Ot<-Math.PI?Ot+=ve:Ot>Math.PI&&(Ot-=ve),lt<=Ot?f.theta=Math.max(lt,Math.min(Ot,f.theta)):f.theta=f.theta>(lt+Ot)/2?Math.max(lt,f.theta):Math.min(Ot,f.theta)),f.phi=Math.max(i.minPolarAngle,Math.min(i.maxPolarAngle,f.phi)),f.makeSafe(),i.enableDamping===!0?i.target.addScaledVector(m,i.dampingFactor):i.target.add(m),i.zoomToCursor&&R||i.object.isOrthographicCamera?f.radius=Te(f.radius):f.radius=Te(f.radius*p),Y.setFromSpherical(f),Y.applyQuaternion(j),Ue.copy(i.target).add(Y),i.object.matrixAutoUpdate||i.object.updateMatrix(),i.object.lookAt(i.target),i.enableDamping===!0?(d.theta*=1-i.dampingFactor,d.phi*=1-i.dampingFactor,m.multiplyScalar(1-i.dampingFactor)):(d.set(0,0,0),m.set(0,0,0));let en=!1;if(i.zoomToCursor&&R){let It=null;if(i.object instanceof Mn&&i.object.isPerspectiveCamera){const wn=Y.length();It=Te(wn*p);const Jn=wn-It;i.object.position.addScaledVector(I,Jn),i.object.updateMatrixWorld()}else if(i.object.isOrthographicCamera){const wn=new B(L.x,L.y,0);wn.unproject(i.object),i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/p)),i.object.updateProjectionMatrix(),en=!0;const Jn=new B(L.x,L.y,0);Jn.unproject(i.object),i.object.position.sub(Jn).add(wn),i.object.updateMatrixWorld(),It=Y.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),i.zoomToCursor=!1;It!==null&&(i.screenSpacePanning?i.target.set(0,0,-1).transformDirection(i.object.matrix).multiplyScalar(It).add(i.object.position):(G0.origin.copy(i.object.position),G0.direction.set(0,0,-1).transformDirection(i.object.matrix),Math.abs(i.object.up.dot(G0.direction))<Hj?e.lookAt(i.target):(_6.setFromNormalAndCoplanarPoint(i.object.up,i.target),G0.intersectPlane(_6,i.target))))}else i.object instanceof Wo&&i.object.isOrthographicCamera&&(en=p!==1,en&&(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/p)),i.object.updateProjectionMatrix()));return p=1,R=!1,en||Re.distanceToSquared(i.object.position)>h||8*(1-ce.dot(i.object.quaternion))>h?(i.dispatchEvent(r),Re.copy(i.object.position),ce.copy(i.object.quaternion),en=!1,!0):!1}})(),this.connect=Y=>{i.domElement=Y,i.domElement.style.touchAction="none",i.domElement.addEventListener("contextmenu",Ee),i.domElement.addEventListener("pointerdown",D),i.domElement.addEventListener("pointercancel",ue),i.domElement.addEventListener("wheel",Ye)},this.dispose=()=>{var Y,me,ze,j,Re,ce;i.domElement&&(i.domElement.style.touchAction="auto"),(Y=i.domElement)==null||Y.removeEventListener("contextmenu",Ee),(me=i.domElement)==null||me.removeEventListener("pointerdown",D),(ze=i.domElement)==null||ze.removeEventListener("pointercancel",ue),(j=i.domElement)==null||j.removeEventListener("wheel",Ye),(Re=i.domElement)==null||Re.ownerDocument.removeEventListener("pointermove",ee),(ce=i.domElement)==null||ce.ownerDocument.removeEventListener("pointerup",ue),i._domElementKeyEvents!==null&&i._domElementKeyEvents.removeEventListener("keydown",Ne)};const i=this,r={type:"change"},s={type:"start"},o={type:"end"},a={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=a.NONE;const h=1e-6,f=new lx,d=new lx;let p=1;const m=new B,y=new ge,w=new ge,S=new ge,g=new ge,x=new ge,M=new ge,E=new ge,C=new ge,P=new ge,I=new B,L=new ge;let R=!1;const A=[],k={};function X(){return 2*Math.PI/60/60*i.autoRotateSpeed}function q(){return Math.pow(.95,i.zoomSpeed)}function ne(Y){i.reverseOrbit||i.reverseHorizontalOrbit?d.theta+=Y:d.theta-=Y}function se(Y){i.reverseOrbit||i.reverseVerticalOrbit?d.phi+=Y:d.phi-=Y}const te=(()=>{const Y=new B;return function(ze,j){Y.setFromMatrixColumn(j,0),Y.multiplyScalar(-ze),m.add(Y)}})(),le=(()=>{const Y=new B;return function(ze,j){i.screenSpacePanning===!0?Y.setFromMatrixColumn(j,1):(Y.setFromMatrixColumn(j,0),Y.crossVectors(i.object.up,Y)),Y.multiplyScalar(ze),m.add(Y)}})(),U=(()=>{const Y=new B;return function(ze,j){const Re=i.domElement;if(Re&&i.object instanceof Mn&&i.object.isPerspectiveCamera){const ce=i.object.position;Y.copy(ce).sub(i.target);let ve=Y.length();ve*=Math.tan(i.object.fov/2*Math.PI/180),te(2*ze*ve/Re.clientHeight,i.object.matrix),le(2*j*ve/Re.clientHeight,i.object.matrix)}else Re&&i.object instanceof Wo&&i.object.isOrthographicCamera?(te(ze*(i.object.right-i.object.left)/i.object.zoom/Re.clientWidth,i.object.matrix),le(j*(i.object.top-i.object.bottom)/i.object.zoom/Re.clientHeight,i.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),i.enablePan=!1)}})();function W(Y){i.object instanceof Mn&&i.object.isPerspectiveCamera||i.object instanceof Wo&&i.object.isOrthographicCamera?p=Y:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function H(Y){W(p/Y)}function Z(Y){W(p*Y)}function de(Y){if(!i.zoomToCursor||!i.domElement)return;R=!0;const me=i.domElement.getBoundingClientRect(),ze=Y.clientX-me.left,j=Y.clientY-me.top,Re=me.width,ce=me.height;L.x=ze/Re*2-1,L.y=-(j/ce)*2+1,I.set(L.x,L.y,1).unproject(i.object).sub(i.object.position).normalize()}function Te(Y){return Math.max(i.minDistance,Math.min(i.maxDistance,Y))}function ie(Y){y.set(Y.clientX,Y.clientY)}function _e(Y){de(Y),E.set(Y.clientX,Y.clientY)}function we(Y){g.set(Y.clientX,Y.clientY)}function Ae(Y){w.set(Y.clientX,Y.clientY),S.subVectors(w,y).multiplyScalar(i.rotateSpeed);const me=i.domElement;me&&(ne(2*Math.PI*S.x/me.clientHeight),se(2*Math.PI*S.y/me.clientHeight)),y.copy(w),i.update()}function tt(Y){C.set(Y.clientX,Y.clientY),P.subVectors(C,E),P.y>0?H(q()):P.y<0&&Z(q()),E.copy(C),i.update()}function dt(Y){x.set(Y.clientX,Y.clientY),M.subVectors(x,g).multiplyScalar(i.panSpeed),U(M.x,M.y),g.copy(x),i.update()}function $e(Y){de(Y),Y.deltaY<0?Z(q()):Y.deltaY>0&&H(q()),i.update()}function vt(Y){let me=!1;switch(Y.code){case i.keys.UP:U(0,i.keyPanSpeed),me=!0;break;case i.keys.BOTTOM:U(0,-i.keyPanSpeed),me=!0;break;case i.keys.LEFT:U(i.keyPanSpeed,0),me=!0;break;case i.keys.RIGHT:U(-i.keyPanSpeed,0),me=!0;break}me&&(Y.preventDefault(),i.update())}function wt(){if(A.length==1)y.set(A[0].pageX,A[0].pageY);else{const Y=.5*(A[0].pageX+A[1].pageX),me=.5*(A[0].pageY+A[1].pageY);y.set(Y,me)}}function Qe(){if(A.length==1)g.set(A[0].pageX,A[0].pageY);else{const Y=.5*(A[0].pageX+A[1].pageX),me=.5*(A[0].pageY+A[1].pageY);g.set(Y,me)}}function z(){const Y=A[0].pageX-A[1].pageX,me=A[0].pageY-A[1].pageY,ze=Math.sqrt(Y*Y+me*me);E.set(0,ze)}function Le(){i.enableZoom&&z(),i.enablePan&&Qe()}function Se(){i.enableZoom&&z(),i.enableRotate&&wt()}function Ce(Y){if(A.length==1)w.set(Y.pageX,Y.pageY);else{const ze=We(Y),j=.5*(Y.pageX+ze.x),Re=.5*(Y.pageY+ze.y);w.set(j,Re)}S.subVectors(w,y).multiplyScalar(i.rotateSpeed);const me=i.domElement;me&&(ne(2*Math.PI*S.x/me.clientHeight),se(2*Math.PI*S.y/me.clientHeight)),y.copy(w)}function ye(Y){if(A.length==1)x.set(Y.pageX,Y.pageY);else{const me=We(Y),ze=.5*(Y.pageX+me.x),j=.5*(Y.pageY+me.y);x.set(ze,j)}M.subVectors(x,g).multiplyScalar(i.panSpeed),U(M.x,M.y),g.copy(x)}function Je(Y){const me=We(Y),ze=Y.pageX-me.x,j=Y.pageY-me.y,Re=Math.sqrt(ze*ze+j*j);C.set(0,Re),P.set(0,Math.pow(C.y/E.y,i.zoomSpeed)),H(P.y),E.copy(C)}function Me(Y){i.enableZoom&&Je(Y),i.enablePan&&ye(Y)}function F(Y){i.enableZoom&&Je(Y),i.enableRotate&&Ce(Y)}function D(Y){var me,ze;i.enabled!==!1&&(A.length===0&&((me=i.domElement)==null||me.ownerDocument.addEventListener("pointermove",ee),(ze=i.domElement)==null||ze.ownerDocument.addEventListener("pointerup",ue)),Ge(Y),Y.pointerType==="touch"?st(Y):xe(Y))}function ee(Y){i.enabled!==!1&&(Y.pointerType==="touch"?ct(Y):fe(Y))}function ue(Y){var me,ze,j;at(Y),A.length===0&&((me=i.domElement)==null||me.releasePointerCapture(Y.pointerId),(ze=i.domElement)==null||ze.ownerDocument.removeEventListener("pointermove",ee),(j=i.domElement)==null||j.ownerDocument.removeEventListener("pointerup",ue)),i.dispatchEvent(o),l=a.NONE}function xe(Y){let me;switch(Y.button){case 0:me=i.mouseButtons.LEFT;break;case 1:me=i.mouseButtons.MIDDLE;break;case 2:me=i.mouseButtons.RIGHT;break;default:me=-1}switch(me){case Ua.DOLLY:if(i.enableZoom===!1)return;_e(Y),l=a.DOLLY;break;case Ua.ROTATE:if(Y.ctrlKey||Y.metaKey||Y.shiftKey){if(i.enablePan===!1)return;we(Y),l=a.PAN}else{if(i.enableRotate===!1)return;ie(Y),l=a.ROTATE}break;case Ua.PAN:if(Y.ctrlKey||Y.metaKey||Y.shiftKey){if(i.enableRotate===!1)return;ie(Y),l=a.ROTATE}else{if(i.enablePan===!1)return;we(Y),l=a.PAN}break;default:l=a.NONE}l!==a.NONE&&i.dispatchEvent(s)}function fe(Y){if(i.enabled!==!1)switch(l){case a.ROTATE:if(i.enableRotate===!1)return;Ae(Y);break;case a.DOLLY:if(i.enableZoom===!1)return;tt(Y);break;case a.PAN:if(i.enablePan===!1)return;dt(Y);break}}function Ye(Y){i.enabled===!1||i.enableZoom===!1||l!==a.NONE&&l!==a.ROTATE||(Y.preventDefault(),i.dispatchEvent(s),$e(Y),i.dispatchEvent(o))}function Ne(Y){i.enabled===!1||i.enablePan===!1||vt(Y)}function st(Y){switch(pt(Y),A.length){case 1:switch(i.touches.ONE){case ka.ROTATE:if(i.enableRotate===!1)return;wt(),l=a.TOUCH_ROTATE;break;case ka.PAN:if(i.enablePan===!1)return;Qe(),l=a.TOUCH_PAN;break;default:l=a.NONE}break;case 2:switch(i.touches.TWO){case ka.DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;Le(),l=a.TOUCH_DOLLY_PAN;break;case ka.DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;Se(),l=a.TOUCH_DOLLY_ROTATE;break;default:l=a.NONE}break;default:l=a.NONE}l!==a.NONE&&i.dispatchEvent(s)}function ct(Y){switch(pt(Y),l){case a.TOUCH_ROTATE:if(i.enableRotate===!1)return;Ce(Y),i.update();break;case a.TOUCH_PAN:if(i.enablePan===!1)return;ye(Y),i.update();break;case a.TOUCH_DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;Me(Y),i.update();break;case a.TOUCH_DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;F(Y),i.update();break;default:l=a.NONE}}function Ee(Y){i.enabled!==!1&&Y.preventDefault()}function Ge(Y){A.push(Y)}function at(Y){delete k[Y.pointerId];for(let me=0;me<A.length;me++)if(A[me].pointerId==Y.pointerId){A.splice(me,1);return}}function pt(Y){let me=k[Y.pointerId];me===void 0&&(me=new ge,k[Y.pointerId]=me),me.set(Y.pageX,Y.pageY)}function We(Y){const me=Y.pointerId===A[0].pointerId?A[1]:A[0];return k[me.pointerId]}this.dollyIn=(Y=q())=>{Z(Y),i.update()},this.dollyOut=(Y=q())=>{H(Y),i.update()},this.getScale=()=>p,this.setScale=Y=>{W(Y),i.update()},this.getZoomScale=()=>q(),t!==void 0&&this.connect(t),this.update()}};const Wj=G.forwardRef(({makeDefault:n,camera:e,regress:t,domElement:i,enableDamping:r=!0,keyEvents:s=!1,onChange:o,onStart:a,onEnd:l,...h},f)=>{const d=_o(P=>P.invalidate),p=_o(P=>P.camera),m=_o(P=>P.gl),y=_o(P=>P.events),w=_o(P=>P.setEvents),S=_o(P=>P.set),g=_o(P=>P.get),x=_o(P=>P.performance),M=e||p,E=i||y.connected||m.domElement,C=G.useMemo(()=>new Gj(M),[M]);return zC(()=>{C.enabled&&C.update()},-1),G.useEffect(()=>(s&&C.connect(s===!0?E:s),C.connect(E),()=>void C.dispose()),[s,E,t,C,d]),G.useEffect(()=>{const P=R=>{d(),t&&x.regress(),o&&o(R)},I=R=>{a&&a(R)},L=R=>{l&&l(R)};return C.addEventListener("change",P),C.addEventListener("start",I),C.addEventListener("end",L),()=>{C.removeEventListener("start",I),C.removeEventListener("end",L),C.removeEventListener("change",P)}},[o,a,l,C,d,w]),G.useEffect(()=>{if(n){const P=g().controls;return S({controls:C}),()=>S({controls:P})}},[n,C]),G.createElement("primitive",px({ref:f,object:C,enableDamping:r},h))}),jj=({position:n,size:e,speed:t,color:i})=>{const r=G.useRef();return zC(s=>{r.current&&(r.current.position.z+=t,r.current.position.z>5&&(r.current.position.z=-30,r.current.position.x=(Math.random()-.5)*30,r.current.position.y=(Math.random()-.5)*30))}),N.jsxs("mesh",{ref:r,position:n,children:[N.jsx("sphereGeometry",{args:[e,8,8]}),N.jsx("meshBasicMaterial",{color:i})]})},Xj=({count:n=300})=>{const{theme:e}=a1(),t=e==="dark"?[new ke("#10b981"),new ke("#34d399"),new ke("#6ee7b7"),new ke("#a7f3d0")]:[new ke("#047857"),new ke("#059669"),new ke("#10b981"),new ke("#34d399")],i=G.useMemo(()=>{const r=[];for(let s=0;s<n;s++){const o=[(Math.random()-.5)*30,(Math.random()-.5)*30,Math.random()-30],a=Math.random()*.1+.05,l=Math.random()*.05+.02,h=Math.floor(Math.random()*t.length),f=t[h];r.push({position:o,size:a,speed:l,color:f,id:s})}return r},[n]);return N.jsxs(N.Fragment,{children:[N.jsx("ambientLight",{intensity:e==="dark"?.2:.5}),i.map(r=>N.jsx(jj,{position:r.position,size:r.size,speed:r.speed,color:r.color},r.id))]})},qj=()=>{const{theme:n}=a1(),e=G.useRef(),t=n==="dark"?"rgba(15, 23, 42, 0)":"rgba(255, 255, 255, 0)";return N.jsx("div",{ref:e,className:"fixed inset-0 -z-5 pointer-events-none",style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",overflow:"hidden"},children:N.jsxs(Uj,{camera:{position:[0,0,5],fov:60},style:{background:t},children:[N.jsx(Wj,{enableZoom:!1,enablePan:!1,enableRotate:!1}),N.jsx(Xj,{count:300})]})})},Yj=()=>{const n=[{icon:N.jsx(vb,{className:"w-5 h-5"}),url:"mailto:contact@akraou.dev",label:"Email"},{icon:N.jsx(I3,{className:"w-5 h-5"}),url:"https://github.com/ayoub-akraou",label:"GitHub"},{icon:N.jsx(gb,{className:"w-5 h-5"}),url:"https://www.linkedin.com/in/ayoub-akraou/",label:"LinkedIn"},{icon:N.jsx(Mb,{className:"w-5 h-5"}),url:"https://www.codewars.com/users/ayoub-akraou",label:"Codewars"}],e={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.3}}},t={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{type:"spring",stiffness:300,damping:24}}};return N.jsx("div",{className:"hidden sm:block z-50 fixed top-1/2 -translate-y-1/2 right-2 py-3 overflow-hidden",children:N.jsx(yt.div,{className:"flex flex-col items-center",initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.3},variants:e,children:N.jsx(yt.div,{className:"flex flex-col gap-4",variants:e,children:n.map((i,r)=>N.jsx(yt.a,{href:i.url,target:"_blank",rel:"noopener noreferrer","aria-label":i.label,whileHover:{scale:1.1,y:-5},whileTap:{scale:.95},className:"p-2 rounded-full bg-card text-foreground hover:text-primary transition-all duration-300 shadow-md border border-border/50 animated-border",variants:t,children:i.icon},r))})})})};function Zj(){const n=Jc(),{theme:e}=a1(),[t,i]=G.useState(!0);G.useEffect(()=>{const o=setTimeout(()=>{i(!1)},2e3);return()=>clearTimeout(o)},[]);const[r,s]=G.useState(!1);return G.useEffect(()=>{window.scrollTo(0,0),s(!0);const o=setTimeout(()=>{s(!1)},800);return()=>clearTimeout(o)},[n.pathname]),N.jsxs("div",{className:`min-h-screen ${e==="dark"?"dark":""}`,children:[N.jsx(qy,{children:(t||r)&&N.jsx(bk,{loading:t||r})}),N.jsx(G.Suspense,{fallback:null,children:N.jsx(qj,{})}),N.jsxs("div",{className:"fixed inset-0 -z-10 bg-background opacity-80",children:[N.jsx("div",{className:"absolute top-0 right-0 w-1/3 h-1/3 bg-primary/5 rounded-full blur-3xl animate-pulse-slow"}),N.jsx("div",{className:"absolute bottom-0 left-0 w-1/2 h-1/2 bg-accent/5 rounded-full blur-3xl animate-pulse-slow"})]}),N.jsx(FU,{}),N.jsx("main",{className:"container mx-auto max-w-5xl px-4 sm:px-8 pt-20 pb-16 relative z-10",children:N.jsx(qy,{mode:"wait",children:!t&&N.jsxs(K7,{location:n,children:[N.jsx(Ku,{path:"/",element:N.jsx(jU,{})}),N.jsx(Ku,{path:"/about",element:N.jsx(wk,{})}),N.jsx(Ku,{path:"/projects",element:N.jsx(Ek,{})}),N.jsx(Ku,{path:"/contact",element:N.jsx(Tk,{})})]},n.pathname)})}),N.jsx(Yj,{}),N.jsx(Ak,{})]})}O2.createRoot(document.getElementById("root")).render(N.jsx(er.StrictMode,{children:N.jsx(rI,{children:N.jsx(OU,{children:N.jsx(Zj,{})})})}));
